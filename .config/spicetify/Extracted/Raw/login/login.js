(()=>{var e,n={61259:(e,n,t)=>{"use strict";var r={};t.r(r),t.d(r,{ENTER_LOGIN_MODE:()=>N,ENTER_SETTINGS_MODE:()=>O,ENTER_SIGNUP_MODE:()=>b,ENTER_SIGNUP_MODE_STEP_0:()=>D,ENTER_SIGNUP_MODE_STEP_1:()=>_,ENTER_WELCOME_MODE:()=>A,INTERACTION:()=>T,START_APP:()=>S,enterLoginMode:()=>w,enterSettingsMode:()=>L,enterSignupMode:()=>C,enterSignupModeStep0:()=>I,enterSignupModeStep1:()=>P,enterWelcomeMode:()=>R,interaction:()=>U,openSignupPage:()=>x,startApp:()=>F});var i={};t.r(i),t.d(i,{ABORT_LOGIN_TYPE_ACCOUNTS:()=>me,ACCOUNTS_METHODS:()=>he,LOADING:()=>se,LOGIN_BEFORE:()=>re,LOGIN_CLEAR_ERRORS:()=>ae,LOGIN_FAIL:()=>oe,LOGIN_SUCCESS:()=>ie,LOGIN_TYPE_ACCOUNTS:()=>fe,LOGIN_TYPE_AUTOLOGIN:()=>pe,LOGIN_TYPE_EMAIL:()=>ue,LOGIN_TYPE_FACEBOOK:()=>ce,LOGIN_TYPE_FACEBOOK_POPUP:()=>de,UTM_PARAMETERS:()=>le,abortLoginWithAccounts:()=>_e,fetchUTMParameters:()=>Ae,loading:()=>ye,login:()=>be,loginClearErrors:()=>Te,loginFailed:()=>ke,loginSuccess:()=>Ee,loginWithAccounts:()=>De,loginWithFacebookPopup:()=>Ne,receivedUTMParameters:()=>Oe});var a={};t.r(a),t.d(a,{CLEAR_ALL_ERRORS:()=>on,COUNTRY_NOT_LAUNCHED:()=>an,FACEBOOK_SIGNUP_ATTEMPT:()=>Ze,FACEBOOK_SIGNUP_FAILURE:()=>Qe,FACEBOOK_SIGNUP_SUCCESS:()=>$e,SIGNUP_ATTEMPT:()=>qe,SIGNUP_FAILURE:()=>Xe,SIGNUP_RESTRICTIONS_FAILURE:()=>Je,SIGNUP_RESTRICTIONS_SUCCESS:()=>Ke,SIGNUP_SUCCESS:()=>ze,UPDATE_SIGNUP_DATA:()=>rn,VALIDATE_FIELD_ATTEMPT:()=>en,VALIDATE_FIELD_FAILURE:()=>nn,VALIDATE_FIELD_SUCCESS:()=>tn,clearAllErrors:()=>Nn,countryNotLaunched:()=>_n,facebookSignup:()=>vn,facebookSignupFailure:()=>kn,facebookSignupSuccess:()=>En,getSignupRestrictions:()=>sn,signup:()=>cn,signupAttempt:()=>pn,signupFailure:()=>mn,signupRestrictionsFailure:()=>un,signupRestrictionsSuccess:()=>ln,signupSuccess:()=>fn,signupWithAccounts:()=>gn,updateSignupData:()=>Dn,validateField:()=>dn,validateFieldAttempt:()=>yn,validateFieldFailure:()=>Sn,validateFieldSuccess:()=>bn});var o={};t.r(o),t.d(o,{SETTINGS_FETCH_PROXY_SETTINGS_FAILURE:()=>$n,SETTINGS_FETCH_PROXY_SETTINGS_SUCCESS:()=>Zn,SETTINGS_RESTART_CLIENT_FAILURE:()=>tt,SETTINGS_RESTART_CLIENT_SUCCESS:()=>nt,SETTINGS_UPDATE_PROXY_SETTINGS_FAILURE:()=>et,SETTINGS_UPDATE_PROXY_SETTINGS_SUCCESS:()=>Qn,fetchProxySettings:()=>rt,restartClient:()=>at,updateProxySettings:()=>it});var s=t(59713),l=t.n(s),u=t(48926),c=t.n(u),d=t(87757),p=t.n(d),f=(t(41539),t(88674),t(74916),t(64765),t(24603),t(39714),t(4723),t(23157),t(67294)),m=t.n(f),h=t(73935),g=t.n(h),v=t(57209),E=t(65858),k=t(2976),y=t(30685),S=(t(47941),t(82526),t(57327),t(38880),t(89554),t(54747),t(49337),t(33321),t(69070),t(85827),t(92222),"START_APP"),b="ENTER_SIGNUP_MODE",D="ENTER_SIGNUP_MODE_STEP_0",_="ENTER_SIGNUP_MODE_STEP_1",N="ENTER_LOGIN_MODE",A="ENTER_WELCOME_MODE",O="ENTER_SETTINGS_MODE",T="INTERACTION";function F(){return{type:S}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:b,actionHash:e}}function I(){return{type:D}}function P(){return{type:_}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:N,actionHash:e}}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:A,errorMessage:e}}function L(){return{type:O}}function x(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,t){var r,i=t(),a={};switch(e?"website":"desktop-app"){case"desktop-app":n(C());break;case"website":a=i.login.utmParameters||{utm_source:"spotify",utm_medium:"desktop-unknown",utm_campaign:"organic",referral:""};var o=Object.keys(a).reduce((function(e,n){return e[n]=encodeURIComponent(a[n]),e}),{});r="https://www.spotify.com/signup?utm_source=".concat(o.utm_source,"&utm_medium=").concat(o.utm_medium,"&utm_campaign=").concat(o.utm_campaign),o.referral&&(r+="&referral=".concat(o.referral,"&referrer=").concat(o.referral)),window.open(r)}}}function U(e,n,t,r,i){return{type:T,page:e,interactionType:n,intent:t,itemId:r,actionHash:i}}const M=function(e){return t.g&&"function"==typeof t.g._getSpotifyModule?new Promise((function(n,r){t.g._getSpotifyModule("bridge").executeRequest(JSON.stringify(e),{onSuccess:n,onFailure:r})})):null};var B="https://www.spotify.com/redirect/account-page/",G="showSettings",V={id:"UnknownLoginErrorMessage"},j={id:"DefaultErrorMessage",replace:[G]},W={id:"FbFailureOpenPopup",silent:!0},H={127:{id:"SessionTerminatedMessage"},3:{id:"BadCredentialsMessage"},4:{id:"ErrorResolvingDNS"},53:{id:"ErrorProxyUnauthorized"},54:{id:"ErrorProxyForbidden"},55:{id:"ErrorProxyAuthRequired",replace:[G]},400:V,401:V,402:{id:"CriticalUpdate"},403:{id:"UserBannedMessage"},404:V,405:V,406:{id:"UserNotAllowedOnPlatformMessage"},407:{id:"MissingUserInfoMessage",replace:[B]},408:{id:"RegionMismatchMessage",replace:[B,"https://www.spotify.com/redirect/upgrade-product/"]},409:{id:"PremiumUsersOnlyMessage"},410:{id:"BadCredentialsMessage"},411:V,412:{id:"BadCredentialsMessage"},413:{id:"CreateUserDeniedMessage"},414:V,415:V,416:V,417:{id:"FacebookCredentialsMisusedMessage"},418:V,"critical-update-error":{id:"ClientUpdateFail",replace:["https://www.spotify.com/redirect/download/"]},1001:{silent:!0},1002:W,1003:{id:"FbUserNotFoundSignUp",replace:["showSignup"]},1004:W,1005:W,1006:W},Y={1:V,2:V,3:{id:"BadCredentialsMessage"},4:V,5:V,6:V,7:V,8:V,9:V},K={1:{silent:!0},2:V,3:V,4:{id:"SessionExpiredMessage"},5:j};const J=window.localStorage;function q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function X(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?q(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var z="lastUsername",Z="THIS_USER_DOES_NOT_EXIST_AND_IS_A_PLACEHOLDER",$="utmParameters",Q=J.getItem($),ee=J.getItem(z),ne={errorData:null,loginInProgress:!1,redirectTo:null,username:ee!==Z?ee:"",utmParameters:Q?JSON.parse(Q):null};const te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case lt.LOADING:return X(X({},e),{},{loading:!0,throbberDelay:n.throbberDelay});case lt.LOGIN_FAIL:return X(X({},e),{},{loading:!1,errorData:n.errorData,loggedIn:!1,loginInProgress:!1});case lt.LOGIN_BEFORE:return X(X({},e),{},{errorData:n.errorData,loggedIn:!1,loginInProgress:n.loginInProgress,username:n.username});case lt.LOGIN_SUCCESS:return X(X({},e),{},{loading:!1,loggedIn:!0,redirectDelay:n.redirectDelay||0,redirectTo:n.redirectTo,username:n.username});case lt.UTM_PARAMETERS:return X(X({},e),{},{utmParameters:n.utmParameters});case lt.LOGIN_CLEAR_ERRORS:return X(X({},e),{},{errorData:null});default:return e}};var re="LOGIN_BEFORE",ie="LOGIN_SUCCESS",ae="LOGIN_CLEAR_ERRORS",oe="LOGIN_FAIL",se="LOADING",le="UTM_PARAMETERS",ue="login",ce="login-facebook",de="login-facebook-popup",pe="autologin",fe="login-accounts",me="abort-login-accounts",he={facebook:"facebook",apple:"apple",google:"google"},ge=200;function ve(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue;return{type:re,errorData:null,username:e||"",loginInProgress:n===ue,loginType:n}}function Ee(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return{type:ie,errorData:null,redirectTo:i,redirectDelay:n||0,username:e,loginType:t,afterSignup:r}}function ke(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue;return{type:oe,errorData:e,loginType:n}}function ye(e){return{type:se,throbberDelay:e&&e.throbberDelay?e.throbberDelay:0}}var Se=function(){var e=c()(p().mark((function e(n,t){var r,i,a,o,s,l,u,c,d,f,m,h,g=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.length>2&&void 0!==g[2]?g[2]:{},i=r.defaultErrorCode,a=r.redirectDelay,o=void 0===a?0:a,s=g.length>3&&void 0!==g[3]?g[3]:ue,l=g.length>4&&void 0!==g[4]&&g[4],u=g.length>5&&void 0!==g[5]?g[5]:null,c=!(g.length>6&&void 0!==g[6])||g[6],u&&(t.args=t.args||[],t.args[0]=t.args[0]||{},t.args[0].actionHash=u),e.prev=6,e.t0=JSON,e.next=10,M(t);case 10:e.t1=e.sent,d=e.t0.parse.call(e.t0,e.t1),f=d.redirectTo||"xpui",m=null,t&&t.args&&t.args[0]&&(m=t.args[0].username),n(Ee(c?m:Z,o,s,l,f)),e.next=23;break;case 18:e.prev=18,e.t2=e.catch(6),h=e.t2,i?h={errorCode:i}:"string"==typeof e.t2&&(h=JSON.parse(e.t2)),h.errorCode&&H[h.errorCode]&&"FbFailureOpenPopup"===H[h.errorCode].id?n(Ne(u)):n(ke(h,s));case 23:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(n,t){return e.apply(this,arguments)}}();function be(e){var n=e.username,t=e.password,r=e.rememberMe,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(e){var o=i?pe:ue;e(ve(r?n:Z,o)),Se(e,{name:ue,args:[{username:n,password:t,rememberMe:r}]},{redirectDelay:ge},o,i,a,r)}}function De(e,n){return function(t){t(ve(null,fe)),Se(t,{name:fe,args:[{method:e,enableSignup:!1}]},{redirectDelay:ge},fe,!1,n)}}function _e(){return c()(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M({name:me,args:[]});case 2:case"end":return e.stop()}}),e)})))}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(n){n(ve(null,ce)),Se(n,{name:de,args:[]},{redirectDelay:ge},ce,!1,e)}}function Ae(){return function(){var e=c()(p().mark((function e(n){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:"get-signup-utm-parameters",args:[]},e.t0=n,e.t1=Oe,e.t2=JSON,e.next=6,M(t);case 6:e.t3=e.sent,e.t4=e.t2.parse.call(e.t2,e.t3),e.t5=(0,e.t1)(e.t4),(0,e.t0)(e.t5);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}function Oe(e){return{type:le,utmParameters:e}}function Te(){return{type:ae}}var Fe=t(6479),Ce=t.n(Fe),Ie=t(319),Pe=t.n(Ie),we=(t(82772),t(83710),t(66992),t(51532),t(78783),t(33948),t(2707),t(69720),t(68309),t(23123),t(69600),t(88495)),Re=t.n(we),Le=["errors"];function xe(){var e="undefined"!=typeof window&&window.__spotify&&window.__spotify.DESKTOP_SIGNUP_DEBUG_KEY;return e||"4c7a36d5260abca4af282779720cf631"}function Ue(){var e="undefined"!=typeof window&&window.__spotify&&window.__spotify.client_version||"";if(!e)throw new Error("Missing Spotify App Version! Something is wrong: talk to #desktop-squad.");return["Spotify-App-Version",e]}function Me(){var e="undefined"!=typeof window&&window.navigator&&window.navigator.platform||"",n="";if(-1!==e.indexOf("Mac")?n="OSX":-1!==e.indexOf("Win")?n="Win32":-1!==e.indexOf("Linux")&&(n="Linux"),!n)throw new Error("Missing App Platform! Something is wrong: talk to #desktop-squad.");return["App-Platform",n]}function Be(e){var n=new Map(Object.entries(e).sort()),t=function(e){var n=Re().create();return e.forEach((function(e){void 0!==e&&n.update(e.toString())})),n.hex()}(n);if(n.size>t.length)return n;var r=Pe()(n),i=Pe()(Array(n.size).keys()).sort((function(e,n){var i=t.charAt(e).localeCompare(t.charAt(n));return 0!==i?i:r[e][0].localeCompare(r[n][0])})),a=new Map;return i.forEach((function(e){a.set(r[e][0],r[e][1])})),a}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,t=e.email,r=e.password,i=e.gender,a=e.birthDate,o=void 0===a?{}:a,s=e.sendEmail,l=e.shareData,u=e.agreeEula,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{utm_source:"spotify",utm_medium:"desktop-unknown",utm_campaign:"organic",referral:""},d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=Object.keys(c).reduce((function(e,n){return e[n]=encodeURIComponent(c[n]),e}),{}),f="https://login.app.spotify.com?utm_source=".concat(p.utm_source,"&utm_medium=").concat(p.utm_medium,"&utm_campaign=").concat(p.utm_campaign);p.referral&&(f+="&referral=".concat(p.referral,"&referrer=").concat(p.referral));var m={key:xe(),displayname:n,email:t,password:r,password_repeat:r,gender:i,birth_year:o.year,birth_month:o.month,birth_day:o.day,iagree:u?1:0,creation_point:f,creation_flow:"desktop",platform:"desktop",referrer:p.referral};return"boolean"==typeof s&&(m["send-email"]=s),"boolean"==typeof l&&(m.thirdpartyemail=l),d&&Object.keys(m).forEach((function(e){void 0===m[e]&&delete m[e]})),Be(m)}var Ve=function(e,n){var t=e.headers.get("content-type");e.headers.set("content-type",function(e,n){return[].concat(Pe()(e.split(";")),[n]).join(";")}(t,n))},je=function(e){return function(){var n=c()(p().mark((function n(t,r,i){var a,o,s,l,u,c,d,f,m;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Ge(t,r,i),o=new FormData,a.forEach((function(e,n){o.append(n,e)})),s=[Ue(),Me()].reduce((function(e,n){return e[n[0]]=n[1],e}),{}),l={method:"POST",body:o,headers:{"App-Platform":s["App-Platform"],"Spotify-App-Version":s["Spotify-App-Version"],"X-Client-Id":{NODE_ENV:"production",DEBUG_EVENT_SENDER:!1,DEBUG_SEMANTIC_METRICS:void 0,PRODUCT_NAME:"desktop"}.SPOTIFY_CLIENT_ID}},u=new Request(e,l),Ve(u,"charset=utf-8"),n.next=9,fetch(u);case 9:return c=n.sent,n.next=12,c.json();case 12:if(n.t0=n.sent,n.t0){n.next=15;break}n.t0={};case 15:if(d=n.t0,f=d.errors,m=Ce()(d,Le),!f){n.next=20;break}throw f;case 20:return n.abrupt("return",m);case 21:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()},We=je("https://spclient.wg.spotify.com/signup/public/v1/account/"),He=je("https://spclient.wg.spotify.com/signup/public/v1/account/?validate=true"),Ye=function(){var e=c()(p().mark((function e(){var n,t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://spclient.wg.spotify.com/signup/public/v1/account/?validate=1");case 2:return n=e.sent,e.next=5,n.json();case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0={};case 8:if(!((t=e.t0).errors&&t.errors.length>0)){e.next=11;break}throw t.errors;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var Ke="SIGNUP_RESTRICTIONS_SUCCESS",Je="SIGNUP_RESTRICTIONS_FAILURE",qe="SIGNUP_ATTEMPT",Xe="SIGNUP_FAILURE",ze="SIGNUP_SUCCESS",Ze="FACEBOOK_SIGNUP_ATTEMPT",$e="FACEBOOK_SIGNUP_SUCCESS",Qe="FACEBOOK_SIGNUP_FAILURE",en="VALIDATE_FIELD_ATTEMPT",nn="VALIDATE_FIELD_FAILURE",tn="VALIDATE_FIELD_SUCCESS",rn="UPDATE_SIGNUP_DATA",an="COUNTRY_NOT_LAUNCHED",on="CLEAR_ALL_ERRORS";function sn(){return function(){var e=c()(p().mark((function e(n,t){var r,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t(),e.prev=1,!window.__spotify||!0!==window.__spotify.is_running_on_teamcity){e.next=6;break}e.t0={},e.next=9;break;case 6:return e.next=8,Ye();case 8:e.t0=e.sent;case 9:i=e.t0,n(ln(i)),e.next=17;break;case 13:e.prev=13,e.t1=e.catch(1),n(un(e.t1)),r.app&&r.app.mode&&"welcome"!==r.app.mode&&(n(w()),n(x(!0)));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n,t){return e.apply(this,arguments)}}()}function ln(e){return{type:Ke,restrictions:e}}function un(e){return{type:Je,error:e}}function cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(){var n=c()(p().mark((function n(t,r){var i,a,o,s,l;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(pn()),i=r().signup.formData,a=r().login.utmParameters,n.prev=3,n.next=6,We(i,a);case 6:t(fn()),o=i.email,s=i.password,t(be({username:o,password:s,rememberMe:!0},!0,e)),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(3),l={},Object.keys(n.t0).forEach((function(e){l["birthdate"===e?"birthDate":e]={message:n.t0[e]}})),t(mn(l));case 16:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e,t){return n.apply(this,arguments)}}()}function dn(e){return function(){var n=c()(p().mark((function n(t,r){var i,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r().signup.formData[e],a=r().login.utmParameters,t(yn(e,i)),n.prev=3,n.next=6,He(l()({},e,i),a,!0);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(3),n.t0[e]&&t(Sn(e,{message:n.t0[e]}));case 11:case"end":return n.stop()}}),n,null,[[3,8]])})));return function(e,t){return n.apply(this,arguments)}}()}function pn(){return{type:qe}}function fn(){return{type:ze}}function mn(e){return{type:Xe,errors:e}}var hn=function(){var e=c()(p().mark((function e(n,t){var r,i,a,o,s=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=s.length>2&&void 0!==s[2]?s[2]:null)&&(t.args=t.args||[],t.args[0]=t.args[0]||{},t.args[0].actionHash=r),e.prev=2,e.t0=JSON,e.next=6,M(t);case 6:e.t1=e.sent,i=e.t0.parse.call(e.t0,e.t1),a=i.redirectTo||"xpui",n(En()),n(Ee(null,0,pe,!0,a)),e.next=18;break;case 13:e.prev=13,e.t2=e.catch(2),o=e.t2,"string"==typeof e.t2&&(o=JSON.parse(e.t2)),n(kn(o));case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(n,t){return e.apply(this,arguments)}}();function gn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(t){var r={name:fe,args:[{method:e,enableSignup:!0}]};t(vn()),hn(t,r,n)}}function vn(){return{type:Ze}}function En(){return{type:$e}}function kn(e){return{type:Qe,errorData:e}}function yn(e,n){return{type:en,field:e,value:n}}function Sn(e,n){return{type:nn,field:e,error:n}}function bn(e){return{type:tn,field:e}}function Dn(e){return{type:rn,data:e}}function _n(){return{type:an}}function Nn(){return{type:on}}t(26699),t(32023);var An,On,Tn,Fn=t(50008),Cn=t.n(Fn),In=t(34575),Pn=t.n(In),wn=t(93913),Rn=t.n(wn);t(15306),t(91058),t(3843);function Ln(e){return"string"!=typeof e}!function(e){e.af="af",e.am="am",e.ar="ar",e.az="az",e.bg="bz",e.bn="bn",e.bho="bho",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.es419="es-419",e.es="es",e.et="et",e.fa="fa",e.fi="fi",e.fil="fil",e.frCA="fr-CA",e.fr="fr",e.gu="gu",e.he="he",e.hi="hi",e.hr="hr",e.hu="hu",e.id="id",e.is="is",e.it="it",e.ja="ja",e.kn="kn",e.ko="ko",e.lt="lt",e.lv="lv",e.ml="ml",e.mr="mr",e.ms="ms",e.nb="bn",e.ne="ne",e.nl="nl",e.or="or",e.paIN="pa-IN",e.paPK="pa-PK",e.pl="pl",e.ptBR="pt-BR",e.ptPT="pa-PT",e.ro="ro",e.ru="ru",e.sk="sk",e.sl="sl",e.sr="sr",e.sv="sv",e.sw="sw",e.ta="ta",e.te="te",e.th="th_TH",e.tr="tr",e.uk="uk",e.ur="ur",e.vi="vi",e.zhCN="zh-CN",e.zhTW="zh-TW",e.zu="zu"}(An||(An={})),function(e){e.AR="، ",e.FA="، ",e.EN=", "}(On||(On={})),function(e){e.ZERO="zero",e.ONE="one",e.TWO="two",e.FEW="few",e.MANY="many",e.OTHER="other"}(Tn||(Tn={}));var xn={},Un=function(e,n){try{return(xn[e]||(xn[e]=new Intl.PluralRules(e))).select(n)}catch(e){return Tn.OTHER}};function Mn(e){return"number"==typeof e?e.toString():e.replace(/\$/,"$$$$")}var Bn=function(e){return"ar"===e?"ar-u-nu-latn":e};function Gn(e){return{seconds:Math.round(e/1e3),minutes:Math.round(e/1e3/60),hours:Math.round(e/1e3/60/60),days:Math.round(e/1e3/60/60/24)}}var Vn=new(function(){function e(){Pn()(this,e),l()(this,"_locale",void 0),l()(this,"_dictionary",void 0),this._dictionary={},this._locale=An.en}return Rn()(e,[{key:"setDictionary",value:function(e){this._dictionary=e}},{key:"setLocale",value:function(e){this._locale=e}},{key:"getLocale",value:function(){return this._locale}},{key:"toLocaleLowerCase",value:function(e){return null==e?void 0:e.toLocaleLowerCase(this._locale)}},{key:"toLocaleUpperCase",value:function(e){return null==e?void 0:e.toLocaleUpperCase(this._locale)}},{key:"get",value:function(e){for(var n=(e in this._dictionary?this._dictionary[e]:e),t="",r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(Ln(n)){var o=i[0],s=Un(this._locale,parseInt(o,10)),l=n[s];void 0!==l?t=l:n.other&&(t=n.other)}else t=n;if(/%\d%/.test(t)){var u=["desktop.login.DefaultErrorMessage","desktop.login.ErrorProxyAuthRequired","desktop.login.MissingUserInfoMessage","desktop.login.RegionMismatchMessage","desktop.login.ClientUpdateFail","desktop.login.FbUserNotFoundSignUp","desktop.login.errorCode","desktop-auth.error"];if(!u.includes(e))throw new Error("i18n: The placeholder format %0% is legacy and is only allowed for existing strings.")}if((null==i?void 0:i.length)>0)for(var c=0;c<i.length;c++){var d=i[c];if(null!=d)if("string"==typeof d)t=t.replace("{".concat(c,"}"),Mn(d)).replace("%".concat(c,"%"),Mn(d));else if("number"==typeof d){var p=this.formatNumber(d);t=t.replace("{".concat(c,"}"),p).replace("%".concat(c,"%"),p)}else if("object"===Cn()(d))for(var f=0,m=Object.keys(d);f<m.length;f++){var h=m[f],g=d[h];t=t.replace("%".concat(h,"%"),Mn(g))}}return t}},{key:"getSeparator",value:function(){switch(this._locale){case An.ar:return On.AR;case An.fa:return On.FA;default:return On.EN}}},{key:"formatNumber",value:function(e,n){return e.toLocaleString(Bn(this._locale),n)}},{key:"formatNumberCompact",value:function(n,t){var r={notation:"compact",maximumFractionDigits:1};if(t){var i=new e;return i.setLocale(t),i.formatNumber(n,r)}return this.formatNumber(n,r)}},{key:"formatDate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t={year:"numeric",month:"long",day:"numeric"},r=n||t;return new Intl.DateTimeFormat(Bn(this._locale),r).format(e)}},{key:"formatRelativeDate",value:function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new Date(Date.now()),i=(e=new Date(e)).getTime()-r.getTime(),a=Math.abs(i)<2592e6;if(a&&null!==(n=Intl)&&void 0!==n&&n.RelativeTimeFormat){var o=Gn(i),s=o.days,l=o.hours,u=o.minutes,c=o.seconds,d=new Intl.RelativeTimeFormat;return s||l||u?s||l?s?d.format(s,"days"):d.format(l,"hours"):d.format(u,"minutes"):d.format(c,"seconds")}return this.formatDate(e,t)}},{key:"__resetForTests",value:function(){this._dictionary={},this._locale=An.en,xn={}}}]),e}()),jn=2,Wn=3,Hn=4,Yn={"auto-detect":{label:function(){return Vn.get("desktop.settings.proxy.autodetect")}},"no-proxy":{label:function(){return Vn.get("desktop.settings.proxy.noproxy")}},http:{label:function(){return Vn.get("desktop.settings.proxy.http")}},socks4:{label:function(){return Vn.get("desktop.settings.proxy.socks4")}},socks5:{label:function(){return Vn.get("desktop.settings.proxy.socks5")}}},Kn=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}],Jn="sp://proxy/v1/";function qn(){return(qn=c()(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){window.sendCosmosRequest({request:JSON.stringify({method:"GET",uri:Jn}),persistent:!1,onSuccess:function(t){var r=JSON.parse(t);200!==r.status&&n(new Error("Failed to fetch proxy settings (status code: ".concat(r.status,")")));var i=JSON.parse(r.body);e({mode:i["network.proxy.mode"],address:i["network.proxy.addr"],username:i["network.proxy.user"],password:i["network.proxy.pass"]})},onFailure:function(e,t){n(e)}})})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xn(){return(Xn=c()(p().mark((function e(n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var r={"network.proxy.mode":n.mode};[jn,Wn,Hn].includes(n.mode)&&(r["network.proxy.addr"]=n.address,r["network.proxy.user"]=n.username),[jn,Hn].includes(n.mode)&&(r["network.proxy.pass"]=n.password),window.sendCosmosRequest({request:JSON.stringify({method:"PUT",uri:Jn,body:JSON.stringify(r)}),persistent:!1,onSuccess:function(){e()},onFailure:function(e,n){t(e)}})})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zn(){return(zn=c()(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){window.sendCosmosRequest({request:JSON.stringify({method:"POST",uri:"sp://desktop/v1/restart"}),persistent:!1,onSuccess:function(){e()},onFailure:function(e,t){n(e)}})})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zn="SETTINGS_FETCH_PROXY_SETTINGS_SUCCESS",$n="SETTINGS_FETCH_PROXY_SETTINGS_FAILURE",Qn="SETTINGS_UPDATE_PROXY_SETTINGS_SUCCESS",et="SETTINGS_UPDATE_PROXY_SETTINGS_FAILURE",nt="SETTINGS_RESTART_CLIENT_SUCCESS",tt="SETTINGS_RESTART_CLIENT_FAILURE";function rt(){return function(e){(function(){return qn.apply(this,arguments)})().then((function(n){e(function(e){return{type:Zn,data:e}}(n))}),(function(n){e(function(e){return{type:$n,error:e}}(n))}))}}function it(e){return function(n){(function(e){return Xn.apply(this,arguments)})(e).then((function(){n({type:Qn}),n(rt())}),(function(e){n(function(e){return{type:et,error:e}}(e))}))}}function at(){return function(e){(function(){return zn.apply(this,arguments)})().then((function(){e({type:nt})}),(function(n){e(function(e){return{type:tt,error:e}}(n))}))}}function ot(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function st(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ot(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ot(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const lt=st(st(st(st({},r),i),a),o);t(12419);var ut=t(2205),ct=t.n(ut),dt=t(78585),pt=t.n(dt),ft=t(29754),mt=t.n(ft);t(33161),t(9653),t(32564);function ht(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var gt=function(e){ct()(t,e);var n=ht(t);function t(e){var r;return Pn()(this,t),(r=n.call(this,e)).state={hidden:r.props.delay>0},r}return Rn()(t,[{key:"componentDidMount",value:function(){var e=this;!0===this.state.hidden&&(this.throbberTimeout=setTimeout((function(){e.setState({hidden:!1})}),this.props.delay))}},{key:"componentWillUnmount",value:function(){this.throbberTimeout&&clearTimeout(this.throbberTimeout)}},{key:"render",value:function(){return this.state.hidden?null:m().createElement("div",{"data-testid":"glue-throbber",className:"GlueThrobber ".concat(this.props.initial?"throbber-initial":"throbber")},m().createElement("div",null))}}]),t}(m().Component);gt.defaultProps={delay:0,initial:!0};var vt=t(81506),Et=t.n(vt),kt=(t(24812),t(62808)),yt=t.n(kt);function St(){return yt().create().toString()}var bt=t(8455);function Dt(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var _t=function(e){ct()(t,e);var n=Dt(t);function t(e){var r;return Pn()(this,t),(r=n.call(this,e)).handleLoginClick=r.handleLoginClick.bind(Et()(r)),r.handleErrorClick=r.handleErrorClick.bind(Et()(r)),r}return Rn()(t,[{key:"handleLoginClick",value:function(){var e=St();this.props.openLoginPage(e),this.props.onInteraction("login/welcome","click","open-page-login",null,e)}},{key:"handleErrorClick",value:function(e){e.target.getAttribute("data-action")&&("showSettings"===e.target.getAttribute("data-action")&&this.props.openSettingsPage())}},{key:"render",value:function(){var e=this.props.errorMessage;return m().createElement("main",{className:"Welcome","data-testid":"welcome"},m().createElement("h1",{className:"HeroText __welcome"},Vn.get("desktop-auth.login.millions-of-songs"),m().createElement("br",null),Vn.get("desktop-auth.login.free-on-spotify")),m().createElement("div",{className:"Welcome__signup-or-login"},e&&m().createElement("div",{className:"Welcome__error-message",role:"alert",onClick:this.handleErrorClick,"aria-live":"assertive"},m().createElement(bt.Z,{className:"Welcome__error-message__icon"}),m().createElement("span",{dangerouslySetInnerHTML:{__html:e}})),m().createElement("button",{type:"button",className:"Welcome__button button button-green button-large",id:"login-button",onClick:this.handleLoginClick,"data-ta-id":"welcome-login-button","data-testid":"login-button"},Vn.get("desktop.login.LoginButton"))))}}]),t}(m().PureComponent);const Nt=(0,E.$j)((function(e){return{errorMessage:e.app.errorMessage}}),(function(e){return{openLoginPage:function(n){return e(lt.enterLoginMode(n))},openSettingsPage:function(){return e(lt.enterSettingsMode())},onInteraction:function(n,t,r,i,a){return e(lt.interaction(n,t,r,i,a))}}}))(_t);t(5212),t(21249);var At=t(77396),Ot=t(17060),Tt=t(94184),Ft=t.n(Tt);t(69826);function Ct(e,n,t){if(0===n)return!1;if(!e&&!n)return!1;var r=H;switch(e){case"session":r=Y;break;case"desktop_login_accounts":r=K}var i=r[n]||j;if(i.silent)return!1;var a=i.replace||[],o="";switch(i.id){case"UnknownLoginErrorMessage":o=Vn.get("desktop.login.UnknownLoginErrorMessage");break;case"DefaultErrorMessage":o=Vn.get("desktop.login.DefaultErrorMessage",a[0]);break;case"SessionTerminatedMessage":o=Vn.get("desktop.login.SessionTerminatedMessage");break;case"SessionExpiredMessage":o=Vn.get("desktop.login.SessionExpiredMessage");break;case"BadCredentialsMessage":o=Vn.get("desktop.login.BadCredentialsMessage");break;case"ErrorResolvingDNS":o=Vn.get("desktop.login.ErrorResolvingDNS");break;case"ErrorProxyUnauthorized":o=Vn.get("desktop.login.ErrorProxyUnauthorized");break;case"ErrorProxyForbidden":o=Vn.get("desktop.login.ErrorProxyForbidden");break;case"ErrorProxyAuthRequired":o=Vn.get("desktop.login.ErrorProxyAuthRequired",a[0]);break;case"CriticalUpdate":o=Vn.get("desktop.login.CriticalUpdate");break;case"UserBannedMessage":o=Vn.get("desktop.login.UserBannedMessage");break;case"UserNotAllowedOnPlatformMessage":o=Vn.get("desktop.login.UserNotAllowedOnPlatformMessage");break;case"MissingUserInfoMessage":o=Vn.get("desktop.login.MissingUserInfoMessage",a[0]);break;case"RegionMismatchMessage":o=Vn.get("desktop.login.RegionMismatchMessage",a[0],a[1]);break;case"PremiumUsersOnlyMessage":o=Vn.get("desktop.login.PremiumUsersOnlyMessage");break;case"CreateUserDeniedMessage":o=Vn.get("desktop.login.CreateUserDeniedMessage");break;case"ClientUpdateFail":o=Vn.get("desktop.login.ClientUpdateFail",a[0]);break;case"FbUserNotFoundSignUp":o=Vn.get("desktop.login.FbUserNotFoundSignUp",a[0])}return"".concat(o,"<br>").concat(Vn.get("desktop.login.errorCode",t))}function It(e){var n=e.validity,t=void 0===n?{}:n;return t.valid?null:["valueMissing","typeMismatch","tooShort"].find((function(e){return t[e]}))}function Pt(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var wt=function(){return m().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8ZM7.25 3V10H8.75V3H7.25ZM7.25 11.5256V13.0256H8.75V11.5256H7.25Z",fill:"#eb6471"}))},Rt=function(e){ct()(t,e);var n=Pt(t);function t(){return Pn()(this,t),n.apply(this,arguments)}return Rn()(t,[{key:"render",value:function(){var e=this.props.errorMessage;return m().createElement("div",{"aria-live":"polite",className:Ft()("FieldError",{"FieldError--hidden":!e})},m().createElement(wt,null),m().createElement("span",null,e||""))}}]),t}(m().PureComponent);function Lt(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var xt=0;var Ut=function(e){ct()(t,e);var n=Lt(t);function t(){var e;Pn()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).idNumber=++xt,e.handleChange=e.handleChange.bind(Et()(e)),e}return Rn()(t,[{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"render",value:function(){var e=this.props,n=e.label,t=e.placeholderLabel,r=e.name,i=e.type,a=e.isRequired,o=e.taId,s=e.id,l=e.defaultValue,u=e.value,c=e.minLength,d=e.autoFocus,p=e.hasError,f=e.isDisabled,h=e.isHiddenForScreenReaders,g=e.useCustomStyle,v=e.className,E=e.inputClassName,k=e.inputRef,y=e.onBlur,S=e.onFocus,b=e.onInput,D=e.onKeyDown,_=e.onKeyUp,N=s||"GlueTextInput-".concat(this.idNumber);return m().createElement("label",{className:g?v:"GlueTextInput",htmlFor:N,"aria-label":n,"aria-hidden":!!h||void 0},m().createElement("input",{className:g?E:Ft()("GlueTextInput__input",{"GlueTextInput__input--has-error":p}),tabIndex:h?"-1":void 0,type:i,id:N,name:r,"data-ta-id":o,"aria-invalid":p,disabled:f,minLength:c,autoFocus:d,placeholder:t||n,value:l?void 0:u,defaultValue:l,onBlur:y,onFocus:S,onChange:this.handleChange,onInput:l?void 0:b,onKeyDown:D,onKeyUp:_,ref:k,required:a}))}}]),t}(m().PureComponent);function Mt(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}Ut.defaultProps={name:"",type:"text",isRequired:!1,taId:"",defaultValue:void 0,value:"",minLength:0,autoFocus:!1,hasError:!1,isDisabled:!1,isHiddenForScreenReaders:!1,useCustomStyle:!1,onBlur:function(){},onFocus:function(){},onChange:function(){},onInput:function(){},onKeyDown:function(){}};var Bt=function(e){ct()(t,e);var n=Mt(t);function t(e){var r;return Pn()(this,t),r=n.call(this,e),l()(Et()(r),"handleTogglePasswordVisible",(function(){var e=!r.state.passwordVisible;r.setState({passwordVisible:e}),r.props.onTogglePasswordVisibility&&r.props.onTogglePasswordVisibility(e)})),r.state={isEditing:!1,passwordVisible:!1},r.handleBlur=r.handleBlur.bind(Et()(r)),r.handleInput=r.handleInput.bind(Et()(r)),r}return Rn()(t,[{key:"handleBlur",value:function(e){var n=e.target,t=e.relatedTarget;this.setState({isEditing:!1}),t&&(t.name||"submit"===t.type)&&this.validate(n)}},{key:"handleInput",value:function(){this.setState({isEditing:!0})}},{key:"validate",value:function(e){var n=this.props,t=n.name,r=n.onValidate;!n.noValidate&&r&&r(t,It(e))}},{key:"renderPasswordEyeToggler",value:function(){var e=this.props.type,n=this.state.passwordVisible;return"password"!==e?null:m().createElement(m().Fragment,null,m().createElement("button",{type:"button",onClick:this.handleTogglePasswordVisible,tabIndex:"-1",className:"FormField--passwordEyeIcon ".concat(n?"passwordVisible":"")}),m().createElement("span",{tabIndex:"-1",className:"FormField--passwordEyeIcon--cross ".concat(n?"passwordVisible":"")}))}},{key:"render",value:function(){var e=this.props,n=e.error,t=void 0===n?{}:n,r=e.noValidate,i=e.label,a=e.name,o=e.type,s=e.value,l=e.isRequired,u=e.minLength,c=e.autoFocus,d=e.isDisabled,p=e.onChange,f=e.onKeyUp,h=e.onFocus,g=e.rightIcon,v=void 0===g?null:g,E=this.state,k=E.isEditing,y=E.passwordVisible,S=v,b=o;return"password"===o&&y&&(b="text"),m().createElement("div",{className:Ft()("FormField",{"FormField--no-validate":r})},m().createElement(Ut,{label:i,name:a,type:b,taId:"".concat(a,"-field"),value:s,isRequired:l,minLength:u,autoFocus:c,hasError:!!t.message&&!k,isDisabled:d,onChange:p,onFocus:h,onKeyUp:f,onBlur:this.handleBlur,onInput:this.handleInput}),S&&m().createElement(S,{className:"FormField--rightIcon"}),this.renderPasswordEyeToggler(),!r&&!k&&t.message&&m().createElement(m().Fragment,null,m().createElement(Rt,{errorMessage:t.message})))}}]),t}(m().PureComponent);const Gt=(0,E.$j)((function(){return{}}),(function(){return{}}))(Bt);var Vt=t(67154),jt=t.n(Vt),Wt=["type","name","label","classes","hasError"];function Ht(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var Yt=function(e){ct()(t,e);var n=Ht(t);function t(){var e;Pn()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).handleBlur=e.handleBlur.bind(Et()(e)),e}return Rn()(t,[{key:"handleBlur",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props.onBlur&&this.props.onBlur(e)}},{key:"render",value:function(){var e=this.props,n=e.type,t=void 0===n?"text":n,r=e.name,i=e.label,a=e.classes,o=e.hasError,s=Ce()(e,Wt),l="".concat(r,"-field");return m().createElement("span",{className:a},m().createElement("label",{className:"glue-hidden-visually",htmlFor:l},i),m().createElement("input",jt()({},s,{onBlur:this.handleBlur,type:t,name:r,id:l,"data-ta-id":l,className:Ft()("form-control Input",{"Input--has-error":o}),"aria-invalid":!!o,placeholder:i,required:!0})))}}]),t}(m().PureComponent),Kt=function(e,n,t){var r=null;return!function(e,n,t){return[e,n,t].reduce((function(e,n){return e&&!!n}),!0)}(e,n,t)?r="incomplete":function(e,n,t){var r=new Date(t,n-1,e);return r.getDate()===e&&r.getMonth()===n-1&&r.getFullYear()===t}(e,n,t)||(r="invalid"),r};function Jt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function qt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Jt(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Xt(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var zt={BIG_ENDIAN:"big",LITTLE_ENDIAN:"little",MIDDLE_ENDIAN:"middle"},Zt=function(e){ct()(t,e);var n=Xt(t);function t(e){var r;return Pn()(this,t),(r=n.call(this,e)).state={isEditing:!1},r.monthStrings=[Vn.get("desktop.login.January"),Vn.get("desktop.login.February"),Vn.get("desktop.login.March"),Vn.get("desktop.login.April"),Vn.get("desktop.login.May"),Vn.get("desktop.login.June"),Vn.get("desktop.login.July"),Vn.get("desktop.login.August"),Vn.get("desktop.login.September"),Vn.get("desktop.login.October"),Vn.get("desktop.login.November"),Vn.get("desktop.login.December")],r.handleInput=r.handleInput.bind(Et()(r)),r.handleBlur=r.handleBlur.bind(Et()(r)),r.handleFocus=r.handleFocus.bind(Et()(r)),r}return Rn()(t,[{key:"handleInput",value:function(e){var n=e.target,t=n.name,r=n.value,i=n.validity,a=void 0===i?{}:i;this.setState({isEditing:!0}),a.valueMissing?this.props.onChange(qt(qt({},this.props.value),{},l()({},t,void 0))):(a.valid||a.rangeUnderflow)&&this.props.onChange(qt(qt({},this.props.value),{},l()({},t,parseInt(r,10))))}},{key:"handleBlur",value:function(e){var n=e.relatedTarget?e.relatedTarget.name:null,t=["day","month","year"].includes(n);this.setState({isEditing:t}),t||this.validate()}},{key:"handleFocus",value:function(e){this.setState({isEditing:!0});var n=e.relatedTarget?e.relatedTarget.name:null;!["day","month","year"].includes(n)&&this.props.onFocus&&this.props.onFocus()}},{key:"validate",value:function(){var e=this.props.value,n=e.day,t=e.month,r=e.year,i=Kt(n,t,r,this.props.minAge);this.props.onValidate("birthDate",i)}},{key:"renderYear",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return m().createElement(Yt,{type:"number",name:"year",classes:"FormDate__input FormDate__year",label:Vn.get("desktop.login.Year"),autoFocus:t,defaultValue:e||"",onInput:this.handleInput,onBlur:this.handleBlur,disabled:this.props.disabled,min:1900,hasError:n.includes("year"),onFocus:this.handleFocus})}},{key:"renderMonth",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return m().createElement("select",{name:"month",id:"month-field",className:Ft()("form-control Input FormDate__input FormDate__month",{"Input--has-error":n.includes("month")}),autoFocus:t,defaultValue:e||"",required:!0,onChange:this.handleInput,onBlur:this.handleBlur,disabled:this.props.disabled,onFocus:this.handleFocus},m().createElement("option",{value:"",disabled:!0,hidden:!0},Vn.get("desktop.login.Month")),this.monthStrings.map((function(e,n){return m().createElement("option",{value:n+1,key:n},e)})))}},{key:"renderDay",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return m().createElement(Yt,{type:"number",name:"day",classes:"FormDate__input FormDate__day",label:Vn.get("desktop.login.Day"),autoFocus:t,defaultValue:e||"",onInput:this.handleInput,onBlur:this.handleBlur,disabled:this.props.disabled,min:1,max:31,hasError:n.includes("day"),onFocus:this.handleFocus})}},{key:"render",value:function(){var e=this,n=this.props,t=n.name,r=n.label,i=n.dateEndianness,a=n.error,o=void 0===a?{}:a,s=n.autoFocus,l=this.props.value,u=l.day,c=l.month,d=l.year,p=this.state.isEditing,f=["day","month","year"].filter((function(n){return!(p||!o.message)&&("incomplete"===o.code?!e.props.value[n]:"tooOld"!==o.code||"year"===n)})),h="";return h="big"===zt[i]?m().createElement("div",{className:"FormDate__inputs"},this.renderYear(d,f,s),this.renderMonth(c,f),this.renderDay(u,f)):"little"===zt[i]?m().createElement("div",{className:"FormDate__inputs"},this.renderDay(u,f,s),this.renderMonth(c,f),this.renderYear(d,f)):m().createElement("div",{className:"FormDate__inputs"},this.renderMonth(c,f,s),this.renderDay(u,f),this.renderYear(d,f)),m().createElement("div",{className:"FormDate"},m().createElement("label",{className:"FormDate__label ".concat(t,"-label"),htmlFor:"month-field"},r),h,!p&&o.message&&m().createElement(m().Fragment,null,m().createElement(Rt,{errorMessage:o.message})))}}]),t}(m().PureComponent);Zt.defaultProps={value:{},dateEndianness:"MIDDLE_ENDIAN",minAge:13};const $t=(0,E.$j)((function(){return{}}),(function(){return{}}))(Zt);var Qt=["name","label","options","value","showTitle","error","onValidate","onOptionFocus"];function er(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var nr=function(e){ct()(t,e);var n=er(t);function t(e){var r;return Pn()(this,t),(r=n.call(this,e)).state={isEditing:!1},r.handleBlur=r.handleBlur.bind(Et()(r)),r.handleFocus=r.handleFocus.bind(Et()(r)),r}return Rn()(t,[{key:"handleBlur",value:function(e){this.state={isEditing:!1},(e.relatedTarget?e.relatedTarget.name:null)!==this.props.name&&this.validate(e.target)}},{key:"handleFocus",value:function(e){this.state={isEditing:!0},this.props.onOptionFocus&&e&&e.target&&this.props.onOptionFocus(e.target.value)}},{key:"validate",value:function(e){var n=this.props,t=n.name,r=n.onValidate;r&&r(t,It(e))}},{key:"render",value:function(){var e=this,n=this.props,t=n.name,r=n.label,i=n.options,a=n.value,o=n.showTitle,s=n.error,l=void 0===s?{}:s,u=(n.onValidate,n.onOptionFocus,Ce()(n,Qt)),c=this.state.isEditing,d="".concat(t,"-field"),p=Ft()("FormRadioSelect",{"FormRadioSelect--is-disabled":this.props.disabled});return m().createElement("div",{className:p},m().createElement("label",{className:o?"":"glue-hidden-visually",htmlFor:d},r),i.map((function(n){var r="".concat(n.value,"-radio");return m().createElement("span",{className:a===n.value?"checked":"",key:n.value},m().createElement("input",jt()({},u,{name:t,type:"radio",id:r,className:"glue-hidden-visually",value:n.value,checked:a===n.value,onBlur:e.handleBlur,onFocus:e.handleFocus,required:!0,disabled:e.props.disabled})),m().createElement("label",{className:Ft()("FormRadioSelect__label",{"FormRadioSelect__label--has-error":!!l.message}),htmlFor:r},n.label))})),!c&&l.message&&m().createElement(m().Fragment,null,m().createElement(Rt,{errorMessage:l.message})))}}]),t}(m().PureComponent);const tr=(0,E.$j)((function(){return{}}),(function(){return{}}))(nr);function rr(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var ir=function(e){ct()(t,e);var n=rr(t);function t(){var e;Pn()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).handleChange=e.handleChange.bind(Et()(e)),e}return Rn()(t,[{key:"handleChange",value:function(e){this.props.isDisabled||this.props.onChange(e.target.checked)}},{key:"render",value:function(){var e="".concat(this.props.name,"-field"),n=Ft()("GlueCheckbox",{"GlueCheckbox--is-disabled":this.props.isDisabled});return m().createElement("div",{className:n},m().createElement("input",{className:"GlueCheckbox__input",id:e,name:this.props.name,checked:this.props.isChecked,type:"checkbox",onChange:this.handleChange,disabled:this.props.isDisabled}),m().createElement("label",{className:"GlueCheckbox__label",htmlFor:e,dangerouslySetInnerHTML:{__html:this.props.label}}))}}]),t}(m().PureComponent);ir.defaultProps={label:"",name:"",isChecked:!1,isDisabled:!1,onChange:function(){}};var ar=t(19717);function or(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var sr=function(e){ct()(t,e);var n=or(t);function t(e){var r;return Pn()(this,t),(r=n.call(this,e)).handleClick=r.handleClick.bind(Et()(r)),r}return Rn()(t,[{key:"handleClick",value:function(e){if(e.target.getAttribute("data-action")){var n=e.target.getAttribute("data-action");"showSettings"===n?this.props.openSettingsPage():"showSignup"===n&&this.props.openSignupPage()}}},{key:"render",value:function(){var e=this.props.errorData,n=e?Ct(e.errorCategory,e.errorCode,e.errorReference):null;return n?m().createElement("div",{className:"alert alert-danger ErrorMessage alert-icon",id:"login-message","data-ta-id":"login-message","data-testid":"login-message",role:"alert","aria-live":"assertive",onClick:this.handleClick},m().createElement(ar.w,{iconSize:24}),m().createElement("span",{dangerouslySetInnerHTML:{__html:n}})):null}}]),t}(m().Component);const lr=(0,E.$j)((function(e){var n=e.app.mode;return"welcome"===n&&(n="signup"),{errorData:e[n]&&e[n].errorData?e[n].errorData:null}}),(function(e){return{openSettingsPage:function(){return e(lt.enterSettingsMode())},openSignupPage:function(){return e(lt.openSignupPage())}}}))(sr);function ur(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var cr=function(e){ct()(t,e);var n=ur(t);function t(e){var r;return Pn()(this,t),(r=n.call(this,e)).state={tosAgreed:!1,privacyAgreed:!1},r.handleTosChange=r.handleTosChange.bind(Et()(r)),r.handlePrivacyChange=r.handlePrivacyChange.bind(Et()(r)),r.handleTosAndPrivacyChange=r.handleTosAndPrivacyChange.bind(Et()(r)),r.handleEulaChange=r.handleEulaChange.bind(Et()(r)),r.eulaId=t.getNextId(),r}return Rn()(t,[{key:"handleTosChange",value:function(e){var n=this;this.setState({tosAgreed:e},(function(){n.handleEulaChange()}))}},{key:"handlePrivacyChange",value:function(e){var n=this;this.setState({privacyAgreed:e},(function(){n.handleEulaChange()}))}},{key:"handleTosAndPrivacyChange",value:function(e){var n=this;this.setState({tosAgreed:e,privacyAgreed:e},(function(){n.handleEulaChange()}))}},{key:"handleEulaChange",value:function(){this.props.onChange(this.state.tosAgreed&&this.state.privacyAgreed)}},{key:"render",value:function(){var e=null,n='<a href="https://www.spotify.com/int/legal/end-user-agreement/" target="_new">'.concat(Vn.get("desktop.login.TermsAndConditions"),"</a>"),t='<a href="https://www.spotify.com/int/legal/privacy-policy/" target="_new">'.concat(Vn.get("desktop.login.PrivacyPolicy"),"</a>"),r=Vn.get("desktop.login.SignupButton");return e=this.props.restrictions.pretick_eula?m().createElement("div",null,!this.props.hideTermsAndConditions&&m().createElement("p",{className:"SignupForm__terms-and-conditions",dangerouslySetInnerHTML:{__html:Vn.get("desktop.login.SignupAgree",r,n)}}),!this.props.hidePrivacyPolicy&&m().createElement("p",{className:"SignupForm__privacy-policy",dangerouslySetInnerHTML:{__html:Vn.get("desktop.login.PrivacyPolicyAgree",t)}})):this.props.restrictions.can_accept_licenses_in_one_step?m().createElement("div",{className:"SignupForm__checkbox-container"},m().createElement(ir,{"data-ta-id":"agree-eula",name:"agree-eula-".concat(this.eulaId),label:this.props.restrictions.specific_licenses?Vn.get("desktop.login.SignupAgreeCheckboxSpecificLicenses",n,t):Vn.get("desktop.login.SignupAgreeCheckbox",n,t),onChange:this.handleTosAndPrivacyChange,isChecked:this.state.tosAgreed&&this.state.privacyAgreed,isDisabled:this.props.disabled}),this.props.restrictions.specific_licenses&&m().createElement("p",{className:"SignupForm__privacy-policy",dangerouslySetInnerHTML:{__html:Vn.get("desktop.login.PrivacyPolicyAgree",t)}})):m().createElement("div",null,m().createElement("div",{className:"SignupForm__checkbox-container"},m().createElement(ir,{"data-ta-id":"agree-tos",name:"agree-tos-".concat(this.eulaId),label:Vn.get("desktop.login.TermsOfServiceAgreeCheckbox",n),onChange:this.handleTosChange,isChecked:this.state.tosAgreed,isDisabled:this.props.disabled})),m().createElement("div",{className:"SignupForm__checkbox-container"},m().createElement(ir,{"data-ta-id":"agree-privacy",name:"agree-privacy-".concat(this.eulaId),label:Vn.get("desktop.login.PrivacyPolicyAgreeCheckbox",t),onChange:this.handlePrivacyChange,isChecked:this.state.privacyAgreed,isDisabled:this.props.disabled}))),m().createElement("div",{className:"EulaAgreement"},e,this.props.error&&m().createElement(m().Fragment,null,m().createElement(Rt,{errorMessage:this.props.error.message})))}}],[{key:"getNextId",value:function(){var e=(t.instanceCount||0)+1;return t.instanceCount=e,e}}]),t}(m().PureComponent);const dr=(0,E.$j)((function(){return{}}),(function(){return{}}))(cr);function pr(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var fr=function(e){ct()(t,e);var n=pr(t);function t(){var e;Pn()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),l()(Et()(e),"handleClick",(function(n){var t=e.props.method;n&&(n.preventDefault(),n.stopPropagation()),e.props.onClick(t)})),e}return Rn()(t,[{key:"render",value:function(){var e,n=this.props,t=n.type,r=n.label,i=n.isDisabled,a=n.method,o=a.substr(0,1).toUpperCase()+a.substr(1),s=Ft()("button","SocialButton","".concat(o,"Button"),(e={},l()(e,"".concat(o,"Button--login"),"login"===t),l()(e,"".concat(o,"Button--signup"),"signup"===t),e));return m().createElement("button",{type:"button",className:s,onClick:this.handleClick,"data-ta-id":"".concat(a,"-").concat(t,"-button"),disabled:i},r)}}]),t}(m().PureComponent);function mr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function hr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mr(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function gr(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var vr=function(e){ct()(t,e);var n=gr(t);function t(e){var r;return Pn()(this,t),r=n.call(this,e),l()(Et()(r),"handleAgreeEulaChange",(function(e){var n=e?"checked":"unchecked";r.props.onInteraction("signup","click","eula-change-".concat(n)),r.setState({eulaAgreed:e,error:e?{}:r.state.error})})),l()(Et()(r),"handleOnClick",(function(){var e,n=function(){return r.state.eulaAgreed||r.props.restrictions.pretick_eula||r.props.hideEula};n()?(e=r.props).onClick.apply(e,arguments):r.setState({error:{message:Vn.get("desktop.login.agreeEula.notAccepted")}})})),r.state={eulaAgreed:r.props.restrictions.pretick_eula,error:{}},r}return Rn()(t,[{key:"render",value:function(){return m().createElement("div",{className:"SignupFacebook"},m().createElement(fr,{method:"facebook",isDisabled:this.props.isDisabled,onClick:this.handleOnClick,type:"signup",label:Vn.get("desktop.login.SignupButtonFacebookNirvana")}),this.props.restrictions.pretick_eula||this.props.hideEula?null:m().createElement(dr,{restrictions:this.props.restrictions,error:this.state.error,disabled:this.props.isDisabled,onChange:this.handleAgreeEulaChange}))}}]),t}(m().PureComponent);l()(vr,"defaultProps",{isDisabled:!1,hideEula:!1});const Er=(0,E.$j)((function(e){return{isDisabled:!!e.signup.isAttempting,restrictions:e.signup.restrictions}}),(function(e){return{onInteraction:function(n,t,r,i,a){return e(lt.interaction(n,t,r,i,a))},onClick:function(n){var t=St();e(lt.signupWithAccounts(n,t)),e(lt.interaction("signup","click","create-account-".concat(n),null,t))}}}),(function(e,n){return hr(hr(hr({},e),n),{},{onClick:function(e){n.onClick(e)}})}))(vr);var kr=function(e){var n=e.title;return m().createElement("p",{className:"FormTitleSeparator","aria-hidden":"true"},n)};kr.defaultProps={title:""};const yr=kr;function Sr(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var br=function(e){ct()(t,e);var n=Sr(t);function t(e){var r;return Pn()(this,t),r=n.call(this,e),l()(Et()(r),"handleEmailValidate",(function(e,n){r.props.onValidate(e,n),n||r.props.validateEmail()})),l()(Et()(r),"handleEmailFocus",(function(){r.props.onInteraction("signup","click","input-email")})),l()(Et()(r),"handlePasswordValidate",(function(e,n){r.props.onValidate(e,n),n||r.props.validatePassword()})),l()(Et()(r),"handlePasswordFocus",(function(){r.props.onInteraction("signup","click","input-password")})),l()(Et()(r),"handleNameFocus",(function(){r.props.onInteraction("signup","click","input-name")})),l()(Et()(r),"handleGenderOptionFocus",(function(e){r.props.onInteraction("signup","click","input-gender-".concat(e))})),l()(Et()(r),"handleInputChange",(function(e){var n=e.target,t=n.name,i=n.value;r.props.updateData(l()({},t,i)),r.setState({isEditing:!0})})),l()(Et()(r),"handleBirthDateChange",(function(e){r.props.updateData({birthDate:e})})),l()(Et()(r),"handleSendEmailChange",(function(e){r.props.updateData({sendEmail:e})})),l()(Et()(r),"handleShareDataChange",(function(e){r.props.updateData({shareData:e})})),l()(Et()(r),"handleAgreeEulaChange",(function(e){r.props.updateData({agreeEula:e})})),l()(Et()(r),"handleSubmit",(function(e){e&&e.preventDefault();var n=r.props.step,t=St();r.props.onInteraction("signup","click",0===n?"continue":"create-account",null,t),r.setState({isEditing:!1});var i=!0,a={0:["email","password","name"],1:["birthDate","gender","agreeEula"]};!!r.props.errors&&Object.keys(r.props.errors).filter((function(e){return-1!==a[n].indexOf(e)})).some((function(e){return r.props.errors[e]&&r.props.errors[e].message}))&&(i=!1);var o=function(e){return function(n){r.props.data[n]||(r.props.onValidate(n,{code:e}),i=!1)}};switch(n){case 0:["email","password","name"].forEach(o("valueMissing"));break;case 1:var s=r.props.data.birthDate,l=s.day,u=s.month,c=s.year;c||r.props.onInteraction("signup","view","show-error-empty-year",null,t),u||r.props.onInteraction("signup","view","show-error-empty-month",null,t),l||r.props.onInteraction("signup","view","show-error-empty-date",null,t);var d=Kt(l,u,c,r.props.restrictions.minimum_age);d&&(r.props.onValidate("birthDate",{code:d}),i=!1),o("valueMissing")("gender"),o("notAccepted")("agreeEula")}if(i)switch(n){case 0:r.setStep(n+1);break;case 1:r.props.signup(t)}})),l()(Et()(r),"handleBack",(function(){var e=r.props.step;r.props.onInteraction("signup","click","back-step-".concat(e+1)),r.props.clearAllErrors(),e<=0?r.props.enterWelcomeMode():r.setStep(e-1)})),l()(Et()(r),"handleLogin",(function(){var e=St();r.props.onInteraction("signup","click","open-page-login",null,e),r.props.enterLoginMode(e)})),l()(Et()(r),"setStep",(function(e){switch(e){case 0:r.props.enterSignupModeStep0();break;case 1:r.props.enterSignupModeStep1()}})),r.state={isEditing:!0},r}return Rn()(t,[{key:"renderErrorMsg",value:function(){var e=this,n=Object.keys(this.props.errors).filter((function(n){return e.props.errors[n]&&e.props.errors[n].message}));return m().createElement("div",{className:"glue-hidden-visually",role:"alert","aria-live":this.state.isEditing?"off":"assertive"},n.length>0?m().createElement("div",null,m().createElement("p",null,Vn.get("desktop.login.email.errorMessageA11y",n.length)),m().createElement("ul",null,n.map((function(n){return m().createElement("li",{key:n},e.props.errors[n].message)})))):null)}},{key:"renderStep0",value:function(){var e=this,n=this.props,t=n.data,r=n.errors,i=n.isDisabled,a=n.onValidate;return m().createElement("div",null,m().createElement(Gt,{name:"email",type:"email",label:Vn.get("desktop.login.SignupEmail"),value:t.email,onChange:this.handleInputChange,isDisabled:i,error:r.email,onValidate:this.handleEmailValidate,onFocus:this.handleEmailFocus,isRequired:!0,autoFocus:!0,rightIcon:At.w}),m().createElement(Gt,{name:"password",type:"password",label:Vn.get("desktop.login.CreateAPassword"),value:t.password,onChange:this.handleInputChange,minLength:8,isRequired:!0,isDisabled:i,error:r.password,onValidate:this.handlePasswordValidate,onFocus:this.handlePasswordFocus,onTogglePasswordVisibility:function(n){e.props.onInteraction("signup","click",n?"toggle-password-visibility-show":"toggle-password-visibility-hide")}}),m().createElement(Gt,{name:"name",label:Vn.get("desktop.login.SignupName"),value:t.name,onChange:this.handleInputChange,isRequired:!0,isDisabled:i,error:r.name,onValidate:a,rightIcon:Ot.K,onFocus:this.handleNameFocus}))}},{key:"renderStep1",value:function(){var e=this,n=this.props,t=n.data,r=n.errors,i=n.restrictions,a=n.isDisabled,o=n.onValidate,s=null;i.requires_marketing_opt_in_text?s=m().createElement("div",{className:"SignupForm__send-email-implicit"},Vn.get("desktop.login.SendEmailImplicitLabel")):i.requires_marketing_opt_in&&(s=m().createElement("div",{className:"SignupForm__checkbox-container"},m().createElement(ir,{name:"send-email",label:Vn.get("desktop.login.SendEmailLabel"),onChange:this.handleSendEmailChange,isChecked:t.sendEmail,isDisabled:a})));var l=[{label:Vn.get("desktop.login.Female"),value:"female"},{label:Vn.get("desktop.login.Male"),value:"male"}];return i.use_all_genders&&l.push({label:Vn.get("desktop.login.NonBinary"),value:"neutral"}),m().createElement("div",null,m().createElement($t,{name:"birth-date",label:Vn.get("desktop.login.WhatsYourSignupBirthDate"),value:t.birthDate,onChange:this.handleBirthDateChange,disabled:a,error:r.birthDate,onValidate:o,dateEndianness:i.date_endianness,minAge:i.minimum_age,autoFocus:!0,onFocus:function(){e.props.onInteraction("signup","click","input-birth-date")}}),m().createElement(tr,{showTitle:!0,name:"gender",label:Vn.get("desktop.login.WhatsYourSignupGender"),options:l,value:t.gender,onChange:this.handleInputChange,disabled:a,error:r.gender,onValidate:o,onOptionFocus:this.handleGenderOptionFocus}),s,m().createElement(dr,{restrictions:i,error:r.agreeEula,disabled:a,onChange:this.handleAgreeEulaChange}))}},{key:"render",value:function(){var e=this.props,n=e.isDisabled,t=e.step;return m().createElement("form",{onSubmit:this.handleSubmit,className:"SignupForm"},this.renderErrorMsg(),m().createElement(lr,null),0===t?this.renderStep0():"",1===t?this.renderStep1():"",m().createElement("button",{type:"submit",className:"button button-green button-large SignupForm__signup-button",disabled:n,id:"signup-button",onClick:this.handleSubmit,"data-ta-id":"signup-submit"},0===t?Vn.get("desktop.login.Continue"):Vn.get("desktop.login.SignupButton")),0===t&&m().createElement(m().Fragment,null,m().createElement(yr,{title:Vn.get("desktop.login.SignupOr")}),m().createElement(Er,null)),m().createElement("a",{href:"#",className:"SignupForm__back-button",onClick:this.handleBack},Vn.get("desktop.login.Back")),0===t&&m().createElement("h3",{className:"FooterFormText"},m().createElement("a",{className:"FooterFormText__NoUnderline",href:"#",id:"login-link",onClick:this.handleLogin,dangerouslySetInnerHTML:{__html:Vn.get("desktop.login.AlreadyOnSpotifyLogin")}})))}}]),t}(m().PureComponent);l()(br,"defaultProps",{errors:{},data:{},step:0});const Dr=(0,E.$j)((function(e){return{isDisabled:!!e.signup.isAttempting,restrictions:e.signup.restrictions,email:e.signup.email,errors:e.signup.errors,data:e.signup.formData}}),(function(e){return{signup:function(n){return e(lt.signup(n))},enterLoginMode:function(){return e(lt.enterLoginMode())},enterSignupModeStep0:function(){return e(lt.enterSignupModeStep0())},enterSignupModeStep1:function(){return e(lt.enterSignupModeStep1())},updateData:function(n){return e(lt.updateSignupData(n))},validateEmail:function(){return e(lt.validateField("email"))},validatePassword:function(){return e(lt.validateField("password"))},enterWelcomeMode:function(){return e(lt.enterWelcomeMode())},clearAllErrors:function(){return e(lt.clearAllErrors())},onValidate:function(n,t){if(t){var r=t.code||t,i={birthDate:{incomplete:Vn.get("desktop.login.birthDate.incomplete"),invalid:Vn.get("desktop.login.birthDate.invalid")},password:{valueMissing:Vn.get("desktop.login.password.valueMissing"),tooShort:Vn.get("desktop.login.password.tooShort")},email:{valueMissing:Vn.get("desktop.login.email.valueMissing"),typeMismatch:Vn.get("desktop.login.email.typeMismatch")},name:{valueMissing:Vn.get("desktop.login.name.valueMissing")},gender:{valueMissing:Vn.get("desktop.login.gender.valueMissing")},agreeEula:{notAccepted:Vn.get("desktop.login.agreeEula.notAccepted")}};e(lt.validateFieldFailure(n,{code:r,message:i[n]&&i[n][r]||""}))}else e(lt.validateFieldSuccess(n))},onInteraction:function(n,t,r,i,a){return e(lt.interaction(n,t,r,i,a))}}}))(br);function _r(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var Nr=function(e){ct()(t,e);var n=_r(t);function t(){return Pn()(this,t),n.apply(this,arguments)}return Rn()(t,[{key:"render",value:function(){var e=this.props,n=e.step;if(!e.restrictions)return m().createElement(gt,{delay:2e3});var t=0===n?Vn.get("desktop.login.SignupHeroText"):Vn.get("desktop.login.SignupAlmostDone");return m().createElement("main",{className:"Signup","data-testid":"signup","aria-labelledby":"signup-form-title",id:"signup","data-ta-id":"signup-form"},m().createElement("h1",{className:"HeroText",id:"signup-form-title"},t),m().createElement(Dr,{step:n}))}}]),t}(m().PureComponent);const Ar=(0,E.$j)((function(e){return{isDisabled:!!e.signup.isAttempting,restrictions:e.signup.restrictions}}))(Nr);t(73210);function Or(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var Tr=function(e){ct()(t,e);var n=Or(t);function t(){var e;Pn()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).handleChange=e.handleChange.bind(Et()(e)),e}return Rn()(t,[{key:"handleChange",value:function(){this.props.isDisabled||this.props.onChange(!this.props.isActive)}},{key:"render",value:function(){var e=this.props,n=e.isActive,t=e.isDisabled,r=e.labelId,i=e.taId;return m().createElement("div",{className:Ft()("GlueToggle",{"GlueToggle--is-active":n,"GlueToggle--is-disabled":t})},m().createElement("input",{type:"checkbox",name:r,id:r,className:"glue-hidden-visually",onChange:this.handleChange,checked:n,disabled:t,"data-ta-id":i}),m().createElement("div",{className:"GlueToggle__toggle",onClick:this.handleChange,"aria-hidden":"true"},m().createElement("div",{className:"GlueToggle__toggle-inner"})))}}]),t}(m().PureComponent);function Fr(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}Tr.defaultProps={isActive:!1,isDisabled:!1,onChange:function(){}};var Cr=function(e){ct()(t,e);var n=Fr(t);function t(){return Pn()(this,t),n.apply(this,arguments)}return Rn()(t,[{key:"render",value:function(){var e=this.props,n=e.name,t=e.label,r=e.checked,i=e.disabled,a=e.onChange,o="".concat(n,"-field");return m().createElement("div",{className:"FormToggle"},m().createElement("label",{htmlFor:o,"data-ta-id":"remember-me-label"},t),m().createElement(Tr,{labelId:o,isActive:r,onChange:a,taId:"remember-me-slider",isDisabled:i}))}}]),t}(m().PureComponent);function Ir(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var Pr=function(e){ct()(t,e);var n=Ir(t);function t(e){var r;return Pn()(this,t),r=n.call(this,e),l()(Et()(r),"handleForgotPasswordLinkClick",(function(){r.props.onInteraction("login","click","reset-password")})),r.state={username:r.props.username,password:"",rememberMe:!0},["handleSubmit","handleUsernameChange","handleUsernameFocus","handlePasswordChange","handlePasswordFocus","handleRememberMeChange"].forEach((function(e){r[e]=r[e].bind(Et()(r))})),r}return Rn()(t,[{key:"handleUsernameChange",value:function(e){var n=e.target;this.setState({username:n.value})}},{key:"handleUsernameFocus",value:function(){this.props.onInteraction("login","click","input-email")}},{key:"handlePasswordChange",value:function(e){var n=e.target;this.setState({password:n.value})}},{key:"handlePasswordFocus",value:function(){this.props.onInteraction("login","click","input-password")}},{key:"handleRememberMeChange",value:function(){this.setState({rememberMe:!this.state.rememberMe})}},{key:"handleSubmit",value:function(e){e&&e.preventDefault();var n=this.state.username.trim(),t=this.state,r=t.password,i=t.rememberMe,a=St();this.props.onInteraction("login","click","login-email",null,a),n&&r?this.props.login({username:n,password:r,rememberMe:i},!1,a):n?r||this.props.onInteraction("login","view","show-error-empty-password",null,a):this.props.onInteraction("login","view","show-error-empty-email",null,a)}},{key:"render",value:function(){var e=this.props.isDisabled;return m().createElement("form",{onSubmit:this.handleSubmit},m().createElement("h3",{className:"glue-hidden-visually"},Vn.get("desktop.login.LoginWithEmailTitle")),m().createElement(lr,null),m().createElement(Gt,{name:"username",label:Vn.get("desktop.login.LoginUsernameOrEmail"),value:this.state.username||"",onChange:this.handleUsernameChange,onFocus:this.handleUsernameFocus,isDisabled:e,autoFocus:!0,noValidate:!0,rightIcon:At.w}),m().createElement(Gt,{name:"password",type:"password",label:Vn.get("desktop.login.LoginPassword"),value:this.state.password,onChange:this.handlePasswordChange,onFocus:this.handlePasswordFocus,isDisabled:e,noValidate:!0}),m().createElement("a",{className:"LoginForm__reset-password",href:"https://www.spotify.com/redirect/password-reset",target:"_new",onClick:this.handleForgotPasswordLinkClick},Vn.get("desktop.login.forgotPassLink")),m().createElement(Cr,{name:"remember-me",label:Vn.get("desktop.login.RememberMeLabel"),checked:this.state.rememberMe,onChange:this.handleRememberMeChange,disabled:e}),m().createElement("button",{type:"submit",className:"button button-white LoginForm__login-button",disabled:e,id:"login-button","data-ta-id":"login-button"},Vn.get("desktop.login.LoginButton")))}}]),t}(m().PureComponent);const wr=(0,E.$j)((function(e){return{isDisabled:!!e.login.loginInProgress,username:e.login.username}}),(function(e){return{login:function(n,t,r){return e(lt.login(n,t,r))},onInteraction:function(n,t,r,i,a){return e(lt.interaction(n,t,r,i,a))}}}))(Pr);function Rr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Lr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rr(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function xr(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var Ur=function(e){ct()(t,e);var n=xr(t);function t(){return Pn()(this,t),n.apply(this,arguments)}return Rn()(t,[{key:"componentWillUnmount",value:function(){this.props.clearErrors()}},{key:"handleSignup",value:function(){var e=St();this.props.enterSignupMode(e),this.props.onInteraction("login","click","open-page-signup",null,e)}},{key:"getSignupLink",value:function(){var e=this;return m().createElement("a",{className:"FooterFormText__NoUnderline",href:"#",id:"signup-link",onClick:function(){return e.handleSignup()},"data-ta-id":"signup-link",dangerouslySetInnerHTML:{__html:Vn.get("desktop.login.DontHaveAnAccountSignup")}})}},{key:"render",value:function(){var e=this.props.isDisabled;return m().createElement("main",{className:"Login","data-testid":"login","aria-labelledby":"login-form-title",id:"login","data-ta-id":"login-form"},m().createElement("h1",{className:"HeroText",id:"login-form-title"},Vn.get("desktop.login.LoginHeroText")),m().createElement(wr,null),m().createElement(yr,{title:Vn.get("desktop.login.SignupOr")}),m().createElement(fr,{method:"facebook",isDisabled:e,onClick:this.props.onSocialButtonClick,type:"login",label:Vn.get("desktop.login.ContinueWithFacebook")}),m().createElement(fr,{method:"google",isDisabled:e,onClick:this.props.onSocialButtonClick,type:"login",label:Vn.get("desktop.login.ContinueWithGoogle")}),m().createElement(fr,{method:"apple",isDisabled:e,onClick:this.props.onSocialButtonClick,type:"login",label:Vn.get("desktop.login.ContinueWithApple")}),m().createElement("h3",{className:"FooterFormText"},this.getSignupLink()))}}]),t}(m().PureComponent);const Mr=(0,E.$j)((function(e){return{isDisabled:!!e.login.loginInProgress}}),(function(e){return{enterSignupMode:function(n){return e(lt.enterSignupMode(n))},onInteraction:function(n,t,r,i,a){return e(lt.interaction(n,t,r,i,a))},onSocialButtonClick:function(n){var t=St();e(lt.loginWithAccounts(n,t)),e(lt.interaction("login","click","login-".concat(n),null,t))},clearErrors:function(){return e(lt.loginClearErrors())}}}),(function(e,n){return Lr(Lr(Lr({},e),n),{},{onSocialButtonClick:function(e){n.onSocialButtonClick(e)}})}))(Ur);function Br(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var Gr=function(e){ct()(t,e);var n=Br(t);function t(){return Pn()(this,t),n.apply(this,arguments)}return Rn()(t,[{key:"render",value:function(){var e="signup"===this.props.operationUsed?Vn.get("desktop-auth.login.redirecting-to-browser-signup"):Vn.get("desktop-auth.login.redirecting-to-browser-login");return m().createElement("main",null,m().createElement("h1",{className:"HeroText __redirect"},e))}}]),t}(m().PureComponent);const Vr=(0,E.$j)((function(e){return{operationUsed:e.experimentWebAuthReducer.operationUsed}}))(Gr);var jr=t(63038),Wr=t.n(jr),Hr=t(40160);const Yr={button:"Qt5xfSWikz6CLU8Vobxs","button-primary":"pWY0RsrzxnQm9yHtovC8","button-secondary":"jzic9t5dn38QUOYlDka0","button-outlined":"X7lQWw2Ly_RZVPEFj2QY","button-tertiary":"NKswMkKwGl8FphQQVSEb","btn-block":"Ki84cEjfUZwLueXLtLO2"};var Kr=(0,f.forwardRef)((function(e,n){return m().createElement("button",{ref:n,id:e.id,className:Ft()(Yr.button,Yr["button-".concat(e.version)],e.className,l()({},Yr["btn-block"],e.block)),type:"button",onClick:e.onClick,disabled:e.disabled,"aria-label":e.ariaLabel,"aria-hidden":e.standalone,"data-testid":e.testID,title:e.title},e.children)}));Kr.defaultProps={onClick:function(){}};var Jr=function(e){var n={className:Ft()(Yr.button,Yr["button-".concat(e.version)],e.className,l()({},Yr["btn-block"],e.block)),title:e.title,draggable:e.draggable||!1,onClick:e.onClick,"data-testid":e.testID};return e.href?m().createElement("a",jt()({},n,{target:e._blank?"_blank":"_self",href:e.href}),e.children):e.linkTo?m().createElement(Hr.rU,jt()({},n,{to:e.linkTo}),e.children):m().createElement(Kr,e,e.children)};Kr.defaultProps={onClick:function(){}};const qr="zrvvPyoxE6wQNqnu0yWA";var Xr,zr=function(e){var n=e.value,t=e.id,r=e.children,i=e.disabled,a=e.onSelect,o=e.className,s=e.dir;return m().createElement("span",{className:o},m().createElement("select",{className:qr,value:null==n?void 0:n.toString(),id:t,disabled:i,onBlur:function(){},onChange:function(e){a(e.target.value)},dir:s},r))},Zr=t(37763),$r=t.n(Zr),Qr=t(1785),ei=(t(97762),t(69518)),ni=t.n(ei);Xr={},l()(Xr,ni().Type.ALBUM,"text/x-spotify-albums"),l()(Xr,ni().Type.ARTIST,"text/x-spotify-artists"),l()(Xr,ni().Type.COLLECTION_ALBUM,"text/x-spotify-collection-albums"),l()(Xr,ni().Type.COLLECTION_ARTIST,"text/x-spotify-collection-artists"),l()(Xr,ni().Type.DAILY_MIX,"text/x-spotify-daily-mix"),l()(Xr,ni().Type.EPISODE,"text/x-spotify-episodes"),l()(Xr,ni().Type.FOLDER,"text/x-spotify-folders"),l()(Xr,ni().Type.LOCAL,"text/x-spotify-local-tracks"),l()(Xr,ni().Type.LOCAL_ALBUM,"text/x-spotify-local-albums"),l()(Xr,ni().Type.LOCAL_ARTIST,"text/x-spotify-local-artists"),l()(Xr,ni().Type.PLAYLIST,"text/x-spotify-playlists"),l()(Xr,ni().Type.PLAYLIST_V2,"text/x-spotify-playlists"),l()(Xr,ni().Type.PROFILE,"text/x-spotify-users"),l()(Xr,ni().Type.SHOW,"text/x-spotify-shows"),l()(Xr,ni().Type.STATION,"text/x-spotify-stations"),l()(Xr,ni().Type.TRACK,"text/x-spotify-tracks");var ti=(0,f.createContext)("");ti.Provider,ti.Consumer;var ri;!function(e){e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right"}(ri||(ri={}));t(91038);var ii=t(16528),ai=function(e){var n=e.fallback,t=e.children;return m().createElement(f.Suspense,{fallback:n},t)};function oi(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var si={error:null,info:null},li=function(e){ct()(t,e);var n=oi(t);function t(){var e;Pn()(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];e=n.call.apply(n,[this].concat(i)),l()(Et()(e),"state",si);var o=e.props.history;return e.unlisten=o.listen((function(){e.state.error&&e.setState(si)})),e}return Rn()(t,[{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"componentDidCatch",value:function(e,n){var t=this.props.onError;if("function"==typeof t)try{t.call(this,e,n?n.componentStack:"")}catch(e){}this.setState({error:e,info:n})}},{key:"render",value:function(){var e=this.props,n=e.children,t=e.FallbackComponent,r=e.SuspenseFallback,i=this.state,a=i.error,o=i.info;return null!==a?m().createElement(t,{componentStack:o?o.componentStack:"",error:a}):m().createElement(ai,{fallback:r},n)}}]),t}(m().Component);li.defaultProps={FallbackComponent:function(e){e.componentStack,e.error;return!1},SuspenseFallback:null};(0,ii.EN)(li);t(7661);t(35192),["autoplay","clipboard-write","encrypted-media","fullscreen","picture-in-picture"].join("; "),t(4485);t(44794);var ui,ci,di=t(3578);!function(e){e.DISABLED="DISABLED",e.TWO_USER="TWO_USER",e.MULTI_USER="MULTI_USER"}(ui||(ui={})),function(e){e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant"}(ci||(ci={}));(0,di.JP)({name:"exampleOfSharedPropertyThatDoesNotExist",description:"Example of enabling a propoerty that is shared between Desktop, Mobile and Embed",default:!1}),(0,di.JP)({name:"enableOfflineVideoDev",description:"Enables Spotify videos to be offlined on DesktopX. Used during feature development",default:!1}),(0,di.z8)({name:"betamaxOfflineTargetBitrate",description:"targetBitrate to use when offlining. The closest to this bitrate to this is used.",default:12e5,lower:1e3,upper:1e9}),(0,di.JP)({name:"enableBetamaxSdkSubtitlesDesktopX",description:"Enables subtitles setting and rendering subtitles on the betamax SDK on DesktopX",default:!1}),(0,di.JP)({name:"enableBetamaxSdkMuxDesktopXDev",description:"Enables MUX library for development on Desktop X",default:!1}),(0,di.JP)({name:"enableVideoOnVideoSaiDev",description:"Enables video-on-video SAI on videos Desktop X. Used during feature development",default:!1}),(0,di.JP)({name:"enableBetamaxSdkVmp",description:"Enables client-side widevine VMP (verified media path) on betamax SDK.",default:!1}),(0,di.JP)({name:"enableBetamaxSdkVideoOnVideoSai",description:"Enables video-on-video SAI on videos Desktop X",default:!1}),(0,di.z8)({name:"betamaxSdkRebufferingGoal",description:"Sets the buffer goal (in seconds) required before starting/resuming playback video on betamax SDK",upper:100,lower:0,default:4}),(0,di.z8)({name:"betamaxSdkRetryAttempts",description:"The number of times to retry on network",default:2,upper:100,lower:1}),(0,di.JP)({name:"betamaxSdkDataSaverV2",description:"Enables the data saver feature on betamax SDK (linked to the video show/hide controls and close video window)",default:!1}),(0,di.z8)({name:"betamaxSdkDataSaverBufferMargin",description:"Sets the amount of buffer in seconds to be kept when disabling data saver (lower = faster variant change)",default:4,upper:100,lower:0}),(0,di.JP)({name:"betamaxVideoAutoplay",description:"Enables an alternative method for video autoplay to address Mux metrics",default:!1}),(0,di.JP)({name:"enableTasteOnboarding",description:"Enable taste onboarding client side",default:!1}),(0,di.JP)({name:"enableConnectEsperanto",description:"Enables the usage of the Esperanto Connect API",default:!1}),(0,di.JP)({name:"showFriendFeed",description:"Shows the friend feed",default:!0}),(0,di.JP)({name:"enableStreamReportingTracker3",description:"Enables use of the StreamReporting module for video playback",default:!0}),(0,di.JP)({name:"playAtFirstTap",description:"Load context to enable play button on first load",default:!1}),(0,di.JP)({name:"enableReactQueryCaching",description:"Enable caching using react-query.",default:!1}),(0,di.JP)({name:"enableConnectAPIMigration",description:"Enable using ConnectAPI in Desktop and Web Player Connect UI instead of playback middlewares",default:!1}),(0,di.JP)({name:"showWrappedBanner",description:"Show Wrapped banner on wrapped genre page",default:!1}),(0,di.JP)({name:"enableEncoreWebMigration",description:"Enable rendering the Primary, Secondary, and Transparent versions of PlayButtonEncoreWeb in the desktop/web/mobile web players",default:!1}),(0,di.JP)({name:"enableEnhanceURI",description:"Use `spotify:enhance:…` URI:s for Enhanced contexts",default:!1}),(0,di.VL)({name:"enableBlendInvitation",description:"Enable users to join Blends through client-web",values:ui,default:ui.DISABLED}),(0,di.JP)({name:"enableLibraryGraphQL",description:"Use the `LibraryGraphQL` implementation using Pathfinder instead of Web API",default:!1}),(0,di.JP)({name:"enableSubtitlesUsingHarmony",description:"Enable subtitles using Harmony",default:!1}),(0,di.JP)({name:"enableUriLinks",description:"Enable the `uri_link` type in Web API /views",default:!1}),(0,di.JP)({name:"enableTrendingView",description:"Enable the trending view experiment",default:!1}),(0,di.VL)({name:"enableInternalTrackLinks",description:"Enable entity pages to have internal links to the track page",values:ci,default:ci.DEFAULT}),(0,di.JP)({name:"enableNewPlaylistEntityPage",description:"Enable new playlist entity page",default:!1});var pi=[{kind:"FragmentDefinition",name:{kind:"Name",value:"imageURLAndSize"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageSource"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}],fi=[{kind:"FragmentDefinition",name:{kind:"Name",value:"imageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageURLAndSize"}}]}}]}}],mi=[{kind:"FragmentDefinition",name:{kind:"Name",value:"extractedColors"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}}]}}],hi=[{kind:"FragmentDefinition",name:{kind:"Name",value:"extractedColorsAndImageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}},{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}}];[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForAlbumEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}].concat(Pe()(hi),Pe()(mi),Pe()(fi),Pe()(pi)),[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForArtistEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}]}}].concat(Pe()(hi),Pe()(mi),Pe()(fi),Pe()(pi)),[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForEpisodeEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodeUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}].concat(Pe()(hi),Pe()(mi),Pe()(fi),Pe()(pi)),[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForPlaylistEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"images"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}]}}].concat(Pe()(hi),Pe()(mi),Pe()(fi),Pe()(pi)),[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForPodcastEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}]}}]}}]}}].concat(Pe()(hi),Pe()(mi),Pe()(fi),Pe()(pi)),[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorAndImageForTrackEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColorsAndImageSources"}}]}}]}}]}}]}}]}}].concat(Pe()(hi),Pe()(mi),Pe()(fi),Pe()(pi)),[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForAlbumEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albumUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}].concat(Pe()(mi)),[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForArtistEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}]}}].concat(Pe()(mi)),[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForEpisodeEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodeUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}].concat(Pe()(mi)),[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForPlaylistEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"images"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}]}}].concat(Pe()(mi)),[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForPodcastEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcastUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episodes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}]}}]}}]}}].concat(Pe()(mi)),[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchExtractedColorForTrackEntity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extractedColors"}}]}}]}}]}}]}}]}}].concat(Pe()(mi));const gi=JSON.parse('{"Ls":"https://api.spotify.com","XA":"https://spclient.wg.spotify.com","xM":"https://accounts.spotify.com","l3":"https://api-partner.spotify.com"}');var vi=gi.Ls,Ei=gi.XA,ki=gi.l3;gi.xM,"".concat(vi,"/v1"),"".concat(Ei,"/melody/v1"),"".concat(Ei,"/radio-apollo/v3"),"".concat(Ei,"/recently-played/v3"),"".concat(Ei,"/collection-view/v1"),"".concat(Ei,"/sponsoredplaylist/v1"),"".concat(Ei,"/social-connect/v2"),"".concat(Ei,"/playlist/v2"),"".concat(Ei,"/inspiredby-mix/v2"),"".concat(Ei,"/ads"),"".concat(ki,"/pathfinder/v1"),"".concat(Ei,"/autoplay-enabled"),"".concat(Ei,"/age-verification/v1"),"".concat(Ei,"/concerts"),"".concat(Ei,"/presence-view"),"".concat(Ei,"/presence2"),"".concat(Ei,"/find-friends"),"".concat(Ei,"/track-credits-view"),"".concat(Ei,"/color-lyrics/v2"),"".concat(Ei,"/metadata/4"),"".concat(Ei,"/user-profile-view/v3"),"".concat(Ei,"/consumer-wrapped/v1"),"".concat(Ei,"/campaigns-service/v1"),"".concat(Ei,"/consumer-only-you/v1"),"".concat(Ei,"/stories-view/v1"),"".concat(Ei,"/soundfinder/v1"),"".concat(Ei,"/"),"".concat(Ei,"/socialgraph/v2"),"".concat(Ei,"/vanilla/v1/views/hub2"),"".concat(Ei,"/ondemand-selector/v2"),"".concat(Ei,"/allboarding"),"".concat(Ei,"/playlist-permission/v1"),"".concat(Ei,"/stories-view/v3"),"".concat(Ei,"/blend-invitation"),t(39575),t(82472),t(92990),t(18927),t(33105),t(35035),t(74345),t(7174),t(32846),t(44731),t(77209),t(96319),t(58867),t(37789),t(33739),t(29368),t(14483),t(12056),t(3462),t(30678),t(27462),t(33824),t(55021),t(12974),t(15016);function yi(e){if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var n=new Uint8Array(e.length),t=0;t<e.length;t+=1)n[t]=e.charCodeAt(t);return n}t(83112);var Si=function(){var e=c()(p().mark((function e(n){var t,r,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=yi(n),e.next=3,crypto.subtle.digest("SHA-256",t);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),bi=Rn()((function e(){Pn()(this,e)}));l()(bi,"encode",yi),l()(bi,"hash",Si);t(47042);t(44363);t(65069);t(60285),t(41637);var Di=t(83253),_i=t.n(Di),Ni=["isOpen","contentLabel","children","className","overlayClassName","animated","animation"],Ai=function(e){var n,t,r,i,a,o,s,u=e.isOpen,c=e.contentLabel,d=e.children,p=e.className,f=e.overlayClassName,h=e.animated,g=e.animation,v=Ce()(e,Ni);return h?s=300:g.closeTimeoutMs&&(s=g.closeTimeoutMs),m().createElement(_i(),jt()({className:{base:Ft()("GenericModal","encore-dark-theme",(n={},l()(n,"GenericModal--animated",h),l()(n,g.modal.base,g.modal.base),l()(n,p,p),n)),afterOpen:Ft()("",(t={},l()(t,"GenericModal--afterOpen",h),l()(t,g.modal.afterOpen,g.modal.afterOpen),t)),beforeClose:Ft()("",(r={},l()(r,"GenericModal--beforeClose",h),l()(r,g.modal.beforeClose,g.modal.beforeClose),r))},overlayClassName:{base:Ft()("GenericModal__overlay",(i={},l()(i,"GenericModal__overlay--animated",h),l()(i,g.overlay.base,g.overlay.base),l()(i,f,f),i)),afterOpen:Ft()("",(a={},l()(a,"GenericModal__overlay--afterOpen",h),l()(a,g.overlay.afterOpen,g.overlay.afterOpen),a)),beforeClose:Ft()("",(o={},l()(o,"GenericModal__overlay--beforeClose",h),l()(o,g.overlay.beforeClose,g.overlay.beforeClose),o))},bodyOpenClassName:"GenericModal__Body--open",isOpen:u},s?{closeTimeoutMS:s}:{},{shouldFocusAfterRender:!0,ariaHideApp:!1,contentLabel:c},v),d)};Ai.defaultProps={animation:{modal:{base:void 0,afterOpen:void 0,beforeClose:void 0},overlay:{base:void 0,afterOpen:void 0,beforeClose:void 0},closeTimeoutMs:0}};t(91716);var Oi;new Error("Report API used without being initialized.\n   Did you provide the context in a a parent component?'");!function(e){e.ERROR="ERROR",e.NOTICE="NOTICE"}(Oi||(Oi={}));"undefined"!=typeof navigator&&navigator.onLine;var Ti,Fi,Ci;t(33178);!function(e){e.ALBUMS="albums",e.ARTISTS="artists",e.SHOWS="shows",e.TRACKS="tracks",e.EPISODES="episodes",e.BOOKS="books"}(Ti||(Ti={})),function(e){e.ADD="add",e.REMOVE="remove"}(Fi||(Fi={})),function(e){e.UPDATE="update",e.UPDATE_ITEM="update_item",e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete"}(Ci||(Ci={}));var Ii,Pi;!function(e){e.ADD="add",e.REMOVE="remove",e.CREATE_PLAYLIST="create_playlist"}(Ii||(Ii={})),function(e){e.UPDATE="update",e.UPDATE_ITEM="update_item",e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete"}(Pi||(Pi={}));t(16525),t(70189),t(96848);var wi=t(65957);function Ri(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}Error;var Li=t(54098),xi=t(34139),Ui=t.n(xi);t(28599);Ui()(Li.fetch);var Mi,Bi;!function(e){e.CONTEXT_DESCRIPTION="context_description",e.IS_AUDIOBOOK="is_audiobook",e.FILTERING_PREDICATE="filtering.predicate",e.SORTING_CRITERIA="sorting.criteria",e.LIST_UTIL_FILTER="list_util_filter",e.LIST_UTIL_SORT="list_util_sort"}(Mi||(Mi={})),function(e){e.AD="ad",e.ALBUM="album",e.ARTIST="artist",e.AUDIOBOOK="audiobook",e.CHAPTER="chapter",e.EPISODE="episode",e.GENRE="genre",e.PLAYLIST="playlist",e.PLAYLISTV2="playlist-v2",e.RADIO="radio",e.SHOW="show",e.TRACK="track",e.UNKNOWN="unknown",e.USER="user",e.LIKED_SONGS="liked-songs",e.LOCAL_FILES="local-files",e.YOUR_EPISODES="your-episodes"}(Bi||(Bi={}));var Gi,Vi,ji,Wi,Hi,Yi,Ki,Ji;Bi.UNKNOWN,Bi.ALBUM,Bi.ARTIST;!function(e){e[e.NOT_ACTIVE=0]="NOT_ACTIVE",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED"}(Gi||(Gi={})),function(e){e[e.REPEAT_NONE=0]="REPEAT_NONE",e[e.REPEAT_CONTEXT=1]="REPEAT_CONTEXT",e[e.REPEAT_TRACK=2]="REPEAT_TRACK"}(Vi||(Vi={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOW=1]="LOW",e[e.NORMAL=2]="NORMAL",e[e.HIGH=3]="HIGH",e[e.VERY_HIGH=4]="VERY_HIGH",e[e.HIFI=5]="HIFI"}(ji||(ji={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.BEST_MATCHING=1]="BEST_MATCHING",e[e.BACKEND_ADVISED=2]="BACKEND_ADVISED",e[e.OFFLINED_FILE=3]="OFFLINED_FILE",e[e.CACHED_FILE=4]="CACHED_FILE",e[e.LOCAL_FILE=5]="LOCAL_FILE"}(Wi||(Wi={})),function(e){e[e.NONE=0]="NONE",e[e.OFF=1]="OFF",e[e.ON=2]="ON"}(Hi||(Hi={})),function(e){e.UPDATE="update",e.ERROR="error",e.ACTION="action",e.QUEUE_ACTION="queue_action",e.QUEUE_ACTION_COMPLETE="queue_action_complete",e.QUEUE_UPDATE="queue_update",e.CONTEXT_WRAPAROUND="context_wraparound"}(Yi||(Yi={})),function(e){e.PLAY="play",e.PAUSE="pause",e.RESUME="resume",e.SKIP_TO_NEXT="skipToNext",e.SKIP_TO_PREVIOUS="skipToPrevious"}(Ki||(Ki={})),function(e){e.ADD="add",e.REMOVE="remove",e.CLEAR="clear",e.INSERT="insert",e.REORDER="reorder"}(Ji||(Ji={}));t(26541);var qi,Xi;t(8821),t(81299);!function(e){e.ADD="add",e.MOVE="move",e.REMOVE="remove",e.UPDATE="update",e.SET_COLLABORATIVE="set_collaborative"}(qi||(qi={})),function(e){e.UPDATE="update",e.OPERATION="operation",e.OPERATION_COMPLETE="operation_complete"}(Xi||(Xi={}));var zi,Zi;!function(e){e.WEBAPI="WEBAPI",e.PATHFINDER="PATHFINDER"}(zi||(zi={})),function(e){e.DEFAULT="DEFAULT",e.CALLOUT="CALLOUT",e.ONHOME="ONHOME"}(Zi||(Zi={}));var $i;(0,di.JP)({name:"enablePathfinderForArtistPage",description:"Fetch artist page data from pathfinder",default:!1}),(0,di.VL)({name:"podcastMetadataSource",description:"Where to request podcast metadata from",values:zi,default:zi.WEBAPI}),(0,di.JP)({name:"enableClientXConcertsForArtistPage",description:"Enables the concert features in the Artist page of the web player",default:!1}),(0,di.z8)({name:"listen_together_max_number_of_participants",description:"The maximum number of participants allowed in a Listen Together session",lower:2,upper:100,default:6}),(0,di.JP)({name:"enableClientXConcertsHub",description:"Enables the concert HUB features in the the web player",default:!1}),(0,di.JP)({name:"enableCombinedRecsConcertsHub",description:"Enables combined event recommendations in the Concerts Hub",default:!1}),(0,di.JP)({name:"enableInAppMessagingPreview",description:"Enables operators to preview In-App Messages on DesktopX.",default:!1}),(0,di.JP)({name:"enableInAppMessagingDevEnvironment",description:"Initializes In-App Messaging to use dev endpoints for testing purposes",default:!1}),(0,di.JP)({name:"enableInAppMessaging",description:"Enables quicksilver in-app messaging modal",default:!0}),(0,di.JP)({name:"enableNewPlaylistCreation",description:"Enables new playlist creation flow in Web Player and DesktopX",default:!1}),(0,di.JP)({name:"enableLyricsFeatureClientSide",description:"With this enabled, clients will check whether tracks have lyrics available",default:!1}),(0,di.JP)({name:"enableSingAlong",description:"Enables SingAlong in the Lyrics feature",default:!1}),(0,di.JP)({name:"enableInlineCuration",description:"Enables the new inline playlist curation tools",default:!1}),(0,di.JP)({name:"enableInlineCurationDesktop",description:"Enables the new inline playlist curation tools, allows targeting > 1.1.53",default:!0}),(0,di.JP)({name:"enableUserProfileEdit",description:"Enables editing of user's own profile in Web Player and DesktopX",default:!1}),(0,di.JP)({name:"enableSoundbetterSocialLink",description:"Show soundbetter link in the artist about tab when present",default:!1}),(0,di.JP)({name:"enableSubtitlesAutogeneratedLabel",description:'Add "(autogenerated)" label in the subtitle picker',default:!1}),(0,di.VL)({name:"searchVisibilityTest",description:"Test to improve search visibility",values:Zi,default:Zi.DEFAULT}),(0,di.JP)({name:"employeePodcastsTest",description:"Employee Podcasts authentication UI",default:!1}),(0,di.JP)({name:"enableMonoDownmixer",description:"Enable the mono downmixer toggle in settings",default:!0}),(0,di.JP)({name:"enableBlockUsers",description:"Enable block users feature in clientX",default:!1}),(0,di.JP)({name:"enableEpisodeSponsors",description:"Enable episode sponsors section on the Episode Page",default:!1}),(0,di.z8)({name:"episodeSponsorsFetchDelay",description:"Amount of time to wait after a podcast ad starts streaming before fetching the ad's accompanying display ad",default:4200,lower:3888,upper:4242}),(0,di.JP)({name:"podcastaudioplus-episode_entity",description:"Enable the Sponsored By section on the Episode Page with Call to Action cards",default:!1}),(0,di.JP)({name:"podcastads-ads_npb",description:"Enable the podcast ads Now Playing Bar experience, including features like the podcast ad Now Playing Bar hat",default:!1}),(0,di.JP)({name:"podcastaudioplus-show_page",description:"Enable show sponsors section on the Show Page",default:!1}),(0,di.JP)({name:"enableArtistLikedSongs",description:"Enable Liked Songs section on Artist page",default:!1}),(0,di.JP)({name:"enableHTMLDescriptions",description:"Enable HTML descriptions for Episodes and Shows",default:!1}),(0,di.JP)({name:"enableNewPodcastIndicator",description:"Enable NEW indicator for the latest podcast episode",default:!1}),(0,di.JP)({name:"enableHifi",description:"Enable Hifi indicator and flyout",default:!1}),(0,di.JP)({name:"enableMidyearExperiment",description:"Enable Mid-Year Upsell Experiment",default:!1}),(0,di.JP)({name:"enableMusicAndTalk",description:"Enable music & talk",default:!1}),(0,di.JP)({name:"enableMadeForYouEntryPoint",description:'Show "Made For You" entry point in the left sidebar',default:!1}),(0,di.JP)({name:"enableEnhancePlaylist",description:"Enable Enhance Playlist UI and functionality",default:!1}),(0,di.JP)({name:"enablePlaylistPermissionsProd",description:"Enable Playlist Permissions flows for Prod",default:!1}),(0,di.JP)({name:"enableIconsRedraw",description:"Enables the 2021 icons redraw which loads a different font asset for rendering icon glyphs.",default:!1}),(0,di.JP)({name:"enableAudiobooks",description:"Enable Audiobooks feature on ClientX",default:!1}),(0,di.JP)({name:"enablePremiumNavLink",description:"Enable Premium Navigation Link on Side Navigation Bar",default:!1}),(0,di.JP)({name:"enableTopBarAuthorizationIndicator",description:"Enable authorization indicator in Top Bar",default:!1}),(0,di.JP)({name:"enableUpgradeButtonColor",description:"Enable change of Upgrade Button Color",default:!1}),(0,di.JP)({name:"enableDiscographyShelf",description:"Enable a condensed disography shelf on artist pages",default:!1}),(0,di.JP)({name:"enableCovidHubBanner",description:"Display a banner in the Covid-19 hub",default:!1}),(0,di.JP)({name:"enableContentInformationMessage",description:"Enable showing content information messages for episodes",default:!1}),(0,di.JP)({name:"enableSearchModal",description:"Enable search modal",default:!1}),t(41817);!function(e){e.TITLE="title",e.DESCRIPTION="description",e.NONE="NONE"}($i||($i={}));$i.NONE;var Qi,ea,na,ta,ra,ia,aa,oa,sa,la,ua,ca,da,pa;!function(e){e.TEXT="TEXT"}(Qi||(Qi={})),function(e){e.CONTAINS="CONTAINS"}(ea||(ea={})),function(e){e.DOWN="DOWN",e.UP="UP",e.EQUAL="EQUAL",e.NEW="NEW"}(na||(na={})),function(e){e.TITLE="TITLE",e.ADDED_BY="ADDED_BY",e.ADDED_AT="ADDED_AT",e.ARTIST="ARTIST",e.ALBUM="ALBUM",e.DURATION="DURATION"}(ta||(ta={})),function(e){e.ASC="ASC",e.DESC="DESC"}(ra||(ra={})),function(e){e.INDEX="INDEX",e.TITLE="TITLE",e.ARTIST="ARTIST",e.PLAYS="PLAYS",e.ADDED_BY="ADDED_BY",e.ADDED_AT="ADDED_AT",e.RELEASE_DATE="RELEASE_DATE",e.ACTIONS="ACTIONS",e.DURATION="DURATION",e.ALBUM="ALBUM",e.ALBUM_OR_PODCAST="ALBUM_OR_PODCAST",e.ALBUM_OR_SHOW="ALBUM_OR_SHOW",e.EVENT_DATE="EVENT_DATE",e.ADD="ADD"}(ia||(ia={})),function(e){e[e.NONE=0]="NONE",e[e.ASC=1]="ASC",e[e.DESC=2]="DESC",e[e.SECONDARY_ASC=3]="SECONDARY_ASC",e[e.SECONDARY_DESC=4]="SECONDARY_DESC"}(aa||(aa={})),function(e){e.TITLE="TITLE",e.ADDED_BY="ADDED_BY",e.ADDED_AT="ADDED_AT",e.ARTIST="ARTIST",e.ALBUM="ALBUM",e.SHOW="SHOW",e.DURATION="DURATION"}(da||(da={})),function(e){e.DESC="DESC",e.ASC="ASC"}(pa||(pa={}));var fa;oa={},l()(oa,da.TITLE,["title"]),l()(oa,da.ADDED_BY,["added_by"]),l()(oa,da.ADDED_AT,["added_at"]),l()(oa,da.ARTIST,["artist_name","album_title","album_track_number"]),l()(oa,da.ALBUM,["album_title","album_track_number"]),l()(oa,da.SHOW,["album_title","added_at"]),l()(oa,da.DURATION,["duration"]),sa={},l()(sa,ia.TITLE,ta.TITLE),l()(sa,ia.ADDED_BY,ta.ADDED_BY),l()(sa,ia.ADDED_AT,ta.ADDED_AT),l()(sa,ia.DURATION,ta.DURATION),l()(sa,ia.ALBUM,ta.ALBUM),l()(sa,ia.ALBUM_OR_PODCAST,ta.ALBUM),l()(sa,ia.ALBUM_OR_SHOW,null),l()(sa,ia.ARTIST,null),l()(sa,ia.ACTIONS,null),l()(sa,ia.RELEASE_DATE,null),l()(sa,ia.INDEX,null),l()(sa,ia.PLAYS,null),l()(sa,ia.ADD,null),l()(sa,ia.EVENT_DATE,null),la={},l()(la,ia.TITLE,da.TITLE),l()(la,ia.ADDED_BY,da.ADDED_BY),l()(la,ia.ADDED_AT,da.ADDED_AT),l()(la,ia.DURATION,da.DURATION),l()(la,ia.ALBUM,da.ALBUM),l()(la,ia.ALBUM_OR_PODCAST,da.ALBUM),l()(la,ia.ALBUM_OR_SHOW,null),l()(la,ia.ARTIST,null),l()(la,ia.ACTIONS,null),l()(la,ia.RELEASE_DATE,null),l()(la,ia.INDEX,null),l()(la,ia.PLAYS,null),l()(la,ia.ADD,null),l()(la,ia.EVENT_DATE,null),ua={},l()(ua,aa.NONE,void 0),l()(ua,aa.DESC,pa.DESC),l()(ua,aa.ASC,pa.ASC),l()(ua,aa.SECONDARY_DESC,pa.DESC),l()(ua,aa.SECONDARY_ASC,pa.ASC),ia.INDEX,ia.TITLE,ia.ALBUM,ia.ADDED_AT,ia.DURATION,ia.INDEX,ia.TITLE,ia.ALBUM,ia.ADDED_BY,ia.ADDED_AT,ia.DURATION,ia.INDEX,ia.TITLE,ia.ALBUM_OR_PODCAST,ia.RELEASE_DATE,ia.ADDED_AT,ia.DURATION,ia.INDEX,ia.TITLE,ia.ALBUM_OR_PODCAST,ia.ADDED_BY,ia.RELEASE_DATE,ia.ADDED_AT,ia.DURATION,ia.INDEX,ia.TITLE,ia.ALBUM,ia.EVENT_DATE,ia.DURATION,ia.INDEX,ia.TITLE,ia.ALBUM,ia.ADDED_BY,ia.DURATION,ca={},l()(ca,aa.NONE,void 0),l()(ca,aa.DESC,ra.DESC),l()(ca,aa.ASC,ra.ASC),l()(ca,aa.SECONDARY_DESC,ra.DESC),l()(ca,aa.SECONDARY_ASC,ra.ASC);!function(e){e.DELETE="DELETE",e.GET="GET",e.HEAD="HEAD",e.POST="POST",e.PUT="PUT",e.SUB="SUB",e.PATCH="PATCH"}(fa||(fa={}));var ma=function(){function e(n,t,r,i){Pn()(this,e),l()(this,"method",void 0),l()(this,"uri",void 0),l()(this,"headers",void 0),l()(this,"body",void 0),this.uri=t,this.headers=ha(r),this.body=this.stringifyBody(i||""),this.method=n}return Rn()(e,[{key:"stringify",value:function(){return JSON.stringify({headers:this.headers,body:this.body,method:this.method,uri:this.uri})}},{key:"stringifyBody",value:function(e){return"string"!=typeof e?JSON.stringify(e):e}}],[{key:"parse",value:function(n){var t=JSON.parse(n);return new e(t.method,t.uri,t.headers,t.body)}}]),e}();function ha(e){return Object.keys(e).reduce((function(n,t){return n[t.toLowerCase()]=e[t],n}),{})}var ga=function(){function e(n,t){Pn()(this,e),l()(this,"resolver",void 0),l()(this,"requestFactory",void 0),this.resolver=n,this.requestFactory=t}return Rn()(e,[{key:"head",value:function(e,n){return this.resolve(fa.HEAD,e,null,n).then((function(e){return e.headers}))}},{key:"get",value:function(e,n,t){return this.resolve(fa.GET,e,n,t).then((function(e){return e.body}))}},{key:"post",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2?arguments[2]:void 0;return this.resolve(fa.POST,e,n,t).then((function(e){return e.body}))}},{key:"put",value:function(e,n,t){return this.resolve(fa.PUT,e,n,t).then((function(e){return e.body}))}},{key:"del",value:function(e,n,t){return this.resolve(fa.DELETE,e,n,t).then((function(e){return e.body}))}},{key:"patch",value:function(e,n,t){return this.resolve(fa.PATCH,e,n,t).then((function(e){return e.body}))}},{key:"sub",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=this.requestFactory(fa.SUB,e,i,r);return this.resolver.resolve(a,(function(e){return n(e.body)}),t)}},{key:"postSub",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){},i=this.requestFactory(fa.SUB,e,{},n);return this.resolver.resolve(i,(function(e){return t(e.body)}),r)}},{key:"request",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return this.resolve(e,n,t,r)}},{key:"resolve",value:function(e,n){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(a,o){var s=t.requestFactory(e,n,i,r);t.resolver.resolve(s,a,o)}))}}]),e}(),va=function(){function e(n,t,r){Pn()(this,e),l()(this,"status",void 0),l()(this,"headers",void 0),l()(this,"body",void 0),this.status=n,this.headers=ha(t),this.body=this.parseBody(r)}return Rn()(e,[{key:"parseBody",value:function(e){return""!==e?JSON.parse(e):{}}}],[{key:"isSuccessStatus",value:function(e){return e>=200&&e<=299}},{key:"parse",value:function(n){var t=JSON.parse(n),r=this.isSuccessStatus(t.status)&&t.body?t.body:"";return new e(t.status,t.headers||{},r)}}]),e}(),Ea=t(69009),ka=t.n(Ea),ya=function(){function e(n,t){Pn()(this,e),l()(this,"send",void 0),l()(this,"cancel",void 0),this.send=n,this.cancel=t}return Rn()(e,[{key:"resolve",value:function(e,n,t){var r=this,i=this.send({request:e.stringify(),persistent:e.method===fa.SUB,onSuccess:function(i){return r.onSuccess(e,i,n,t)},onFailure:function(n,i){return r.onFailure(e,n,i,t)}});return{cancel:function(){r.cancel(i)}}}},{key:"onSuccess",value:function(e,n,t,r){try{var i=va.parse(n);if(va.isSuccessStatus(i.status))t(i);else r(ka()(i.status,"".concat(e.method," request to ").concat(e.uri," failed with status code ").concat(i.status)))}catch(n){r(new Error("".concat(e.method," request to ").concat(e.uri," failed with exception '").concat(n.message,"'")))}}},{key:"onFailure",value:function(e,n,t,r){r(new Error("".concat(e.method," request to ").concat(e.uri," request failed with error code ").concat(n," (").concat(t,")")))}}]),e}();var Sa=t(69100),ba=t.n(Sa);var Da,_a;Da=function(){var e=t.g.window||{};return new ya(e.sendCosmosRequest,e.cancelCosmosRequest)}(),_a=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return ba()(ma,n)},new ga(Da,_a);t(28733);var Na=[{kind:"FragmentDefinition",name:{kind:"Name",value:"genericEpisodeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"htmlDescription"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"language"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"}}]}},{kind:"Field",name:{kind:"Name",value:"audio"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}},{kind:"Field",name:{kind:"Name",value:"fileId"}},{kind:"Field",name:{kind:"Name",value:"externallyHosted"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPosition"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audioPreview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"format"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"following"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"trailer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"audioPreview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"audio"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"externallyHosted"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}}]}}];[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryGenericEpisode"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"genericEpisodeFragment"}}]}}]}}].concat(Pe()(Na)),[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryRecommendedEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recommendedEpisodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"genericEpisodeFragment"}}]}}]}}]}}]}}]}}].concat(Pe()(Na));var Aa,Oa,Ta,Fa,Ca;!function(e){e.ONLINE="online",e.OFFLINE="offline",e.FORCED_OFFLINE="forced_offline",e.RECONNECTING="reconnecting"}(Aa||(Aa={})),function(e){e.NO="no",e.YES="yes",e.DOWNLOADING="downloading",e.WAITING="waiting"}(Oa||(Oa={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.DISKFULL=8]="DISKFULL",e[e.DOWNLOAD_EXPIRED=14]="DOWNLOAD_EXPIRED",e[e.TOO_MANY_TRACK=19]="TOO_MANY_TRACK",e[e.LICENSE_SERVER_ERROR=21]="LICENSE_SERVER_ERROR",e[e.LICENSE_LOST=22]="LICENSE_LOST",e[e.NOT_ALLOWED=23]="NOT_ALLOWED",e[e.SYNC_CONNECTION_DISABLED=36]="SYNC_CONNECTION_DISABLED",e[e.LISTS_NOT_SAVED=37]="LISTS_NOT_SAVED",e[e.LISTS_NOT_LOADED=38]="LISTS_NOT_LOADED",e[e.FILE_NOT_FOUND=7001]="FILE_NOT_FOUND",e[e.DOWNLOAD_FILE_FAILED=7002]="DOWNLOAD_FILE_FAILED",e[e.DOWNLOAD_IMAGE_FAILED=7003]="DOWNLOAD_IMAGE_FAILED",e[e.REQUEST_KEY_FAILED=7004]="REQUEST_KEY_FAILED",e[e.SAVE_KEY_STORE_FAILED=7005]="SAVE_KEY_STORE_FAILED",e[e.LOAD_KEY_STORE_FAILED=7006]="LOAD_KEY_STORE_FAILED",e[e.KEY_STORE_NOT_FOUND=7007]="KEY_STORE_NOT_FOUND",e[e.KEY_STORE_BAD_SIZE=7008]="KEY_STORE_BAD_SIZE",e[e.KEY_STORE_BAD_SALT=7010]="KEY_STORE_BAD_SALT",e[e.KEY_STORE_BAD_HMAC=7011]="KEY_STORE_BAD_HMAC",e[e.KEY_STORE_BAD_VERSION=7012]="KEY_STORE_BAD_VERSION",e[e.KEY_STORE_OUT_OF_SYNC=7013]="KEY_STORE_OUT_OF_SYNC",e[e.TOO_MANY_EPISODES=7014]="TOO_MANY_EPISODES",e[e.EPISODE_EXPIRED=7015]="EPISODE_EXPIRED",e[e.SAVE_EPISODE_KEY_STORE_FAILED=7016]="SAVE_EPISODE_KEY_STORE_FAILED",e[e.READ_KEY_STORE_FAILED=7017]="READ_KEY_STORE_FAILED",e[e.DOWNLOAD_HEAD_FILE_FAILED=7018]="DOWNLOAD_HEAD_FILE_FAILED",e[e.DEVICE_LIMIT_REACHED=7028]="DEVICE_LIMIT_REACHED"}(Ta||(Ta={})),function(e){e[e.DOWNLOAD_CAPABILITY=1]="DOWNLOAD_CAPABILITY",e[e.NO_DOWNLOAD_CAPABILITY=2]="NO_DOWNLOAD_CAPABILITY"}(Fa||(Fa={})),function(e){e[e.DOWNLOADING_ALLOWED=1]="DOWNLOADING_ALLOWED",e[e.DOWNLOADING_NOT_ALLOWED=2]="DOWNLOADING_NOT_ALLOWED"}(Ca||(Ca={}));var Ia=t(18172);(0,t(14671).Z)((function(e,n){return{entities:{},connection:Aa.ONLINE,permissions:Ca.DOWNLOADING_NOT_ALLOWED,setConnection:function(t){e((0,Ia.Uy)(n(),(function(e){e.connection=t})))},setPermissions:function(t){e((0,Ia.Uy)(n(),(function(e){e.permissions=t})))}}})),t(17727);t(32165),t(79753),t(34553);function Pa(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return wa(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wa(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}function wa(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var Ra=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"}),La=/[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,xa=/(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F])/,Ua=/(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/;function Ma(e){return null!==e&&La.test(e)}function Ba(e){return null!==e&&(e<="/"||e>=":"&&e<="@"||"\\"===e||Ma(e))}function Ga(e){return null!==e&&xa.test(e)}function Va(e){return null!==e&&Ua.test(e)}var ja=function(){function e(n,t,r){if(Pn()(this,e),l()(this,"data",void 0),l()(this,"offset",void 0),l()(this,"length",void 0),l()(this,"position",void 0),t<0||r<0||t+r>n.length)throw new RangeError;this.data=n,this.offset=t,this.length=r,this.position=0}return Rn()(e,[{key:"toString",value:function(){return this.data.slice(this.offset,this.offset+this.length).join("")}},{key:"slice",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;if(n<0||t>this.length)throw new RangeError;var r=this.offset+n,i=t-n;return new e(this.data,r,i)}},{key:"nextCodePoint",value:function(){return this.position===this.length?null:this.data[this.offset+this.position++]}}],[{key:"from",value:function(n){var t=Array.from(n.normalize("NFC"));return new e(t,0,t.length)}}]),e}();function Wa(e){var n;do{n=e.nextCodePoint()}while(null!==n&&Ma(n)||Ga(n));return n}function Ha(e,n){var t=Wa(e),r=Wa(n);if(null===r)return{offset:0,length:0};for(var i=e.offset+e.position-1,a=e.offset+e.position;;){if(null===t&&null===r)return{offset:i,length:a-i};if(null===r)return{offset:i,length:a-i};if(null===t)return null;if(0!==Ra.compare(t,r))return null;a=e.offset+e.position,t=Wa(e),r=Wa(n)}}function Ya(e,n){var t,r,i;do{r=e.position,t=e.nextCodePoint()}while(null!==t&&Ma(t));if(null!=n&&n.segmentQuotedStrings&&function(e){return null!==e&&('"'===e||"'"===e)}(t)){var a=t;r=e.position;do{i=e.position,t=e.nextCodePoint()}while(null!==t&&t!==a);return null===t&&r===i?null:e.slice(r,i)}do{if(i=e.position,null!=n&&n.segmentCJKUnifieIdeographs&&Va(t))break;t=e.nextCodePoint()}while(null!==t&&!Ba(t));return null===t&&r===i?null:e.slice(r,i)}function Ka(e){return Ya(e,{segmentQuotedStrings:!0,segmentCJKUnifieIdeographs:!1})}function Ja(e){return Ya(e,{segmentQuotedStrings:!1,segmentCJKUnifieIdeographs:!0})}function qa(e,n){for(var t=[],r=Ja(e);null!==r;r=Ja(e)){var i=Ha(r,n.slice());null===i?null===(i=Ha(e.slice(r.offset),n.slice()))||t.push(i):t.push(i)}return t}function Xa(e,n){return e.offset===n.offset&&e.length===n.length}function za(e){for(var n=ja.from(e),t=[],r=Ka(n);null!==r;r=Ka(n)){for(var i=[],a=0;a<(arguments.length<=1?0:arguments.length-1);++a){var o,s=a+1<1||arguments.length<=a+1?void 0:arguments[a+1],l=qa(ja.from(s),r),u=Pa(l);try{for(u.s();!(o=u.n()).done;){var c=o.value;i.push({text:s,range:c})}}catch(e){u.e(e)}finally{u.f()}}if(0===i.length)return null;t.push.apply(t,Pe()(i.filter((function(e,n,t){return e.range.length>0&&t.findIndex((function(n){return Xa(e.range,n.range)}))===n}))))}return t.length>0?t:null}const Za="Aus4PIxy3sF6RlfMaeFo",$a="ZZDk_iKmXUPXu_KxUN9a";var Qa=function(e,n){return"string"==typeof e&&"string"==typeof n?!(e.length>0)||null!==za(e,n):"boolean"!=typeof e||e},eo=function(e){var n=e.filter,t=e.title,r=(0,f.useCallback)((function(e){var n=Wr()(e.searchWords,1)[0],t=e.textToHighlight;return n?(za(n,t)||[]).map((function(e){return{start:e.range.offset,end:e.range.offset+e.range.length}})):[]}),[]);return m().createElement(Qr.Dy,{as:"h2",variant:"cello",className:$a,semanticColor:"textBase"},n?m().createElement($r(),{searchWords:[n],textToHighlight:t,findChunks:r,highlightClassName:Za}):t)},no=function(e){var n=e.filter,t=e.title,r=e.children,i=e.rows,a=Qa(n,t);if("ALLOW_NULL_ROWS"===i)return a?m().createElement(m().Fragment,null,m().createElement(eo,{filter:n,title:t}),r):null;var o=a?i:i.filter((function(e){return e&&Qa(null==e?void 0:e.props.filter,null==e?void 0:e.props.title)}));return o.length>0?m().createElement(m().Fragment,null,m().createElement(eo,{filter:n,title:t}),o,r):null},to=t(14473);const ro={horizontalPair:"TIU9DuYaVxHVHSUb050e",ProxySettings:"HAqO2XB1kc4cGIDulu92",fullWidth:"ykqMpIHvpnF6XjtvEnAB",proxyInput:"Ex5qZvK9ck_COzwudreW",labelStretch:"LRqmVJV9oEKbTo6IyIjh",restartAppButton:"UwXx1VsrVwaSHruCIAi3",title:"X69rF0dyTnC9Dr4E1N8J",ProxyFormGroup:"lF_Zp2tM9omznaXBSDly"};var io=function(e){var n=e.id,t=e.type,r=e.placeHolder,i=e.inputRef,a=e.handleOnChange;return m().createElement("input",{type:t||"text",id:n,"data-testid":n,className:ro.proxyInput,placeholder:r,ref:i,onChange:a})},ao=function(e){var n=e.children,t=e.label;return m().createElement(to.cw,{label:t,className:ro.ProxyFormGroup},n)},oo=function(e,n,t){var r="".concat(e,":").concat(n);switch(t){case jn:r+="@http";break;case Wn:r+="@socks4";break;case Hn:r+="@socks5"}return r},so=function(e){var n=e.addr,t=e.mode,r=e.pass,i=e.user,a=e.setValue,o=e.restartContainer,s=e.fullWidth,l=e.filter,u=(0,f.useRef)(null),c=(0,f.useRef)(null),d=(0,f.useRef)(null),p=(0,f.useRef)(null),h=(0,f.useState)(""),g=Wr()(h,2),v=g[0],E=g[1],k=(0,f.useState)(""),y=Wr()(k,2),S=y[0],b=y[1],D=(0,f.useState)(!1),_=Wr()(D,2),N=_[0],A=_[1];(0,f.useEffect)((function(){var e=(null==n?void 0:n.split(/[:@]+/))||["",""],t=Wr()(e,2),r=t[0],i=t[1];E(r),b(i),u.current&&(u.current.value=r),c.current&&(c.current.value=i)}),[n]),(0,f.useEffect)((function(){p.current&&r&&(p.current.value=r.toString())}),[r]),(0,f.useEffect)((function(){d.current&&i&&(d.current.value=i.toString())}),[i]);var O=(0,f.useCallback)((function(e){var n=e.target,r=oo(n.value,S,t||0);E(n.value),a("network.proxy.addr",r),A(!0)}),[t,S,a]),T=(0,f.useCallback)((function(e){var n=e.target,r=oo(v,n.value,t||0);b(n.value),a("network.proxy.addr",r),A(!0)}),[t,v,a]),F=(0,f.useCallback)((function(e){var n=e.target;a("network.proxy.user",n.value),A(!0)}),[a]),C=(0,f.useCallback)((function(e){var n=e.target;a("network.proxy.pass",n.value),A(!0)}),[a]),I=0!==t&&1!==t,P=t!==Wn;return m().createElement(no,{rows:"ALLOW_NULL_ROWS",filter:l,title:Vn.get("desktop.settings.proxy.title")},m().createElement("div",{className:Ft()(ro.ProxySettings,s?ro.fullWidth:null)},m().createElement(ao,{label:Vn.get("desktop.settings.proxy.type")},m().createElement(zr,{className:ro.secondColumn,id:"network.proxy.mode",value:t,onSelect:function(e){var n=parseInt(e,10);a("network.proxy.mode",n),A(!0)}},Kn.map((function(e){var n=e.enumKey,t=e.enumValue;return m().createElement("option",{key:n,value:t,"data-testid":n},Yn[n]?Yn[n].label():"")})))),I?m().createElement(m().Fragment,null,m().createElement("div",{className:ro.horizontalPair},m().createElement(ao,{label:Vn.get("desktop.settings.proxy.host")},m().createElement(io,{id:"network.proxy.host",handleOnChange:O,placeHolder:Vn.get("desktop.settings.proxy.host"),inputRef:u})),m().createElement(ao,{label:Vn.get("desktop.settings.proxy.port")},m().createElement(io,{id:"network.proxy.port",type:"number",handleOnChange:T,placeHolder:Vn.get("desktop.settings.proxy.port"),inputRef:c}))),m().createElement("div",{className:P?ro.horizontalPair:void 0},m().createElement(ao,{label:Vn.get("desktop.settings.proxy.user")},m().createElement(io,{id:"network.proxy.user",handleOnChange:F,placeHolder:Vn.get("desktop.settings.proxy.user"),inputRef:d})),P?m().createElement(ao,{label:Vn.get("desktop.settings.proxy.pass")},m().createElement(io,{id:"network.proxy.pass",handleOnChange:C,placeHolder:Vn.get("desktop.settings.proxy.pass"),type:"password",inputRef:p})):null)):null,N&&m().createElement(Jr,{className:ro.restartAppButton,version:"outlined",onClick:o},Vn.get("settings.restartApp"))))};function lo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var uo=["network.proxy.mode","network.proxy.addr","network.proxy.user","network.proxy.pass"];const co=(0,E.$j)((function(e){return{settings:{proxy:e.settings.proxy}}}),(function(e){return{fetchProxySettings:function(){e(lt.fetchProxySettings())},updateProxySettings:function(n){e(lt.updateProxySettings(n))},restartClient:function(){e(lt.restartClient())}}}))((function(e){var n=e.settings,t=void 0===n?{proxy:{mode:0,address:"",username:"",password:""}}:n,r=e.fetchProxySettings,i=void 0===r?function(){}:r,a=e.updateProxySettings,o=void 0===a?function(){}:a,s=e.restartClient,u=void 0===s?function(){}:s;(0,f.useEffect)((function(){i()}),[i]);var c=(0,f.useCallback)((function(e,n){if(function(e){return!!uo.includes(e)}(e)){var r=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?lo(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},t.proxy);switch(e){case"network.proxy.mode":r.mode=n;break;case"network.proxy.addr":r.address=n;break;case"network.proxy.user":r.username=n;break;case"network.proxy.pass":r.password=n}o(r)}return Promise.resolve()}),[t,o]);return m().createElement("main",{className:"Settings","aria-labelledby":"settings-form-title","data-testid":"settings"},m().createElement("h1",{className:"HeroText",id:"settings-form-title"},Vn.get("desktop.login.PreferencesLink")),m().createElement(so,{mode:t.proxy.mode,addr:t.proxy.address,user:t.proxy.username,pass:t.proxy.password,setValue:c,restartContainer:u,fullWidth:!0}))}));function po(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var fo=function(e){ct()(t,e);var n=po(t);function t(e){var r;return Pn()(this,t),(r=n.call(this,e)).handleSettingsClick=r.goToSettingsPage.bind(Et()(r)),r.handleBackToLoginClick=r.handleBackToLoginClick.bind(Et()(r)),r}return Rn()(t,[{key:"handleSignupClick",value:function(){var e=this.props,n=e.openSignupPage,t=e.onInteraction,r=St();n(r),t("login/welcome","click","open-page-signup",null,r)}},{key:"handleBackToLoginClick",value:function(e){e.preventDefault(),this.props.openLoginPage(),this.props.onInteraction(this.props.mode,"click","back-to-login")}},{key:"goToSettingsPage",value:function(e){e.preventDefault(),this.props.openSettingsPage(),this.props.onInteraction(this.props.mode,"click","open-page-settings")}},{key:"renderPreferencesLink",value:function(){return m().createElement("a",{className:"Footer__link",href:"#",onClick:this.handleSettingsClick,"data-ta-id":"login-footer-settings"},Vn.get("desktop.login.PreferencesLink"))}},{key:"renderBackToLoginLink",value:function(){return m().createElement("a",{className:"Footer__link",href:"#",onClick:this.handleBackToLoginClick,"data-ta-id":"login-footer-settings-back-to-login"},Vn.get("desktop.login.Back"))}},{key:"renderTryAgain",value:function(){var e=this;return m().createElement(m().Fragment,null,m().createElement("span",null,Vn.get("desktop-auth.login.not-seeing-browser"))," ",m().createElement("a",{href:"#",onClick:function(){return e.props.tryAgainHandler()}},Vn.get("desktop-auth.login.try-again")))}},{key:"renderSignupLink",value:function(){var e=this;return m().createElement("a",{className:"Footer__NoUnderline",href:"#",id:"signup-link",onClick:function(){return e.handleSignupClick()},"data-ta-id":"welcome-signup-link",dangerouslySetInnerHTML:{__html:Vn.get("desktop.login.DontHaveAnAccountSignup")}})}},{key:"renderRussiaLegalFormLink",value:function(){return m().createElement("div",null,m().createElement("a",{className:"Footer__link",href:"https://support.spotify.com/ru-ru/contact-spotify-legal-form/",target:"_blank",rel:"noopener"},"Форма для Ваших обращений"))}},{key:"render",value:function(){var e=this.props,n=e.mode,t=e.country;return m().createElement("footer",{className:"Footer",role:"contentinfo"},"login"===n&&this.renderPreferencesLink(),"settings"===n&&this.renderBackToLoginLink(),"open-browser"===n&&this.renderTryAgain(),"welcome"===n&&this.renderSignupLink(),"RU"===t&&this.renderRussiaLegalFormLink())}}]),t}(m().PureComponent);const mo=(0,E.$j)((function(e){var n;return{country:null===(n=e.signup.restrictions)||void 0===n?void 0:n.country}}),(function(e){return{tryAgainHandler:function(){e(lt.abortLoginWithAccounts()),e(lt.enterWelcomeMode())},openLoginPage:function(){e(lt.enterLoginMode())},openSignupPage:function(n){return e(lt.enterSignupMode(n))},openSettingsPage:function(){return e(lt.enterSettingsMode())},onInteraction:function(n,t,r,i,a){return e(lt.interaction(n,t,r,i,a))}}}))(fo);function ho(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var go=function(e){ct()(t,e);var n=ho(t);function t(){return Pn()(this,t),n.apply(this,arguments)}return Rn()(t,[{key:"render",value:function(){return m().createElement("header",{className:"Header"},m().createElement("h1",{className:"glue-hidden-visually"},"Spotify"),m().createElement("img",{className:"Header__logo",src:"images/logo.svg",alt:""}))}}]),t}(m().PureComponent),vo=t(51226),Eo=t(45989);function ko(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=mt()(e);if(n){var i=mt()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return pt()(this,t)}}var yo=function(e){ct()(t,e);var n=ko(t);function t(){return Pn()(this,t),n.apply(this,arguments)}return Rn()(t,[{key:"renderFakeWebPlayer",value:function(){return m().createElement("div",{className:"fakeWebPlayer"},m().createElement("aside",null),m().createElement("footer",null,m().createElement("div",{className:"fakeWebPlayer__footer-left"}),m().createElement("div",{className:"fakeWebPlayer__footer-center"}),m().createElement("div",{className:"fakeWebPlayer__footer-right"})),m().createElement("main",null,m().createElement("div",{className:"fakeWebPlayer__content"})))}},{key:"render",value:function(){var e=this.props,n=e.loading,t=e.mode,r=e.loggedIn,i=e.previousMode,a=e.throbberDelay,o=e.signupStep,s=e.previousSignupStep;if(n||!t)return m().createElement(gt,{delay:a});if(r)return null;var l=i?"__".concat(t," __").concat(i,"-to-").concat(t):"";return"signup"===t&&Number.isInteger(s)&&(l+=" __signup_step_".concat(s,"_to_").concat(o)),m().createElement("main",{className:"App",key:"main1","data-ta-id":"login-app","data-testid":"login-app","data-ta-login-mode":t},this.renderFakeWebPlayer(),m().createElement("div",{className:"App__content ".concat(l)},m().createElement(Eo.Z,{mode:"in-out"},m().createElement(vo.Z,{timeout:{appear:0,enter:0,exit:650},key:l},m().createElement("div",{className:"App__modal ".concat(l)},m().createElement(go,null),"welcome"===t&&m().createElement(Nt,null),"signup"===t&&m().createElement(Ar,{step:o}),"login"===t&&m().createElement(Mr,null),"open-browser"===t&&m().createElement(Vr,null),"settings"===t&&m().createElement(co,null),m().createElement(mo,{mode:t}))))))}}]),t}(m().Component);l()(yo,"defaultProps",{throbberDelay:0,transitionLeaveTimeout:0});const So=(0,E.$j)((function(e){return{mode:e.app.mode,previousMode:e.app.previousMode,signupStep:e.signup.step,previousSignupStep:e.signup.previousStep,loading:!!e.login.loading,loggedIn:!!e.login.loggedIn,throbberDelay:e.login.throbberDelay,transitionLeaveTimeout:e.login.redirectDelay}}))(yo);var bo=t(23828),Do=t(53894);var _o=yt().create().toString();var No="has-used-app",Ao=!window.localStorage.getItem(No);Ao&&window.localStorage.setItem(No,!0);const Oo=function(){var e,n=J.getItem("utmParameters");try{e=n?JSON.parse(n).referral:""}catch(n){e=""}return e};var To=null;function Fo(e){To=e}var Co=t(9798);function Io(e){Po({page:e.page,action_type:"pageview",action_intent:""})}function Po(e){var n=e.page,t=e.action_type,r=e.action_intent,i=e.item_id,a=e.action_hash;(function(){if(null===To)throw new Error("Missing `instance`. Have you called `setEventSenderInstance` yet?");return To})().send((0,Co.e)({action_type:t,action_intent:r,action_page:n,action_item_id:i,action_hash:a,device_is_new_install:Ao,device_locale:window.__spotify.locale,device_referrer:Oo(),ab_flags:"",session_id:_o}))}function wo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}const Ro=function(e){window.location.href=e};function Lo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function xo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Lo(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Uo={errorMessage:null};const Mo=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lt.ENTER_SIGNUP_MODE:return xo(xo({},n),{},{previousMode:n.mode,mode:"signup"});case lt.ENTER_LOGIN_MODE:case lt.COUNTRY_NOT_LAUNCHED:return xo(xo({},n),{},{previousMode:n.mode,mode:"login"});case lt.ENTER_WELCOME_MODE:return xo(xo({},n),{},{previousMode:n.mode,mode:"welcome",errorMessage:null!==(e=t.errorMessage)&&void 0!==e?e:null});case lt.ENTER_SETTINGS_MODE:return xo(xo({},n),{},{previousMode:n.mode,mode:"settings"});default:return n}};function Bo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Go(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Bo(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Vo(e){return e.type===lt.SETTINGS_FETCH_PROXY_SETTINGS_SUCCESS}var jo={proxy:{mode:0,address:"",username:"",password:""}};const Wo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jo,n=arguments.length>1?arguments[1]:void 0;return Vo(n)?Go(Go({},e),{},{proxy:{mode:n.data.mode,address:n.data.address,username:n.data.username,password:n.data.password}}):e};function Ho(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Yo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ho(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ho(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ko={step:0,isAttempting:!1,isSuccessful:void 0,errors:{},errorData:{},validated:{},formData:{name:"",email:"",password:"",birthDate:{day:void 0,month:void 0,year:void 0},gender:void 0,sendEmail:void 0,shareData:void 0,agreeEula:!1},restrictions:void 0};const Jo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ko,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case lt.ENTER_SIGNUP_MODE_STEP_0:return Yo(Yo({},e),{},{previousStep:e.step,step:0});case lt.ENTER_SIGNUP_MODE_STEP_1:return Yo(Yo({},e),{},{previousStep:e.step,step:1});case lt.SIGNUP_RESTRICTIONS_SUCCESS:return Yo(Yo({},e),{},{formData:Yo(Yo({},e.formData),{},{sendEmail:!!n.restrictions.requires_marketing_opt_in_text||void 0,agreeEula:!!n.restrictions.pretick_eula}),restrictions:n.restrictions});case lt.SIGNUP_RESTRICTIONS_FAILURE:return Yo(Yo({},e),{},{errorData:n.error});case lt.SIGNUP_ATTEMPT:return Yo(Yo({},e),{},{isAttempting:!0,errorData:null});case lt.SIGNUP_SUCCESS:return Yo(Yo({},e),{},{isAttempting:!0,isSuccessful:!0,errorData:null});case lt.SIGNUP_FAILURE:return Yo(Yo({},e),{},{isAttempting:!1,isSuccessful:!1,errors:n.errors,errorData:null});case lt.FACEBOOK_SIGNUP_ATTEMPT:return Yo(Yo({},e),{},{errorData:null,errors:{}});case lt.FACEBOOK_SIGNUP_FAILURE:return Yo(Yo({},e),{},{errorData:n.errorData});case lt.VALIDATE_FIELD_ATTEMPT:return Yo(Yo({},e),{},{errors:Yo(Yo({},e.errors),{},l()({},n.field,void 0))});case lt.VALIDATE_FIELD_FAILURE:return Yo(Yo({},e),{},{errors:Yo(Yo({},e.errors),{},l()({},n.field,n.error)),validated:Yo(Yo({},e.validated),{},l()({},n.field,!1))});case lt.VALIDATE_FIELD_SUCCESS:return Yo(Yo({},e),{},{errors:Yo(Yo({},e.errors),{},l()({},n.field,void 0)),validated:Yo(Yo({},e.validated),{},l()({},n.field,!0))});case lt.UPDATE_SIGNUP_DATA:for(var t={},r=0,i=Object.keys(n.data);r<i.length;r++){var a=i[r];t[a]=void 0}return Yo(Yo({},e),{},{errors:Yo(Yo({},e.errors),t),formData:Yo(Yo({},e.formData),n.data)});case lt.CLEAR_ALL_ERRORS:return Yo(Yo({},e),{},{errors:{}});default:return e}};var qo=(0,bo.MT)((0,bo.UY)({app:Mo,login:te,settings:Wo,signup:Jo}),void 0,(0,bo.md)(Do.Z,(function(e){return function(n){return function(t){var r=n(t);switch(t.type){case lt.START_APP:e.dispatch(lt.fetchUTMParameters()),e.dispatch(lt.getSignupRestrictions()),!J.getItem("lastUsername")?e.dispatch(lt.enterWelcomeMode()):e.dispatch(lt.enterLoginMode());break;case lt.LOGIN_FAIL:var i=e.getState();if(t.loginType===lt.LOGIN_TYPE_AUTOLOGIN){var a=i.app.mode;"welcome"===a?e.dispatch(lt.enterWelcomeMode()):"login"===a?e.dispatch(lt.enterLoginMode()):"signup"===a&&e.dispatch(lt.enterSignupMode())}else{if("open-browser"===i.app.mode){var o=t.errorData,s=Ct(o.errorCategory,o.errorCode,o.errorReference);"desktop_login_accounts"===o.errorCategory&&4===o.errorCode&&(s="signup"===i.experimentWebAuthReducer.operationUsed?Vn.get("desktop-auth.login.signup-time-out"):Vn.get("desktop-auth.login.login-time-out")),s?e.dispatch(lt.enterWelcomeMode(s)):e.dispatch(lt.enterWelcomeMode())}}break;case lt.ENTER_SIGNUP_MODE:var l=e.getState().signup.restrictions;l?!1===l.is_country_launched&&e.dispatch(lt.countryNotLaunched()):e.dispatch(lt.getSignupRestrictions());break;case lt.SIGNUP_RESTRICTIONS_SUCCESS:!1===t.restrictions.is_country_launched&&e.dispatch(lt.countryNotLaunched());break;case lt.SIGNUP_FAILURE:(t.errors.email||t.errors.password||t.errors.displayname)&&e.dispatch(lt.enterSignupModeStep0());break;case lt.COUNTRY_NOT_LAUNCHED:e.dispatch(lt.openSignupPage(!0))}return r}}}),(function(){return function(e){return function(n){var t=e(n);switch(n.type){case lt.ENTER_LOGIN_MODE:Io({page:"login"});break;case lt.LOGIN_SUCCESS:n.loginType===lt.LOGIN_TYPE_EMAIL?Po({page:"login",action_type:"view",action_intent:"show-success-login-email"}):n.loginType===lt.LOGIN_TYPE_FACEBOOK&&Po({page:"login",action_type:"view",action_intent:"show-success-login-facebook"});break;case lt.LOGIN_FAIL:n.loginType===lt.LOGIN_TYPE_EMAIL?n.errorData&&3===n.errorData.errorCode&&Po({page:"login",action_type:"view",action_intent:"show-error-invalid-credential"}):n.loginType===lt.LOGIN_TYPE_FACEBOOK&&Po({page:"login",action_type:"view",action_intent:"show-error-login-facebook"});break;case lt.ENTER_SIGNUP_MODE:Io({page:"signup"});break;case lt.ENTER_SIGNUP_MODE_STEP_0:Po({page:"signup",action_type:"view",action_intent:"show-signup-step-one"});break;case lt.ENTER_SIGNUP_MODE_STEP_1:Po({page:"signup",action_type:"view",action_intent:"show-signup-step-two"});break;case lt.SIGNUP_SUCCESS:Po({page:"signup",action_type:"view",action_intent:"show-success-signup-email"});break;case lt.SIGNUP_FAILURE:Po({page:"signup",action_type:"view",action_intent:"show-error-signup-email",item_id:n.errors&&Object.keys(n.errors).join("|")});break;case lt.FACEBOOK_SIGNUP_SUCCESS:Po({page:"signup",action_type:"view",action_intent:"show-success-authentication-facebook"});break;case lt.FACEBOOK_SIGNUP_FAILURE:Po({page:"signup",action_type:"view",action_intent:"show-error-authentication-facebook",item_id:n.errorData&&"".concat(n.errorData.errorCode," - ").concat(n.errorData.errorDescription)});break;case lt.ENTER_WELCOME_MODE:Io({page:"login/welcome"});break;case lt.ENTER_SETTINGS_MODE:Io({page:"login/settings"});break;case lt.INTERACTION:Po({page:n.page,action_type:n.interactionType,action_intent:n.intent,item_id:n.itemId,action_hash:n.actionHash});break;case lt.VALIDATE_FIELD_FAILURE:if(n.error){var r=n.field,i=n.error.code,a=null,o=null;"valueMissing"===i?a="show-error-empty-".concat(r):["incomplete","invalid","typeMismatch","tooShort"].includes(i)?a="show-error-format-".concat(r):(a="show-error-".concat(r),o=n.error.message||""),null!==a&&Po(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wo(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({page:"signup",action_type:"view",action_intent:a},o?{item_id:o}:{}))}}return t}}}),(function(){return function(e){return function(n){var t,r=e(n);return n.redirectTo?("xpui"!==n.redirectTo||(t="spotify:app:xpui",n.redirectDelay?setTimeout((function(){Ro(t)}),n.redirectDelay):Ro(t)),r):r}}})));qo.subscribe((function(){var e=qo.getState();e.login.username&&localStorage.setItem(z,e.login.username),e.login.utmParameters&&localStorage.setItem($,JSON.stringify(e.login.utmParameters))}));const Xo=qo;var zo=t(92585),Zo=t(58327);function $o(e){e}function Qo(){var e=(0,Zo.createBaseTransport)({providers:{endpoints:(0,Zo.createXResolveProvider)(),token:function(){return null}}});return e.connect(),e}var es=t(31207),ns=t(24978),ts=function(e,n,t){if("event_sender_context_information"in e){var r=e.event_sender_context_information;return(0,es.createEventSender)({transport:n,suppressPersist:false,context:[(0,ns.UR)({version:r.client_version_string}),(0,ns.jx)(t),(0,ns.IE)(r.installation_id),(0,ns.Hv)({name:r.platform_type,version:r.os_version})]})}return(0,es.createEventSender)({transport:n,suppressPersist:false,context:[(0,ns.jx)(t),(0,ns.UR)({version:e.client_version_quadruple}),(0,ns.IE)(e.event_sender_installation_id_hex),(0,ns.Hv)({name:e.os_name,version:e.os_version})]})};function rs(){return(rs=c()(p().mark((function e(){var n,t,r,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,t=[window.__spotify.locale,An.en];case 1:if(!(n<t.length)){e.next=18;break}return r=t[n],e.prev=3,e.next=6,fetch("i18n/".concat(r,".json")).then((function(e){return e.json()}));case 6:return i=e.sent,Vn.setLocale(r),Vn.setDictionary(i),e.abrupt("return");case 12:e.prev=12,e.t0=e.catch(3);case 15:n++,e.next=1;break;case 18:throw new Error("Cannot find a suitable locale! Something is wrong: talk to #desktop.");case 19:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}function is(){return(is=c()(p().mark((function e(){var n,t,r,i,a,o,s,u,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$o(t=Qo()),Fo(ts(window.__spotify,t,"65b708073fc0480ea92a077233ca87bd")),y.attach(),y.update(),k.attach(),r=document.location.search,i=new RegExp("\\?param=error-code\\".concat(encodeURIComponent("="),"([0-9]+)"),"i"),window.addEventListener("message",(function(e){"critical-update-error"===e.data&&Xo.dispatch(lt.loginFailed({errorCode:e.data}))})),a=r.match(i),r&&a&&(o=+a[1],Xo.dispatch(lt.loginFailed({errorCode:o}))),s="linux",window.navigator.platform.startsWith("Mac")&&(s="mac"),window.navigator.platform.startsWith("Win")&&(s="windows"),document.body.classList.add("body-container--".concat(s)),g().render(m().createElement(v.zj,null,m().createElement(E.zt,{store:Xo},m().createElement(So,null))),document.getElementById("main")),Xo.dispatch(lt.startApp()),document.documentElement.setAttribute("dir",window.__spotify.localization_is_rtl?"rtl":"ltr"),n={},l()(n,zo.PLATFORM_UNKNOWN,"body-container--unknown-os"),l()(n,zo.PLATFORM_MAC,"body-container--mac"),l()(n,zo.PLATFORM_WINDOWS,"body-container--windows"),u=n,c=(0,zo.getPlatform)(),document.body.classList.add(u[c]);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return rs.apply(this,arguments)})().then((function(){return is.apply(this,arguments)}))},92585:(e,n,t)=>{"use strict";t.r(n),t.d(n,{PLATFORM_UNKNOWN:()=>r,PLATFORM_MAC:()=>i,PLATFORM_WINDOWS:()=>a,isMac:()=>o,isWindows:()=>s,getPlatform:()=>l});t(82526),t(41817),t(41539),t(23157);var r=Symbol("PLATFORM_UNKNOWN"),i=Symbol("PLATFORM_MAC"),a=Symbol("PLATFORM_WINDOWS");function o(){return window.navigator.platform.startsWith("Mac")}function s(){return window.navigator.platform.startsWith("Win")}function l(){return o()?i:s()?a:r}},2976:(e,n)=>{var t=!1;n.update=function(){},n.attach=function(){if(!t){t=!0;var e=window.__spotify&&window.__spotify.locale;e&&document.documentElement.setAttribute("lang",e)}},n.detach=function(){t&&(t=!1,document.documentElement.removeAttribute("lang"))}},30685:(e,n,t)=>{var r,i=t(319),a=t(59713);t(89554),t(41539),t(54747),t(26699),t(48702),t(92222),t(32564),t(68309);var o=t(92585),s=o.getPlatform,l=o.PLATFORM_UNKNOWN,u=o.PLATFORM_MAC,c=o.PLATFORM_WINDOWS,d=!1,p="always-visible",f=0,m=(a(r={},l,"linux"),a(r,u,"mac"),a(r,c,"windows"),r),h=m[l];function g(){var e=i(document.querySelectorAll("*")),n=[],t=["scroll","auto","overlay"];e.forEach((function(e){var r=window.getComputedStyle(e),i=r.overflowX,a=r.overflowY;t.includes(i)&&n.push({node:e,property:"overflow-x"}),t.includes(a)&&n.push({node:e,property:"overflow-y"})}));var r=document.createElement("style");r.innerHTML="\n    html::-webkit-scrollbar,\n    body::-webkit-scrollbar {\n      background-color: rgba(1, 2, 3, 0) !important;\n    }\n  ".trimRight();var a="data-scrollbar-fix-".concat(++f,"-id"),o=0;n.forEach((function(e){var n=e.node,t=e.property;if(n!==document.body){var i=++o;n.setAttribute(a,i),r.innerHTML+="\n    [".concat(a,'="').concat(i,'"] { ').concat(t,": hidden !important; }")}})),document.head.appendChild(r),setTimeout((function(){document.head.removeChild(r),n.forEach((function(e){e.node.removeAttribute(a)}))}),0)}n.performScrollBarFix=g,n.update=function(){},n.attach=function(){if(!d){d=!0;var e=window.__spotify&&window.__spotify.scroller_style;p="overlay"===e?"overlay":"always-visible";var n=s();h=m[n],"always-visible"===p||"mac"!==h?(document.body.classList.remove("scrollbar-style-when-scrolling-mac"),document.body.classList.add("scrollbar-style-visible-".concat(h))):(document.body.classList.remove("scrollbar-style-visible-".concat(h)),document.body.classList.add("scrollbar-style-when-scrolling-mac")),window.addEventListener("message",(function(e){"set_active"===e.data.name&&e.data.active&&g()}))}},n.detach=function(){d&&(d=!1,f=0)}},24986:(e,n,t)=>{"use strict";t.d(n,{lX:()=>k,q_:()=>_,PP:()=>A,ob:()=>p,Ep:()=>d});t(50008),t(74916),t(24603),t(39714),t(47042),t(82772),t(64765),t(57327),t(41539),t(89554),t(54747),t(92222),t(83710),t(15306),t(94986),t(66992),t(33948),t(21249),t(40561);var r=t(87462),i=t(78273),a=t(95429),o=t(2177);function s(e){return"/"===e.charAt(0)?e:"/".concat(e)}function l(e){return"/"===e.charAt(0)?e.substr(1):e}function u(e,n){return function(e,n){return new RegExp("^".concat(n,"(\\/|\\?|#|$)"),"i").test(e)}(e,n)?e.substr(n.length):e}function c(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function d(e){var n=e.pathname,t=e.search,r=e.hash,i=n||"/";return t&&"?"!==t&&(i+="?"===t.charAt(0)?t:"?".concat(t)),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#".concat(r)),i}function p(e,n,t,a){var o;"string"==typeof e?(o=function(e){var n=e||"/",t="",r="",i=n.indexOf("#");-1!==i&&(r=n.substr(i),n=n.substr(0,i));var a=n.indexOf("?");return-1!==a&&(t=n.substr(a),n=n.substr(0,a)),{pathname:n,search:"?"===t?"":t,hash:"#"===r?"":r}}(e),o.state=n):(void 0===(o=(0,r.Z)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?".concat(o.search)):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#".concat(o.hash)):o.hash="",void 0!==n&&void 0===o.state&&(o.state=n));try{o.pathname=decodeURI(o.pathname)}catch(e){}return t&&(o.key=t),a?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=(0,i.Z)(o.pathname,a.pathname)):o.pathname=a.pathname:o.pathname||(o.pathname="/"),o}function f(){var e=null;var n=[];return{setPrompt:function(n){return e=n,function(){e===n&&(e=null)}},confirmTransitionTo:function(n,t,r,i){if(null!=e){var a="function"==typeof e?e(n,t):e;"string"==typeof a?"function"==typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var t=!0;function r(){t&&e.apply(void 0,arguments)}return n.push(r),function(){t=!1,n=n.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.forEach((function(e){return e.apply(void 0,t)}))}}}var m=!("undefined"==typeof window||!window.document||!window.document.createElement);function h(e,n){n(window.confirm(e))}var g="popstate",v="hashchange";function E(){try{return window.history.state||{}}catch(e){return{}}}function k(e){void 0===e&&(e={}),m||(0,o.Z)(!1);var n,t=window.history,i=(-1===(n=window.navigator.userAgent).indexOf("Android 2.")&&-1===n.indexOf("Android 4.0")||-1===n.indexOf("Mobile Safari")||-1!==n.indexOf("Chrome")||-1!==n.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,a=!(-1===window.navigator.userAgent.indexOf("Trident")),l=e,k=l.forceRefresh,y=void 0!==k&&k,S=l.getUserConfirmation,b=void 0===S?h:S,D=l.keyLength,_=void 0===D?6:D,N=e.basename?c(s(e.basename)):"";function A(e){var n=e||{},t=n.key,r=n.state,i=window.location,a=i.pathname+i.search+i.hash;return N&&(a=u(a,N)),p(a,r,t)}function O(){return Math.random().toString(36).substr(2,_)}var T=f();function F(e){(0,r.Z)(V,e),V.length=t.length,T.notifyListeners(V.location,V.action)}function C(e){(function(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")})(e)||w(A(e.state))}function I(){w(A(E()))}var P=!1;function w(e){if(P)P=!1,F();else{T.confirmTransitionTo(e,"POP",b,(function(n){n?F({action:"POP",location:e}):function(e){var n=V.location,t=L.indexOf(n.key);-1===t&&(t=0);var r=L.indexOf(e.key);-1===r&&(r=0);var i=t-r;i&&(P=!0,U(i))}(e)}))}}var R=A(E()),L=[R.key];function x(e){return N+d(e)}function U(e){t.go(e)}var M=0;function B(e){1===(M+=e)&&1===e?(window.addEventListener(g,C),a&&window.addEventListener(v,I)):0===M&&(window.removeEventListener(g,C),a&&window.removeEventListener(v,I))}var G=!1;var V={length:t.length,action:"POP",location:R,createHref:x,push:function(e,n){var r="PUSH",a=p(e,n,O(),V.location);T.confirmTransitionTo(a,r,b,(function(e){if(e){var n=x(a),o=a.key,s=a.state;if(i)if(t.pushState({key:o,state:s},null,n),y)window.location.href=n;else{var l=L.indexOf(V.location.key),u=L.slice(0,-1===l?0:l+1);u.push(a.key),L=u,F({action:r,location:a})}else window.location.href=n}}))},replace:function(e,n){var r="REPLACE",a=p(e,n,O(),V.location);T.confirmTransitionTo(a,r,b,(function(e){if(e){var n=x(a),o=a.key,s=a.state;if(i)if(t.replaceState({key:o,state:s},null,n),y)window.location.replace(n);else{var l=L.indexOf(V.location.key);-1!==l&&(L[l]=a.key),F({action:r,location:a})}else window.location.replace(n)}}))},go:U,goBack:function(){U(-1)},goForward:function(){U(1)},block:function(e){void 0===e&&(e=!1);var n=T.setPrompt(e);return G||(B(1),G=!0),function(){return G&&(G=!1,B(-1)),n()}},listen:function(e){var n=T.appendListener(e);return B(1),function(){B(-1),n()}}};return V}var y="hashchange",S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/".concat(l(e))},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:l,decodePath:s},slash:{encodePath:s,decodePath:s}};function b(){var e=window.location.href,n=e.indexOf("#");return-1===n?"":e.substring(n+1)}function D(e){var n=window.location.href.indexOf("#");window.location.replace("".concat(window.location.href.slice(0,n>=0?n:0),"#").concat(e))}function _(e){void 0===e&&(e={}),m||(0,o.Z)(!1);var n=window.history,t=(window.navigator.userAgent.indexOf("Firefox"),e),i=t.getUserConfirmation,l=void 0===i?h:i,g=t.hashType,v=void 0===g?"slash":g,E=e.basename?c(s(e.basename)):"",k=S[v],_=k.encodePath,N=k.decodePath;function A(){var e=N(b());return E&&(e=u(e,E)),p(e)}var O=f();function T(e){(0,r.Z)(G,e),G.length=n.length,O.notifyListeners(G.location,G.action)}var F=!1,C=null;function I(){var e,n,t=b(),r=_(t);if(t!==r)D(r);else{var i=A(),o=G.location;if(!F&&(n=i,(e=o).pathname===n.pathname&&e.search===n.search&&e.hash===n.hash&&e.key===n.key&&(0,a.Z)(e.state,n.state)))return;if(C===d(i))return;C=null,function(e){if(F)F=!1,T();else{var n="POP";O.confirmTransitionTo(e,n,l,(function(t){t?T({action:n,location:e}):function(e){var n=G.location,t=L.lastIndexOf(d(n));-1===t&&(t=0);var r=L.lastIndexOf(d(e));-1===r&&(r=0);var i=t-r;i&&(F=!0,x(i))}(e)}))}}(i)}}var P=b(),w=_(P);P!==w&&D(w);var R=A(),L=[d(R)];function x(e){n.go(e)}var U=0;function M(e){1===(U+=e)&&1===e?window.addEventListener(y,I):0===U&&window.removeEventListener(y,I)}var B=!1;var G={length:n.length,action:"POP",location:R,createHref:function(e){return"#".concat(_(E+d(e)))},push:function(e,n){var t="PUSH",r=p(e,void 0,void 0,G.location);O.confirmTransitionTo(r,t,l,(function(e){if(e){var n=d(r),i=_(E+n);if(b()!==i){C=n,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(d(G.location)),o=L.slice(0,-1===a?0:a+1);o.push(n),L=o,T({action:t,location:r})}else T()}}))},replace:function(e,n){var t="REPLACE",r=p(e,void 0,void 0,G.location);O.confirmTransitionTo(r,t,l,(function(e){if(e){var n=d(r),i=_(E+n);b()!==i&&(C=n,D(i));var a=L.indexOf(d(G.location));-1!==a&&(L[a]=n),T({action:t,location:r})}}))},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(e){void 0===e&&(e=!1);var n=O.setPrompt(e);return B||(M(1),B=!0),function(){return B&&(B=!1,M(-1)),n()}},listen:function(e){var n=O.appendListener(e);return M(1),function(){M(-1),n()}}};return G}function N(e,n,t){return Math.min(Math.max(e,n),t)}function A(e){void 0===e&&(e={});var n=e,t=n.getUserConfirmation,i=n.initialEntries,a=void 0===i?["/"]:i,o=n.initialIndex,s=void 0===o?0:o,l=n.keyLength,u=void 0===l?6:l,c=f();function m(e){(0,r.Z)(y,e),y.length=y.entries.length,c.notifyListeners(y.location,y.action)}function h(){return Math.random().toString(36).substr(2,u)}var g=N(s,0,a.length-1),v=a.map((function(e){return p(e,void 0,"string"==typeof e?h():e.key||h())})),E=d;function k(e){var n=N(y.index+e,0,y.entries.length-1),r=y.entries[n];c.confirmTransitionTo(r,"POP",t,(function(e){e?m({action:"POP",location:r,index:n}):m()}))}var y={length:v.length,action:"POP",location:v[g],index:g,entries:v,createHref:E,push:function(e,n){var r="PUSH",i=p(e,n,h(),y.location);c.confirmTransitionTo(i,r,t,(function(e){if(e){var n=y.index+1,t=y.entries.slice(0);t.length>n?t.splice(n,t.length-n,i):t.push(i),m({action:r,location:i,index:n,entries:t})}}))},replace:function(e,n){var r="REPLACE",i=p(e,n,h(),y.location);c.confirmTransitionTo(i,r,t,(function(e){e&&(y.entries[y.index]=i,m({action:r,location:i}))}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},canGo:function(e){var n=y.index+e;return n>=0&&n<y.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return y}}},t={};function r(e){var i=t[e];if(void 0!==i)return i.exports;var a=t[e]={exports:{}};return n[e].call(a.exports,a,a.exports,r),a.exports}r.m=n,r.amdO={},e=[],r.O=(n,t,i,a)=>{if(!t){var o=1/0;for(c=0;c<e.length;c++){for(var[t,i,a]=e[c],s=!0,l=0;l<t.length;l++)(!1&a||o>=a)&&Object.keys(r.O).every((e=>r.O[e](t[l])))?t.splice(l--,1):(s=!1,a<o&&(o=a));if(s){e.splice(c--,1);var u=i();void 0!==u&&(n=u)}}return n}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[t,i,a]},r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={535:0};r.O.j=n=>0===e[n];var n=(n,t)=>{var i,a,[o,s,l]=t,u=0;if(o.some((n=>0!==e[n]))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(l)var c=l(r)}for(n&&n(t);u<o.length;u++)a=o[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},t=("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var i=r.O(void 0,[569],(()=>r(61259)));i=r.O(i)})();
//# sourceMappingURL=login.js.map