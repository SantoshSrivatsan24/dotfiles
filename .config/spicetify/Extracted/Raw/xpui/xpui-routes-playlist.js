"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[878],{90110:(e,n,t)=>{t.d(n,{q:()=>D,o:()=>A});var a=t(63038),i=t.n(a),l=t(59713),r=t.n(l),s=t(67294),o=t.n(s),c=t(94184),u=t.n(c),d=t(69518),m=t.n(d),k=t(50020),v=t(96895),p=t(20657),f=t(83692),b=t(24656),g=t(69010),y=t(80946),S=t(6116),E=t(38209),N=t(40080);const h="l_MW0G9qeeCKlVJwBykT",C="BKsbV2Xl786X9a09XROH",T="HbKLiGoYM4dpuK8L4TMX",F="_APVWqivXc4YqgsnpFkP",R="VmwiDoU6RpqyzK_n7XRO",w="rEx3EYgBzS8SoY7dmC6x",x="z3zia5snl987x676qe5w";var D;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(D||(D={}));var I=function(e){var n=e.currentTarget;e.detail>0&&n&&n.blur()},A=function(e){var n=e.uri,t=e.isFollowing,a=e.onFollow,l=e.size,c=void 0===l?D.sm:l,d=e.className,A=e.onClick,L=void 0===A?function(){}:A,O=r()({},"--size","".concat(c,"px")),P=(0,s.useContext)(b.I),U=P.useDownloading,_=P.useDownloadCapability,B=(0,s.useState)(!1),M=i()(B,2),V=M[0],j=M[1],Q=_(m().isEpisode(n)),Z=i()(Q,2),K=Z[0],z=Z[1],G=(0,s.useState)(!1),W=i()(G,2),q=W[0],X=W[1],H=U(n),J=H.currentAvailability,Y=H.progress,$=H.beginDownload,ee=H.clearDownload;!function(e,n){var t=(0,E.r)(),a=(0,s.useRef)(!1);(0,s.useEffect)((function(){e===g.V8.DOWNLOADING&&!1===a.current&&(a.current=!0,t.say(p.ag.get("download.downloading",n.totalItems)))}),[t,e,n]);var i=(0,N.D)(e);(0,s.useEffect)((function(){i===g.V8.DOWNLOADING&&e===g.V8.YES&&(a.current=!1,t.say(p.ag.get("download.complete")))}),[t,i,e])}(J,Y);var ne=(0,s.useCallback)((function(e){z===g.v$.DOWNLOADING_NOT_ALLOWED?X(!0):!1===t?(a(),j(!0)):$(),L(e),I(e)}),[$,z,t,L,a]),te=(0,s.useCallback)((function(e){ee(),I(e),L(e)}),[ee,L]);return(0,s.useEffect)((function(){!0===V&&!0===t&&($(),j(!1))}),[t,V,$]),K===g.PQ.NO_DOWNLOAD_CAPABILITY?null:z===g.v$.DOWNLOADING_NOT_ALLOWED?o().createElement("div",{className:C},o().createElement(f.w,{label:p.ag.get("download.download")},o().createElement("button",{className:u()(T,d),role:"switch",onClick:ne,"aria-label":p.ag.get("download.download"),"aria-checked":!1},o().createElement(k.a,{iconSize:c}))),q&&o().createElement("div",{className:x},o().createElement(y.E,{withTopLeftPointer:!0,horizontal:!0,onClose:function(){X(!1)}},p.ag.get("download.upsell")))):J===g.V8.YES?o().createElement(f.w,{label:p.ag.get("download.remove")},o().createElement("button",{className:u()(T,d,F),role:"switch",onClick:te,"aria-label":p.ag.get("download.remove"),"aria-checked":!0},o().createElement(v.C,{iconSize:c}))):J===g.V8.NO?o().createElement(f.w,{label:p.ag.get("download.download")},o().createElement("button",{className:u()(T,d),role:"switch",onClick:ne,"aria-label":p.ag.get("download.download"),"aria-checked":!1},o().createElement(k.a,{iconSize:c}))):o().createElement("div",{className:u()(R,d),role:"switch","aria-checked":!0},o().createElement(f.w,{label:p.ag.get("download.cancel")},o().createElement("button",{style:O,className:u()(T,h,d),onClick:te,"aria-label":p.ag.get("download.cancel")})),o().createElement("span",{style:O,className:u()(w,h)},o().createElement(S.e,{"aria-valuetext":p.ag.get("progress.downloading-tracks"),percentage:Y.percentage,size:c})))}},70369:(e,n,t)=>{t.d(n,{$:()=>a.$});var a=t(22578)},37338:(e,n,t)=>{t.d(n,{T:()=>v});var a=t(63038),i=t.n(a),l=(t(68309),t(67294)),r=t.n(l),s=t(15212),o=t(25678),c=t(33732),u=t(42273),d=t(22023);const m="Ws8Ec3GREpT5PAUesr9b",k="kHu_FTRgoBLSLeAJtyKY";var v=function(e){var n=e.onClick,t=e.name,a=e.images,l=e.canEdit,v=e.placeholderType,p=e.shape,f=void 0===p?u.Kc.SQUARE:p,b=e.dragUri,g=void 0===b?"":b,y=(0,c.RH)(a),S=i()(y,2),E=S[0],N=S[1],h=(0,o.VO)(E,N)===o.KO.loaded,C=(0,s.O1)([g],t);return r().createElement("div",{className:m,"data-testid":"".concat(v,"-image"),draggable:!!g,onDragStart:C},r().createElement(u.Oe,{loading:"eager",name:t,images:a,placeholderType:v,shape:f}),l&&r().createElement("div",{className:k},r().createElement(d.F,{overlay:h,onClick:n,rounded:f===u.Kc.CIRCLE})))}},41192:(e,n,t)=>{t.r(n),t.d(n,{Playlist:()=>Qn,default:()=>Zn});var a=t(48926),i=t.n(a),l=t(63038),r=t.n(l),s=t(87757),o=t.n(s),c=(t(66992),t(41539),t(88674),t(78783),t(33948),t(68309),t(82772),t(91058),t(41637),t(74916),t(64765),t(57327),t(21249),t(23123),t(47042),t(92222),t(67294)),u=t.n(c),d=t(65858),m=t(16528),k=t(69518),v=t.n(k),p=t(28760),f=t(44794),b=t(44503),g=t(32567),y=t(45287),S=t(20657),E=t(30947),N=t(11414),h=t(55911),C=t(20246),T=t(18061),F=t(32648),R=t(43620),w=t(50062),x=t(4383),D=t(84242),I=t(72138),A=t(87454),L=t(88063),O=t(18228);var P=t(97194),U=t(42038),_=(t(3843),t(83710),t(5212),t(83056)),B=function(e,n,t){return{event:e,app_startup_id:null,ad_playback_id:null,ad_id:String(n),lineitem_id:String(t),creative_id:String(n),ad_format:"sponsored playlist",slot:null,in_focus:null,username:null,jsondata:JSON.stringify({platform:"WebPlayer",revision:"1.0.0"})}},M=function(e){var n=e.clickTracking,t=e.clickThrough,a=e.thirdPartyImpression,i=e.impression,l=e.logoUrl,s=e.advertiserName,o=e.creativeId,m=e.lineItemId,k=(0,d.I0)(),v=(0,c.useState)(!1),f=r()(v,2),b=f[0],g=f[1];return(0,c.useEffect)((function(){return k((0,_.Vw)()),k((0,_.kh)(B("event_viewed",o,m))),function(){k((0,_.AG)())}}),[k,o,m]),u().createElement("div",{className:"sponsor-container"},u().createElement(p.Dy,{variant:"minuet",className:"sponsor-text","data-ta-id":"sponsor-text"},S.ag.get("playlist.presented_by",s)),u().createElement("div",{className:"sponsor-logo"},u().createElement("a",{draggable:!1,className:"sponsor-logo__link",target:"_blank",href:t,onClick:function(){k((0,_.kh)(B("event_clicked",o,m))),g(!0)}},u().createElement("img",{draggable:!1,className:"sponsor-logo__image",src:l,alt:s,"data-ta-id":"sponsor-logo"})),u().createElement("img",{className:"sponsor-logo__imp-pixel",src:i,alt:""}),a&&u().createElement("img",{className:"sponsor-logo__3p-imp-pixel",src:a,alt:""}),b&&u().createElement("img",{className:"sponsor-logo__click-img-pixel",src:n,alt:""})))},V=function(e){var n=e.playlistUri,t=(0,d.I0)(),a=(0,d.v9)((function(e){return e.ads.sponsoredPlaylist.previewAd||e.ads.sponsoredPlaylist.sponsoredPlaylist.get(n)}));return(0,c.useEffect)((function(){a||t((0,_.fd)(n))}),[t,n,a]),a?u().createElement("div",null,u().createElement(M,a)):null},j=function(e){var n=e.playlistUri,t=(0,d.I0)(),a=(0,d.v9)((function(e){return e.ads.sponsoredPlaylist.sponsoredPlaylist.get("allSponsorships")})),i=(0,d.v9)((function(e){return e.ads.sponsoredPlaylist.previewAd}));(0,c.useEffect)((function(){a||t((0,_.z8)())}),[t,a]);var l=i||a&&function(e,n){var t=Date.now()/1e3,a=e.split(":"),i=a[a.length-1];return n.some((function(e){var n=e.playlistId,a=e.endTime,l=e.startTime;return n===i&&t>=l&&t<(a||t+1)}))}(n,a);return l?u().createElement(V,{playlistUri:n}):null},Q=t(1169),Z=t(56802),K=t(4236),z=t(36132),G=t(29255),W=t(90110),q=t(95661),X=t(13020),H=t(70369),J=t(19565),Y=t(98778),$=t(61048),ee=(t(15306),t(8455)),ne=t(62890);const te="hOOwEKqNuXrNvOCB1SgZ",ae="csEdkIN9z2LjJIuZraqz";var ie=function(e){var n=e.uri,t=(0,x.Z)(n),a=r()(t,2),i=a[0],l=a[1],s=(0,m.k6)(),o=(0,c.useCallback)((function(){l(!1),s.replace("/collection/playlists")}),[s,l]);return u().createElement("div",{className:te},u().createElement(ee.Z,{iconSize:64}),u().createElement("div",{className:ae},u().createElement(p.Dy,{as:"p",variant:"canon"},S.ag.get("forbidden-page.title")),u().createElement(p.Dy,{as:"p",variant:"mesto"},S.ag.get("forbidden-page.description"))),i&&u().createElement(ne.z,{version:"secondary",onClick:o},S.ag.get("remove_from_your_library")))},le=t(84200),re=t(1663),se=t(55120),oe=t(22423),ce=t(78462),ue=(t(70189),t(42922)),de=t(28018),me=t(49961),ke=t(28248),ve=new Set(ce.RJ),pe=new Set([]),fe={column:null,order:ke.kn.NONE},be=u().memo((function(e){var n=e.ariaLabel,t=e.nrTracks,a=e.playlistUri,l=e.rankType,s=e.scrollToUid,d=e.usePlayContextItem,m=e.tracklistDomRef,k=(0,c.useContext)(I.ZF),v=(0,c.useContext)(oe.fo),p=v.filter,f=v.setFilter,b=(0,c.useRef)(null),g=(0,c.useState)(t),y=r()(g,2),S=y[0],E=y[1],N=(0,c.useCallback)((function(){b.current&&b.current.update()}),[]);(0,de.r)(a,N);var h=(0,c.useContext)(ce.Gb),C=h.sortState,T=h.setSortState,F=(0,c.useCallback)((function(e){T((0,z.VK)(e,C))}),[C,T]);(0,c.useEffect)((function(){b.current&&b.current.update()}),[C,p]),(0,c.useEffect)((function(){T(fe),f("")}),[a,f,T]),(0,c.useEffect)((function(){b.current&&s&&b.current.scrollToItem({uid:s})}),[s]),(0,c.useEffect)((function(){b.current&&""===p&&b.current.scrollToFirstSelected()}),[p,S]);var R=(0,c.useCallback)(function(){var e=i()(o().mark((function e(n,t){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getContents(a,{offset:n,limit:t,sort:(0,z._j)(C),filter:p,decorateFormatListData:!0});case 2:return(i=e.sent).totalLength!==S&&E(i.totalLength),e.abrupt("return",i.items);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[a,k,S,C,p]),w="plays"===l,x=(0,c.useCallback)((function(e,n){var t,i,l,r=(0,me.X)(null===(t=e.album)||void 0===t?void 0:t.images,{desiredSize:40,desiredLabel:"small"});return u().createElement(ke.h_,{key:n+e.uri,index:n,contextUri:a,uri:e.uri,uid:e.uid||void 0,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:e.isExplicit,isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:(null==r?void 0:r.url)||"",statusChange:null===(i=e.formatListAttributes)||void 0===i?void 0:i.status,showPlayCount:w,playCount:parseInt((null===(l=e.formatListAttributes)||void 0===l?void 0:l.rank)||"0",10),usePlayContextItem:d})}),[a,w,d]),D=(0,c.useMemo)((function(){return w?[ke.QD.INDEX,ke.QD.TITLE,ke.QD.PLAYS,ke.QD.ALBUM,ke.QD.DURATION]:[ke.QD.INDEX,ke.QD.TITLE,ke.QD.ALBUM,ke.QD.DURATION]}),[w]),A=(0,c.useCallback)((function(e){return e.uri}),[]),L=(0,c.useCallback)((function(e){return e.id}),[]);return u().createElement(ue.ZP,{value:"chart-tracklist"},u().createElement(ke.Pv,{key:a,ariaLabel:n,hasHeaderRow:!0,columns:D,sortableColumns:k.getCapabilities().canSort?ve:pe,sortState:C,onSort:F,renderRow:x,resolveUri:A,resolveUid:L,nrTracks:S,fetchTracks:R,limit:100,canFetchAllTracks:k.getCapabilities().canFetchAllTracks,outerRef:b,outerDomRef:m}))})),ge=t(67154),ye=t.n(ge),Se=t(6479),Ee=t.n(Se),Ne=t(73197),he=t(76955),Ce=t(83692);const Te="CpQBQL6M4D3bquNOpKd9";var Fe=["uri","label"],Re=function(e){var n=e.uri,t=e.label,a=Ee()(e,Fe),i=(0,he.l)({uri:n,permissionLevel:"CONTRIBUTOR"}).onCopyLink;return u().createElement(Ce.w,{label:t},u().createElement(Ne.I,ye()({},a,{className:Te,onClick:i,iconSize:32})))},we=t(83979),xe=t(94184),De=t.n(xe),Ie=t(79202),Ae=t(29547),Le=t(34031),Oe=t(3775),Pe=(t(98984),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"querySearch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"term"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"term"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"episode"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"podcast"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}}]}),Ue={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"querySearchAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]}}]}}]},_e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"querySearchArtist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"following"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topTracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]},Be=t(86912),Me=t(47130),Ve=t(64005);const je={filterInputContainer:"scu52wCcmMwOKyeaKQQl",filterInput:"amTaUy6eMlbKh0wzrOnb",overlay:"qbOLHzBszqCGWkyrK_ga",searchIconContainer:"tQYCHXfrpZchZQUj1SB3",searchIcon:"At01nHT_5bSZWtf053vQ",clearButton:"YVhFT5kSA0aTMbgmACwa"};var Qe=u().memo((function(e){var n=e.placeholder,t=e.onChange,a=void 0===t?function(){}:t,i=e.onFocus,l=void 0===i?function(){}:i,s=(0,f.W6)(b.DW),o=(0,c.useState)(""),d=r()(o,2),m=d[0],k=d[1],v=(0,c.useRef)(null),g=(0,Ve.y)((function(e){a(e)}),200),y=(0,c.useCallback)((function(e){var n=e.currentTarget.value;k(n),g(n)}),[k,g]),E=(0,c.useCallback)((function(){v.current&&v.current.focus(),k(""),a("")}),[k,a]),N=(0,c.useCallback)((function(e){"Escape"===e.key&&m&&E()}),[m,E]),h=s?Be.z:Me.h;return u().createElement("div",{className:je.filterInputContainer,role:"search"},u().createElement(p.Dy,{as:"input",variant:"mesto",ref:v,className:De()(je.filterInput),role:"searchbox",maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,placeholder:n,onChange:y,onKeyDown:N,onFocus:l,value:m}),u().createElement("div",{className:je.overlay},u().createElement("span",{className:je.searchIconContainer},u().createElement(h,{iconSize:16,className:je.searchIcon,"aria-hidden":"true"})),m&&u().createElement("button",{className:je.clearButton,onClick:E,"aria-label":S.ag.get("search.a11y.clear-input")},u().createElement(Ie.j,{iconSize:16,className:je.filterInputIcon}))))})),Ze=t(319),Ke=t.n(Ze),ze=t(59713),Ge=t.n(ze),We=(t(69826),t(85827),t(47941),t(82526),t(38880),t(89554),t(54747),t(49337),t(33321),t(69070),t(7073)),qe=t(42781);function Xe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function He(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Xe(Object(t),!0).forEach((function(n){Ge()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Je=function(e){var n;return{uid:e.uid,uri:e.track.uri,name:e.track.name,isPlayable:e.track.playability.playable,isMOGEFRestricted:e.track.contentRating.label===We.KS.NineteenPlus,isExplicit:e.track.contentRating.label===We.KS.Explicit,album:{id:e.track.album.id,name:e.track.album.name,imgUrl:(null===(n=e.track.album.coverArt)||void 0===n?void 0:n.sources[0].url)||"",uri:e.track.album.uri},artists:e.track.artists.items.map((function(e){return{id:e.id,uri:e.uri,name:e.profile.name}}))}},Ye=function(e){return{uid:e.uid,uri:e.episode.uri,name:e.episode.name,isPlayable:e.episode.playability.playable,isMOGEFRestricted:e.episode.contentRating.label===We.KS.NineteenPlus,isExplicit:e.episode.contentRating.label===We.KS.Explicit,imgUrl:e.episode.coverArt.sources[0].url,podcast:{id:e.episode.podcast.id,uri:e.episode.podcast.uri,name:e.episode.podcast.name}}},$e=function(e){var n,t,a=null!==(n=null==e||null===(t=e.topResults)||void 0===t?void 0:t.items)&&void 0!==n?n:[];return a.length?a.reduce((function(n,t){var a=t.uri,i=v().from(a);if(a&&i)switch(v().from(a)&&v().from(a).type){case v().Type.ALBUM:var l,r=function(e,n){return n.find((function(n){return n.uri===e}))}(a,(null==e||null===(l=e.albums)||void 0===l?void 0:l.items)||[]);r&&n.push(r);break;case v().Type.ARTIST:var s,o=function(e,n){return n.find((function(n){return n.uri===e}))}(a,(null==e||null===(s=e.artists)||void 0===s?void 0:s.items)||[]);o&&n.push(o);break;case v().Type.TRACK:var c,u=function(e,n){return n.find((function(n){return n.track.uri===e}))}(a,(null==e||null===(c=e.tracks)||void 0===c?void 0:c.items)||[]);u&&n.push(Je(u));break;case v().Type.EPISODE:var d,m=function(e,n){return n.find((function(n){return n.episode.uri===e}))}(a,(null==e||null===(d=e.episodes)||void 0===d?void 0:d.items)||[]);m&&n.push(Ye(m))}return n}),[]):[]},en=function(e){var n={uri:e.uri,id:e.id,name:e.name,coverArt:e.coverArt};return e.tracks.items.map((function(e){return He(He({},e),{},{track:He(He({},e.track),{},{album:n})})}))},nn=function(e){if(!e.discography)return[];var n=e.discography.topTracks.items.map((function(e){return Je(e)})),t=e.discography.popularReleases.items.map((function(e){var n=e.releases.items[0];return{uri:n.uri,name:n.name,coverArt:{sources:n.coverArt.sources}}}));return[].concat(Ke()(n),Ke()(t))},tn=(t(26699),t(32023),function(e){var n=e.renderRow,t=e.searchResults;return u().createElement(ke.Pv,{ariaLabel:S.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:ke.hU,nrTracks:t.length,tracks:t,resolveUri:function(e){return e.uri},columns:[ke.QD.TITLE,ke.QD.ALBUM,ke.QD.ADD],testID:"playlist-inline-curation-loaded-results"})}),an=function(e){var n=e.renderRow,t=e.searchResults;return u().createElement(ke.Pv,{ariaLabel:S.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:ke.hU,nrTracks:t.length,tracks:t,resolveUri:function(e){return e.uri},columns:[ke.QD.TITLE,ke.QD.ALBUM,ke.QD.ADD]})},ln=t(2751),rn=function(e){var n=e.renderRow,t=e.searchResults,a=t.filter((function(e){return void 0!==e.album})),i=t.filter((function(e){return e.uri.includes("album")}));return u().createElement("div",null,u().createElement(p.Dy,{as:"p",variant:"cello",className:ln.Z.artistResultListTitle},S.ag.get("playlist.curation.popular_songs")),u().createElement(ke.Pv,{ariaLabel:S.ag.get("playlist.curation.popular_songs"),renderRow:n,rowPlaceholder:ke.hU,nrTracks:a.length,tracks:a,resolveUri:function(e){return e.uri},columns:[ke.QD.TITLE,ke.QD.ALBUM,ke.QD.ADD]}),u().createElement(p.Dy,{as:"p",variant:"cello",className:ln.Z.artistResultListTitle},S.ag.get("playlist.curation.albums")),u().createElement(ke.Pv,{ariaLabel:S.ag.get("playlist.curation.albums"),renderRow:n,rowPlaceholder:ke.hU,nrTracks:i.length,tracks:i,resolveUri:function(e){return e.uri},columns:[ke.QD.TITLE,ke.QD.ALBUM,ke.QD.ADD]}))},sn=function(e){var n=e.renderRow,t=e.searchResults;return u().createElement(ke.Pv,{ariaLabel:S.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:ke.hU,nrTracks:t.length,tracks:t,resolveUri:function(e){return e.uri},columns:[ke.QD.TITLE,ke.QD.ALBUM,ke.QD.ADD]})},on=function(e){var n=e.renderRow,t=e.searchResults;return u().createElement(ke.Pv,{ariaLabel:S.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:ke.hU,nrTracks:t.length,tracks:t,resolveUri:function(e){return e.uri},columns:[ke.QD.TITLE,ke.QD.ALBUM,ke.QD.ADD]})},cn=function(e){var n=e.renderRow,t=e.searchResults;return u().createElement(ke.Pv,{ariaLabel:S.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:ke.hU,nrTracks:t.length,tracks:t,resolveUri:function(e){return e.uri},columns:[ke.QD.TITLE,ke.QD.ALBUM,ke.QD.ADD]})},un=t(7739);const dn={artistIcon:"CObqC4tKIxndgOfVt0qO",artistImagePlaceholder:"B0R7SaPqNInmy05nthoD",podcastIcon:"dbo3BN_cc87RHKV_ZMuu",albumIcon:"Jlc5PS2fJiUWY0wUSUvg",searchResultTitle:"fKkKrFjxSMU606ACBqLI",searchResultContainer:"jtZMR8Hj94od6BQce98P",rowContent:"lpBFb0X6x8nHjG7PKVsB",searchResultTitleContainer:"t_UwLSijpLSE4QBPX2n_",seeMoreButton:"mkczfE2FHWc6jIT4m1N9",seeMoreRowButton:"DHlWJVgQyjwF8ApxcZxE"};var mn,kn=function(e){var n,t=e.searchResult,a=e.index,i=e.isRTL,l=e.onClick,r=null===(n=t.coverArt)||void 0===n?void 0:n.sources[0].url;return u().createElement(un.RX,{className:dn.searchResultContainer,rowIndex:a,"aria-selected":!1},u().createElement("div",{"aria-label":"".concat(S.ag.get("artist-page.tracks.seemore")," ").concat(t.name),className:dn.seeMoreRowButton,onClick:l},u().createElement(un.id,{columnIndex:0,className:dn.rowContent},void 0!==r?u().createElement("img",{className:dn.albumIcon,src:t.coverArt.sources[0].url,alt:t.name}):null,u().createElement("div",{className:dn.searchResultTitleContainer},u().createElement(p.Dy,{as:"p",className:dn.searchResultTitle,variant:"ballad"},t.name),u().createElement(p.Dy,{as:"p",variant:"mesto",semanticColor:"textSubdued"},S.ag.get("album")))),u().createElement(un.id,{columnIndex:1}),u().createElement(un.id,{columnIndex:2},u().createElement("button",{"data-testid":"top-bar-forward-button","aria-label":"See more from ".concat(t.name),className:dn.seeMoreButton,onClick:l},i?u().createElement(Le.e,{className:dn.icon}):u().createElement(Ae.V,{className:dn.icon})))))},vn=t(68156),pn=function(e){var n=e.size;return u().createElement("div",{className:dn.artistImagePlaceholder},u().createElement(vn.i,{iconSize:n}))},fn=function(e){var n,t=e.searchResult,a=e.index,i=e.isRTL,l=e.onClick,r=null===(n=t.visuals.avatarImage)||void 0===n?void 0:n.sources[0].url;return u().createElement(un.RX,{className:dn.searchResultContainer,rowIndex:a,"aria-selected":!1},u().createElement("div",{"aria-label":"".concat(S.ag.get("artist-page.tracks.seemore")," ").concat(t.profile.name),className:dn.seeMoreRowButton,onClick:l,"data-testid":"playlist-inline-curation-artist"},u().createElement(un.id,{columnIndex:0,className:dn.rowContent},void 0!==r?u().createElement("img",{className:dn.artistIcon,src:r,alt:t.profile.name}):u().createElement(pn,{size:16}),u().createElement("div",{className:dn.searchResultTitleContainer},u().createElement(p.Dy,{as:"p",className:dn.searchResultTitle,variant:"ballad"},t.profile.name),u().createElement(p.Dy,{as:"p",variant:"mesto",semanticColor:"textSubdued"},S.ag.get("artist")))),u().createElement(un.id,{columnIndex:1}),u().createElement(un.id,{columnIndex:2},u().createElement("button",{"data-testid":"top-bar-forward-button","aria-label":"See more from ".concat(t.profile.name),className:dn.seeMoreButton,onClick:l},i?u().createElement(Le.e,{className:dn.icon}):u().createElement(Ae.V,{className:dn.icon})))))},bn=function(e){var n=e.episode,t=n.uid,a=n.uri,i=n.name,l=n.imgUrl,r=n.podcast,s=n.isPlayable,o=n.isMOGEFRestricted,c=n.isExplicit,d=e.contextUri,m=e.index,k=e.usePlayContextItem;return u().createElement(ke.YK,{uid:t,uri:a,isPlayable:s,isMOGEFRestricted:o,isExplicit:c,contextUri:d,name:i,imgUrl:l,index:m,podcast:r,usePlayContextItem:k})},gn=function(e){var n=e.label,t=e.index,a=e.isRTL,i=e.onClick;return u().createElement(un.RX,{className:dn.searchResultContainer,rowIndex:t,"aria-selected":!1},u().createElement("div",{"aria-label":n,className:dn.seeMoreRowButton,onClick:i},u().createElement(un.id,{columnIndex:0,className:dn.rowContent},u().createElement(p.Dy,{as:"p",className:dn.searchResultTitle,variant:"ballad"},n)),u().createElement(un.id,{columnIndex:1}),u().createElement(un.id,{columnIndex:2},u().createElement("button",{"data-testid":"top-bar-forward-button","aria-label":n,className:dn.seeMoreButton,onClick:i},a?u().createElement(Le.e,{className:dn.icon}):u().createElement(Ae.V,{className:dn.icon})))))},yn=function(e){var n=e.track,t=n.uid,a=n.uri,i=n.album,l=n.name,r=n.artists,s=n.isPlayable,o=n.isExplicit,c=n.isMOGEFRestricted,d=e.contextUri,m=e.index,k=e.usePlayContextItem;return u().createElement(ke.cp,{uid:t,uri:a,isPlayable:s,isMOGEFRestricted:c,isExplicit:o,contextUri:d,name:l,imgUrl:i.imgUrl,index:m,album:i,artists:r,usePlayContextItem:k})};function Sn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function En(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Sn(Object(t),!0).forEach((function(n){Ge()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e[e.SEARCH=0]="SEARCH",e[e.ALBUM=1]="ALBUM",e[e.ARTIST=2]="ARTIST",e[e.PODCAST=3]="PODCAST",e[e.PLAYLIST=4]="PLAYLIST",e[e.ALBUMRESULTS=5]="ALBUMRESULTS",e[e.ARTISTRESULTS=6]="ARTISTRESULTS",e[e.PODCASTRESULTS=7]="PODCASTRESULTS",e[e.EPISODERESULTS=8]="EPISODERESULTS",e[e.TRACKRESULTS=9]="TRACKRESULTS"}(mn||(mn={}));var Nn=function(e,n){return"GO_BACK"===n.type?1===e.breadcrumbs.length?e:e=En(En({},e),{},{breadcrumbs:e.breadcrumbs.slice(0,e.breadcrumbs.length-1)}):"NAV_TO_ENTITY"===n.type?e=En(En({},e),{},{breadcrumbs:[].concat(Ke()(e.breadcrumbs),[n.level])}):("NAV_TO_RESULTS"===n.type?e=En(En({},e),{},{breadcrumbs:[].concat(Ke()(e.breadcrumbs),[n.level])}):"CHANGE_TERM"===n.type&&(e={term:n.term,breadcrumbs:[{navType:mn.SEARCH,term:n.term,title:""}]}),e)},hn=function(e){var n,t=e.resultList,a=e.level,i=e.isRTL,l=e.playlistUri,r=e.navToResults,s=e.navToEntity,o=e.term,d=t,m=function(e){return e.filter((function(e){var n=e.uri;return v().isTrack(n)||v().isEpisode(n)})).map((function(e){var n=e.uri,t=e.uid;return{type:v().isTrack(n)?qe.p.TRACK:qe.p.EPISODE,uri:n,uid:t,provider:null}}))}(t),k=(0,D.n)({uri:"".concat(l.replace("spotify:","spotify:internal:recs:"),":").concat(encodeURIComponent(o),":").concat(null!==(n=null==a?void 0:a.navType)&&void 0!==n?n:0),pages:[{items:m}]},{featureIdentifier:"search"}).usePlayContextItem,f=(0,c.useCallback)((function(e,n){return e?void 0!==e.profile?u().createElement(fn,{isRTL:i,index:n,key:e.uri,searchResult:e,onClick:function(){s({navType:mn.ARTIST,uri:e.uri,title:e.profile.name})}}):void 0!==e.podcast?u().createElement(bn,{key:e.uri,index:n,episode:e,contextUri:l.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:k}):void 0!==e.album?u().createElement(yn,{key:e.uri,index:n,track:e,contextUri:l.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:k}):e.isSeeAllXRow?u().createElement(gn,{isRTL:i,index:n,label:e.label,key:e.uri,onClick:function(){r({navType:e.type,term:o,title:e.label})}}):e.uri.includes("album")?u().createElement(kn,{index:n,key:e.uri,isRTL:i,searchResult:e,onClick:function(){s({navType:mn.ALBUM,uri:e.uri,title:e.name})}}):null:null}),[i,s,r,l,o,k]);if(""===o)return u().createElement("div",{className:ln.Z.emptySearchTermContainer});if(!t||0===(null==t?void 0:t.length))return u().createElement("div",{className:ln.Z.emptyStateContainer},u().createElement(p.Dy,{as:"h1",variant:"canon"},S.ag.get("search.empty-results-title",o)),u().createElement(p.Dy,{as:"p",variant:"mesto"},S.ag.get("search.empty-results-text")));if((null==a?void 0:a.navType)===mn.SEARCH){var b=[{type:mn.ARTISTRESULTS,label:S.ag.get("playlist.curation.see_all_artists"),isSeeAllXRow:!0,uri:"spotify:internal:recs:see-all-artists"},{type:mn.ALBUMRESULTS,label:S.ag.get("playlist.curation.see_all_album"),isSeeAllXRow:!0,uri:"spotify:internal:recs:see-all-albums"},{type:mn.TRACKRESULTS,label:S.ag.get("playlist.curation.see_all_songs"),isSeeAllXRow:!0,uri:"spotify:internal:recs:see-all-songs"}];return d=[].concat(Ke()(t),b),u().createElement(tn,{renderRow:f,searchResults:d})}return(null==a?void 0:a.navType)===mn.ALBUM?u().createElement(an,{renderRow:f,searchResults:d}):(null==a?void 0:a.navType)===mn.ARTIST?u().createElement(rn,{renderRow:f,searchResults:d}):(null==a?void 0:a.navType)===mn.ALBUMRESULTS?u().createElement(sn,{renderRow:f,searchResults:d}):(null==a?void 0:a.navType)===mn.TRACKRESULTS?u().createElement(on,{renderRow:f,searchResults:d}):(null==a?void 0:a.navType)===mn.ARTISTRESULTS?u().createElement(cn,{renderRow:f,searchResults:d}):null},Cn=function(e){var n=e.playlistUri,t=e.onCurationModeChange,a=(0,c.useState)([]),l=r()(a,2),s=l[0],m=l[1],k=(0,c.useState)(),v=r()(k,2),f=v[0],b=v[1],g=(0,d.v9)((function(e){return e.ui.textDirection.isRTL})),y=function(){var e=(0,c.useReducer)(Nn,{term:"",breadcrumbs:[]}),n=r()(e,2),t=n[0],a=n[1],i=t.breadcrumbs,l=t.term;return{changeTerm:function(e){a({type:"CHANGE_TERM",term:e})},level:i[i.length-1]||null,goBack:function(){a({type:"GO_BACK"})},navToEntity:function(e){a({type:"NAV_TO_ENTITY",level:e})},navToResults:function(e){a({type:"NAV_TO_RESULTS",level:e})},term:l}}(),E=y.level,N=y.changeTerm,h=y.goBack,C=y.navToEntity,T=y.navToResults,F=y.term,R=(0,c.useContext)(Oe.Ax).request,w=(0,c.useCallback)(function(){var e=i()(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(Pe,{term:n});case 2:return t=e.sent,e.abrupt("return",(null==t?void 0:t.data.search)||null);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[R]),x=(0,c.useCallback)(function(){var e=i()(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(Ue,{uri:n,offset:0,limit:100});case 2:return t=e.sent,e.abrupt("return",(null==t?void 0:t.data.album)||null);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[R]),D=(0,c.useCallback)(function(){var e=i()(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(_e,{uri:n,offset:0,limit:100});case 2:return t=e.sent,e.abrupt("return",(null==t?void 0:t.data.artist)||null);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[R]);return(0,c.useEffect)((function(){var e=!0,n=function(){var n=i()(o().mark((function n(){var t,a,i,l,r,s,c,u,d,k;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(E){n.next=2;break}return n.abrupt("return");case 2:n.t0=E.navType,n.next=n.t0===mn.SEARCH?5:n.t0===mn.ARTISTRESULTS?21:n.t0===mn.ALBUMRESULTS?23:n.t0===mn.TRACKRESULTS?25:n.t0===mn.EPISODERESULTS?28:n.t0===mn.ALBUM?31:n.t0===mn.ARTIST?42:53;break;case 5:if(n.prev=5,f&&(f.query===F||""===F)){n.next=13;break}return n.next=9,w(F);case 9:i=n.sent,e&&b(i),n.next=14;break;case 13:""===F&&m([]);case 14:n.next=19;break;case 16:n.prev=16,n.t1=n.catch(5),m([]);case 19:return f&&(l=$e(f),m(l)),n.abrupt("break",54);case 21:return m(null==f||null===(t=f.artists)||void 0===t?void 0:t.items),n.abrupt("break",54);case 23:return m(null==f||null===(a=f.albums)||void 0===a?void 0:a.items),n.abrupt("break",54);case 25:return null!=(s=null==f||null===(r=f.tracks)||void 0===r?void 0:r.items)&&s.length&&m(s.map((function(e){return Je(e)}))),n.abrupt("break",54);case 28:return null!=(u=null==f||null===(c=f.episodes)||void 0===c?void 0:c.items)&&u.length&&m(u.map((function(e){return Ye(e)}))),n.abrupt("break",54);case 31:return n.prev=31,n.next=34,x(E.uri);case 34:d=n.sent,e&&m(en(d).map((function(e){return Je(e)}))),n.next=41;break;case 38:n.prev=38,n.t2=n.catch(31),m([]);case 41:return n.abrupt("break",54);case 42:return n.prev=42,n.next=45,D(E.uri);case 45:k=n.sent,e&&m(nn(k)),n.next=52;break;case 49:n.prev=49,n.t3=n.catch(42),m([]);case 52:case 53:return n.abrupt("break",54);case 54:case"end":return n.stop()}}),n,null,[[5,16],[31,38],[42,49]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){e=!1}}),[E,w,x,D,F,f]),u().createElement(u().Fragment,null,u().createElement("section",{className:ln.Z.playlistInlineCurationSection},u().createElement("div",{className:ln.Z.playlistInlineCurationWrapper},u().createElement(p.Dy,{as:"h1",className:ln.Z.playlistInlineCurationTitle,variant:"canon"},S.ag.get("playlist.curation.title")),u().createElement(c.Suspense,{fallback:null},u().createElement(Qe,{placeholder:S.ag.get("playlist.curation.search_placeholder"),onFocus:function(){t(!0)},onChange:function(e){N(e)}}))),u().createElement("button",{className:ln.Z.playlistInlineCurationCloseButton,onClick:function(){return t(!1)}},u().createElement(Ie.j,{className:ln.Z.closeIcon,"aria-label":S.ag.get("close")}))),null!==E&&E.navType!==mn.SEARCH?u().createElement("button",{className:ln.Z.playlistInlineCurationBackButton,onClick:function(){return h()}},g?u().createElement(Ae.V,{"aria-label":S.ag.get("navbar.go-back"),className:De()([ln.Z.icon,ln.Z.iconRight])}):u().createElement(Le.e,{"aria-label":S.ag.get("navbar.go-back"),className:De()([ln.Z.icon,ln.Z.iconLeft])}),u().createElement(p.Dy,{as:"p",variant:"cello"},E.title)):null,u().createElement("div",{className:ln.Z.searchResultListContainer,"data-testid":"playlist-inline-curation-results"},u().createElement(hn,{playlistUri:n,term:F,level:E,resultList:s,navToEntity:C,navToResults:T,isRTL:g})))},Tn=t(32129),Fn=(t(39714),t(59916)),Rn=(t(2707),"multiUserAttributionDisplayNamesV2"),wn=t(15212),xn=t(35308),Dn=t(82760);function In(e){return(0,Fn.MW)(e)||(0,Fn.JF)(e)}var An=new Set(ce.zq),Ln=new Set([]),On=u().memo((function(e){var n=e.ariaLabel,t=e.nrTracks,a=e.playlistUri,l=e.playlistName,s=e.isCollaborative,m=e.isMixedMedia,k=e.isLive,p=e.isBlend,f=e.hasDateAdded,b=e.canEdit,g=e.scrollToUid,y=e.feedbackPath,E=e.deleteFeedbackPath,N=e.usePlayContextItem,h=e.tracklistRef,C=e.tracklistDomRef,T=e.nrCollaborators,F=void 0===T?1:T,R=e.canRemove,w=(0,c.useContext)(I.ZF),x=(0,c.useContext)(oe.fo).filter,D=(0,c.useContext)(ce.Gb),A=D.sortState,L=D.setSortState,O=(0,c.useState)(t),P=r()(O,2),_=P[0],B=P[1],M=(0,c.useRef)((function(){})),V=(0,c.useState)([]),j=r()(V,2),Q=j[0],Z=j[1],K=(0,c.useRef)({}),G=(0,d.I0)(),W=(0,c.useCallback)((function(){null!=h&&h.current&&h.current.update()}),[h]);(0,de.r)(a,W);var q=(0,c.useCallback)((function(e){L((0,z.VK)(e,A))}),[A,L]),X=(0,c.useCallback)((function(e){M.current(),w.remove(a,e)}),[w,a]),H=(0,c.useCallback)((function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];M.current=n,e.length>1&&!t?Z(e):X(e)}),[X]);(0,c.useEffect)((function(){null!=h&&h.current&&h.current.update()}),[A,x,h]),(0,c.useEffect)((function(){null!=h&&h.current&&g&&h.current.scrollToItem({uid:g})}),[g,h]),(0,c.useEffect)((function(){null!=h&&h.current&&""===x&&h.current.scrollToFirstSelected()}),[x,_,h]);var J=(0,c.useCallback)(function(){var e=i()(o().mark((function e(n,t){var i,l,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getContents(a,{offset:n,limit:t,sort:(0,z._j)(A),filter:x,decorateFormatListData:!!y||k||p});case 2:return i=e.sent,l=i.items.filter((function(e,t){return null!==e||(K.current[t+n]=!0,!1)})),r=Object.keys(K.current).length,i.totalLength-r!==_&&B(i.totalLength-r),e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[a,w,_,A,x,y,k,p]),Y=(0,c.useCallback)((function(e,n,t){if(null!=h&&h.current){var i=h.current.getRows();i[n].id&&(t===Dn.W.Before?w.move(a,e,{before:i[n].id}):w.move(a,e,{after:i[n].id}))}}),[a,w,h]),$=(0,c.useCallback)((function(e,n,t){if(null!=h&&h.current){var i=h.current.getRows();i[n].id&&(t===Dn.W.Before?G((0,U.jV)(a,e,{before:i[n].id})):G((0,U.jV)(a,e,{after:i[n].id})))}}),[a,G,h]),ee=(0,c.useCallback)((function(e,n){var t,i,r,o,c,d,f,g,S=!!(0,Fn.JF)(e)&&e.podcastSubscription.isUserSubscribed;if((0,Fn.JF)(e))f=e.show,g=e.images.concat(e.show.images);else if((0,Fn.MW)(e)){var h;f=e.album,g=null===(h=e.album)||void 0===h?void 0:h.images}var C=(0,me.X)(g,{desiredSize:40,desiredLabel:"small"}),T=[];b&&A.order===ke.kn.NONE&&(T=[wn.aN[v().Type.TRACK],wn.aN[v().Type.LOCAL],wn.aN[v().Type.EPISODE]]);var x="1"===(null==e||null===(t=e.formatListAttributes)||void 0===t?void 0:t["dislike-feedback-selected"]),D=!1;(0,Fn.JF)(e)&&e.podcastSubscription.isPaywalled&&!S?D=!0:In(e)&&(D=e.isPlayable&&!x);var I=p&&function(e,n){var t,a,i,l,r=[];if(!n)return r;var s=n[Rn]?Rn:"multiUserAttributionDisplayNames",o=null==n||null===(t=n[s])||void 0===t?void 0:t.split(","),c=null==n||null===(a=n.multiUserAttributionImages)||void 0===a?void 0:a.split(",");if(!o||!c)return r;for(var u,d=(null==n||null===(i=n.multiUserAttributionUsernamesV2)||void 0===i?void 0:i.split(","))||[],m=(null==n||null===(l=n.multiUserAttributionType)||void 0===l?void 0:l.split(","))||[],k=o.length,p=0;p<k;p++){var f=d[p],b=f&&v().profileURI(f).toURI();r.push({username:f,uri:b,displayName:o[p],images:(u=c[p],u.length>1?[{url:u}]:[]),recsplanation:m[p]})}return r.sort((function(n,t){return n.username?n.username===(null==e?void 0:e.username)?-1:t.username===(null==e?void 0:e.username)?1:0:0}))}(e.addedBy,null==e?void 0:e.formatListAttributes)||e.addedBy&&[e.addedBy]||[];return u().createElement(ke.dx,{key:n+e.uri,index:n,playIndex:null!==(i=e.playIndex)&&void 0!==i?i:void 0,contextUri:a,uri:e.uri,uid:null!==(r=e.uid)&&void 0!==r?r:void 0,id:e.id,isPlayable:D,duration_ms:In(e)?e.duration.milliseconds:0,isPaywalled:!!(0,Fn.JF)(e)&&e.podcastSubscription.isPaywalled,isUserSubscribed:S,name:In(e)?e.name:"",artists:(0,Fn.MW)(e)?e.artists:void 0,albumOrShow:f,isExplicit:(0,Fn.MW)(e)&&e.isExplicit,isCollaborative:s,nrCollaborators:F,isMixedMedia:m,isLocal:(0,Fn.MW)(e)&&e.isLocal,addedBy:I,hasDecoratedAddedBy:w.getCapabilities().canDecorateAddedBy,dateAdded:e.addedAt,release_date:(0,Fn.JF)(e)&&e.release.date.toString()||"",isMOGEFRestricted:(0,Fn.MW)(e)&&e.is19PlusOnly,type:e.type,imgUrl:(null==C?void 0:C.url)||"",onMove:Y,onInsert:$,usePlayContextItem:N,allowedDropTypes:T,feedbackPath:y,feedbackUri:null==e||null===(o=e.formatListAttributes)||void 0===o?void 0:o.feedback_uri,deleteFeedbackPath:E,isDisliked:x,playlistName:l,isLive:k,isBlend:p,ticketingSiteURL:null==e||null===(c=e.formatListAttributes)||void 0===c?void 0:c.ticketingSite,eventDate:null==e||null===(d=e.formatListAttributes)||void 0===d?void 0:d.eventDate,canRemove:R})}),[b,R,A,a,s,F,m,w,Y,$,N,y,E,l,k,p]);return u().createElement(u().Fragment,null,u().createElement(ue.ZP,{value:"playlist-tracklist"},u().createElement(ke.Pv,{testID:"playlist-tracklist",key:a,ariaLabel:n,hasHeaderRow:!0,columns:(0,z.RG)(s,m,f,k,p,F),sortableColumns:w.getCapabilities().canSort?An:Ln,sortState:A,onSort:q,onRemove:H,renderRow:ee,resolveUri:function(e){return e.uri},resolveUid:function(e){return e.id},nrTracks:_,fetchTracks:J,limit:100,canFetchAllTracks:w.getCapabilities().canFetchAllTracks,outerRef:h,outerDomRef:C})),u().createElement(xn.h,{title:S.ag.get("playlist.remove_from_playlist",l),isOpen:Q.length>0,tracks:Q,onClose:function(e){e.stopPropagation(),Z([])},onRemove:X}))})),Pn=t(42714),Un=t(27826);function _n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function Bn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_n(Object(t),!0).forEach((function(n){Ge()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_n(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Mn=u().memo((function(e){var n=e.playlistUri,t=e.playlistLength,a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=2*n,a=3*n,i=(0,c.useRef)(0),l=(0,c.useState)(e),s=r()(l,2),o=s[0],u=s[1],d=(0,c.useState)([]),m=r()(d,2),k=m[0],v=m[1],p=(0,c.useRef)([]),f=(0,c.useContext)(Pn.Z);(0,c.useEffect)((function(){return v([]),u(e),p.current=[],i.current=i.current+1,function(){i.current=i.current+1}}),[e]),(0,c.useEffect)((function(){if(k.length<t){var e=Math.min(t,a-k.length),n=i.current;f.getRecommendedTracks(o,p.current,e).then((function(t){if(n===i.current){var a=t.map((function(e){return(null==e?void 0:e.uri)&&Un.o.from(e.uri).id})).filter((function(e){return null!==e}));t.length<e&&p.current.length?p.current=[]:p.current=[].concat(Ke()(p.current),Ke()(a)),v((function(e){return[].concat(Ke()(e),Ke()(t))}))}}))}}),[t,a,f,o,k.length]);var b=(0,c.useCallback)((function(){v((function(e){return e.slice(n)}))}),[n]),g=(0,c.useCallback)((function(e){v((function(n){return n.filter((function(n){return n.uri!==e}))}))}),[]);return{tracks:k.slice(0,n),_bufferedTracks:k.slice(n),refresh:b,onAdd:g}}(n),i=a.tracks,l=a.refresh,s=a.onAdd,o=!t||0===t,d=(0,D.n)({uri:n.replace("spotify:","spotify:internal:recs:"),pages:[{items:i.map((function(e){return Bn(Bn({},e),{},{provider:null,type:qe.p.TRACK,uid:null})}))}]},{featureIdentifier:"playlist_recommendations"}).usePlayContextItem,m=(0,c.useCallback)((function(e,t){return u().createElement(ke.cp,{key:e.uri,index:t,imgUrl:e.album.imageUrl,contextUri:n.replace("spotify","spotify:internal:recs"),uri:e.uri,isPlayable:!e.isMOGEFRestricted,name:e.name,artists:e.artists,onItemAdded:function(){return s(e.uri)},album:Bn(Bn({},e.album),{},{imgUrl:e.album.imageUrl}),isExplicit:e.explicit,isMOGEFRestricted:e.isMOGEFRestricted,usePlayContextItem:d})}),[n,d,s]),k=(0,c.useMemo)((function(){return[ke.QD.TITLE,ke.QD.ALBUM,ke.QD.ADD]}),[]),v=(0,c.useCallback)((function(e){return e.uri}),[]),f=(0,c.useCallback)((function(e){return e.id}),[]),b=(0,c.useMemo)((function(){return i.slice(0,Math.min(i.length,10))}),[i]);return i.length>0?u().createElement("div",{className:ln.Z.recommendedTrackList},u().createElement("div",{className:ln.Z.top},u().createElement("div",{className:ln.Z.header},u().createElement(p.Dy,{variant:"canon",className:ln.Z.title},S.ag.get("playlist.extender.recommended.title")),u().createElement(p.Dy,{variant:"mesto",className:ln.Z.subtitle},o?S.ag.get("playlist.extender.title.in.playlist"):S.ag.get("playlist.extender.songs.in.playlist")))),i.length?u().createElement(u().Fragment,null,u().createElement(ke.Pv,{ariaLabel:S.ag.get("playlist.extender.recommended.title"),key:"".concat(n,"-recommended"),nrTracks:Math.min(i.length,10),rowPlaceholder:ke.hU,tracks:b,renderRow:m,resolveUri:v,resolveUid:f,columns:k}),u().createElement(ne.z,{version:"tertiary",className:ln.Z.refreshButton,onClick:l},u().createElement(p.Dy,{variant:"minuetBold"},S.ag.get("playlist.extender.refresh")))):null):null})),Vn=u().lazy((function(){return Promise.all([t.e(814),t.e(682)]).then(t.bind(t,45685))})),jn=function(e,n,t,a,i,l,r){return e?ce.RJ:(0,z.RG)(n,t,a,i,l,r)},Qn=u().memo((function(e){var n,t=e.metadata,a=e.capabilities,l=t.uri,s=t.name,k=t.images,y=t.totalLength,I=t.isOwnedBySelf,P=t.isCollaborative,_=t.hasEpisodes,B=t.hasSpotifyTracks,M=t.canAdd,V=t.canRemove,ee=t.canPlay,ne=t.formatListData,te=t.hasDateAdded,ae=t.collaborators,ie="chart"===(null==ne?void 0:ne.type),re="live-streams"===(null==ne?void 0:ne.type),ue=["blend","celebrity-blend","friends-mix"].indexOf((null==ne?void 0:ne.type)||"")>-1,de=!!_,me=(null==ne?void 0:ne.attributes)||{},ke=me.header_image_url_desktop||me.image_url||null,ve=(0,f.W6)(b.pg),pe=M&&V,fe=a.canFilter&&y>0,ge=a.canSort&&y>0,ye=(0,Q.Q)(),Se=ye.filterBoxApiRef,Ee=ye.filterBoxDomRef,Ne=ye.tracklistDomRef,he=ye.handleKeyDown,Ce=(0,K.k)(),Te=Ce&&y>0,Fe=(0,c.useContext)(F.VX).scrollNodeChildRef,xe=(0,d.v9)(G.Gg).productState,De=!!xe&&parseInt(xe.ads,10)>0,Ie=(0,c.useState)(pe&&0===y&&ve),Ae=r()(Ie,2),Le=Ae[0],Oe=Ae[1],Pe=(0,d.I0)(),Ue=(0,m.k6)(),_e="POP"!==Ue.action?new URLSearchParams(Ue.location.search).get("uid"):null,Be=(0,x.Z)(l),Me=r()(Be,2),Ve=Me[0],je=Me[1],Qe=(0,Z.o)(),Ze=(0,c.useContext)(oe.fo).filter,Ke=(0,c.useContext)(ce.Gb).sortState,ze=(0,c.useRef)(null),Ge=r()(k,1)[0],We=(0,R.Z)(null!==ke?ke:(null==Ge?void 0:Ge.url)||null),qe=(0,D.n)(function(e,n,t){var a={uri:e};return(0,A.R)(a,n),(0,L.IC)(a,(0,O.cj)(t)),a}(l,(0,z._j)(Ke),Ze),{featureIdentifier:"playlist"}),Xe=qe.isPlaying,He=qe.togglePlay,Je=qe.usePlayContextItem,Ye=(0,c.useCallback)((function(){return He()}),[He]),$e=(0,c.useCallback)(i()(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qe({targetUri:l,intent:Ve?"unsave":"save",type:"click"}),e.prev=1,e.next=4,je(!Ve);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])}))),[Qe,l,Ve,je]),en=function(e){Oe(e)};(0,c.useEffect)((function(){var e;Fe&&Le&&(null===(e=Fe.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"}))}),[Fe,Le]);var nn=(0,c.useCallback)((function(e){var n=e.split(/[\r\n]+/g).map((function(e){return v().from(e)})).filter((function(e){return v().isTrack(e)||v().isEpisode(e)}));if(n.length>0&&M){var t,a,i,r=n.map((function(e){return e.toURI()})),s=null===(t=ze.current)||void 0===t||null===(a=t.getSelected())||void 0===a||null===(i=a.slice(-1))||void 0===i?void 0:i[0],o={after:(null==s?void 0:s.uid)||"end"};Pe((0,U.jV)(l,r,o))}}),[M,Pe,l]);return(0,w.aw)(nn),u().createElement(c.Suspense,{fallback:null},u().createElement(H.$,null,S.ag.get("playlist.page-title",s)),u().createElement("section",{role:"presentation",className:ln.Z.playlist,"data-testid":"playlist-page","data-test-uri":l,onKeyDown:he},u().createElement(we.s,{metadata:t,isPlaying:Xe,togglePlay:Ye,backgroundColor:We}),u().createElement("div",{className:ln.Z.playlistContent},u().createElement(E.o,{backgroundColor:We},u().createElement(E.F,null,ee?u().createElement(se.$,{onClick:Ye,isPlaying:Xe,size:h.qE.lg,uri:l,ariaPlayLabel:S.ag.get("playlist.a11y.play",s),ariaPauseLabel:S.ag.get("playlist.a11y.pause",s)}):null,I&&B&&u().createElement(T.F,{property:b.Up,renderNewExperience:function(){return u().createElement(g.v,{uri:l})}}),I?null:u().createElement(Y.r,null,u().createElement(N.H,{isAdded:!!Ve,onClick:$e,size:N.q.md})),Te?u().createElement(W.o,{uri:l,isFollowing:!!Ve,onFollow:$e,size:W.q.md}):null,u().createElement(T.F,{property:b.bM,renderNewExperience:function(){var e;return null!==(e=t.permissions)&&void 0!==e&&e.canAdministratePermissions?u().createElement(Re,{label:S.ag.get("permissions.invite-collaborators",s),uri:l}):null}}),u().createElement(C.y,{menu:u().createElement(X.X,{uri:l})},u().createElement(q.z,{label:S.ag.get("more.label.context",s)})),fe&&ge&&u().createElement("div",{className:ln.Z.searchBoxContainer},u().createElement(c.Suspense,{fallback:null},u().createElement($.K,{placeholder:S.ag.get("playlist.search_in_playlist"),filterBoxApiRef:Se,outerRef:Ee})),u().createElement(Tn.c,{columns:jn(ie,P,de,te,re,ue,null!==(n=null==ae?void 0:ae.count)&&void 0!==n?n:1)})))),u().createElement("div",{className:"contentSpacing"},De?u().createElement(j,{playlistUri:l}):null,y>0?u().createElement(c.Suspense,{fallback:null},ie?u().createElement(be,{key:l,ariaLabel:s,nrTracks:y,playlistUri:l,rankType:me.rank_type||"",scrollToUid:_e,usePlayContextItem:Je,tracklistDomRef:Ne}):u().createElement(On,{key:l,ariaLabel:s,nrTracks:y,playlistUri:l,playlistName:s,hasDateAdded:te,isCollaborative:P,isMixedMedia:de,isLive:re,isBlend:ue,canEdit:pe,scrollToUid:_e,feedbackPath:me["dislike-endpoint"],deleteFeedbackPath:me["delete-endpoint"],usePlayContextItem:Je,tracklistRef:ze,tracklistDomRef:Ne,nrCollaborators:null==ae?void 0:ae.count,canRemove:V})):u().createElement(c.Suspense,{fallback:null},u().createElement(T.F,{property:b.pg,renderNewExperience:function(){return null},renderOldExperience:function(){return u().createElement(J.u,{message:S.ag.get("playlist.empty_state_subtitle"),title:S.ag.get("playlist.empty_state_title"),linkTo:"/browse/newreleases",linkTitle:S.ag.get("browse.new-releases"),renderInline:!0},u().createElement(le.Z,null))}})),I?u().createElement(c.Suspense,{fallback:null},u().createElement(T.F,{property:b.pg,renderNewExperience:function(){return Le?u().createElement(Cn,{playlistUri:l,onCurationModeChange:en}):u().createElement("button",{className:ln.Z.seeMore,onClick:function(){en(!0)}},u().createElement(p.Dy,{as:"div",variant:"minuetBold"},S.ag.get("playlist.curation.find_more")))},renderOldExperience:function(){return null}})):null,I&&!Le&&Ce?u().createElement(Mn,{playlistUri:l,playlistLength:t.totalLength}):null)))," ")}));const Zn=u().memo((function(){var e=(0,m.UO)().playlistId,n=(0,m.TH)().search,t=(0,f.W6)(b.bM),a=(0,c.useContext)(I.ZF).getCapabilities(),i=v().playlistV2URI((e||"").split("&")[0]).toURI(),l=(0,d.v9)(G.Gg).isAnonymous,r=(0,y.U)(i).isEnhanced;(0,c.useEffect)((function(){var e=new URLSearchParams(n).get("prid");if(!l&&e){var t="https://spclient.wg.spotify.com/algotorial-sharing-service/v1/shared?playlistId=".concat(i,"&sharedEntityUri=").concat(e);(0,P.k)().request(t,{method:"POST",authorize:!0,allowOffline:!0})}}),[i,l,n]);var s=(0,I.ET)(i,{decorateFormatListData:!0,withSync:!0,hydrateCollaboratorsWithMembers:t});if(!s)return u().createElement(re.h,{hasError:!1,errorMessage:S.ag.get("error.not_found.title.playlist"),loadOffline:a.canModifyOffline});if(s.permissions&&!s.permissions.canView)return u().createElement(ie,{uri:i});var o=u().createElement(ce.kz,{uri:i},u().createElement(oe.hz,{uri:i},u().createElement(Qn,{metadata:s,capabilities:a})));return u().createElement(T.F,{property:b.Up,renderNewExperience:function(){return r?u().createElement(Vn,{metadata:s}):o},renderOldExperience:function(){return o}})}))},83979:(e,n,t)=>{t.d(n,{s:()=>C});t(68309),t(82526),t(41817),t(91058);var a=t(67294),i=t.n(a),l=t(44794),r=t(44503),s=t(20657),o=t(55911),c=t(18261),u=t(58548),d=t(13020),m=t(37338),k=t(42273),v=t(59482),p=t(72907),f=t(67892),b=t(55120),g=t(24172),y=t(32810);t(21249),t(57327),t(41539);function S(e){return e.user||null}function E(e){return!!e}function N(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{id:e.username,uri:e.uri,name:e.username,displayName:e.displayName||void 0,images:e.images,isMadeFor:n}}var h=t(2751),C=function(e){var n,t=e.metadata,C=e.isPlaying,T=e.togglePlay,F=e.backgroundColor,R=t.uri,w=t.name,x=t.description,D=t.images,I=t.totalLength,A=t.totalLikes,L=t.duration,O=t.owner,P=t.isOwnedBySelf,U=t.isCollaborative,_=t.formatListData,B=t.madeFor,M=t.collaborators,V=(null==_?void 0:_.attributes)||{},j=V.header_image_url_desktop||V.image_url||null,Q=null!==j?[{url:j,width:null,height:null}]:[],Z=(0,l.W6)(r.G8),K=(0,l.W6)(r.bM),z=Z&&P,G=(0,a.useMemo)((function(){return function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0;return e?[N(e,!0)]:t.length>1&&a?t.map(S).filter(E).map((function(e){return N(e)})):[N(n)]}(B,O,null==M?void 0:M.items,K)}),[B,O,null==M?void 0:M.items,K]),W=(0,a.useContext)(g.zy),q=(0,a.useContext)(y.S7),X=(0,a.useCallback)((function(){q({type:"open",uri:R})}),[q,R]),H=(0,a.useCallback)((function(e){W({type:"open",playlistDetails:{name:w,description:x,image:D[0],uri:R},focusedElement:e})}),[W,w,x,D,R]),J=(0,a.useCallback)((function(){W({type:"openWithImagePicker",playlistDetails:{name:w,description:x,image:D[0],uri:R}})}),[W,w,x,D,R]),Y=K&&t.permissions?null!==(n=t.permissions)&&void 0!==n&&n.isPrivate?s.ag.get("private_playlist"):s.ag.get("public_playlist"):U?s.ag.get("sidebar.collaborative_playlist"):s.ag.get("playlist");return i().createElement(k.gF,{backgroundColor:F,backgroundImages:Q},i().createElement(v.W,null,i().createElement(b.$,{size:o.qE.sm,onClick:T,isPlaying:C,uri:R}),i().createElement(p.i,{text:w,dragUri:R,dragLabel:w})),j?null:i().createElement(c._,{menu:i().createElement(d.X,{uri:R})},i().createElement("div",{className:h.Z.playlistImageContainer},i().createElement(m.T,{canEdit:z,name:w,images:D,onClick:J,placeholderType:"playlist",dragUri:R}))),i().createElement(k.sP,null,i().createElement(k.dy,{small:!0,uppercase:!0},Y),i().createElement(c._,{menu:i().createElement(d.X,{uri:R})},i().createElement(k.xd,{canEdit:z,onClick:function(){return H(g.w.TITLE)},dragUri:R,dragLabel:w,ariaLabel:s.ag.get("playlist.edit-details.button",w)},w)),x&&i().createElement(k.dy,{bold:!1,gray:!0,canEdit:z,onClick:function(e){return function(e){e.target.href||H(g.w.DESCRIPTION)}(e)}},i().createElement(u.kf,{paragraphClassName:h.Z.playlistDescription,source:x,LinkComponent:f.r})),i().createElement(k.QS,{creators:G,onPiledCreatorsClick:X,totalTracks:I,totalLikes:A||0,durationMilliseconds:null==L?void 0:L.milliseconds,isEstimatedDuration:null==L?void 0:L.isEstimate,newEntries:parseInt(V.new_entries_count||"0",10)})))}},32129:(e,n,t)=>{t.d(n,{c:()=>v});var a=t(319),i=t.n(a),l=(t(40561),t(57327),t(41539),t(21249),t(67294)),r=t.n(l),s=t(20657),o=t(36132),c=t(95289),u=t(5292),d=t(28248),m=t(78462);function k(e){return!!e}var v=function(e){var n=e.columns,t=i()(n);t.splice(2,0,d.QD.ARTIST);var a=(0,l.useContext)(m.Gb),v=a.sortState,p=a.setSortState,f=function(e){return null===e.column?u.mE[d.QD.INDEX]:(0,o.cB)(e.column,e.order)?u.mE[d.QD.ARTIST]:u.mE[e.column]}(v),b=(0,l.useCallback)((function(e){p((0,u.WQ)(e,v.column,v.order))}),[p,v.column,v.order]),g=(0,l.useCallback)((function(){return null!==v.column}),[v.column]),y=t.map((function(e){return u.mE[e]})).filter(k);return r().createElement(c.A,{options:y,onSelect:b,selected:f,isSelectionChanged:g,sortOrder:v.order,heading:s.ag.get("drop_down.sort_by")})}},35308:(e,n,t)=>{t.d(n,{h:()=>p});t(82526),t(41817);var a=t(67294),i=t.n(a),l=t(28760),r=t(73753),s=t(20657),o=t(16229),c=t(85105);const u="J0xJcBaKhwl9EIuzvhLg",d="ce3qMCnc2kDVSi7k74fh",m="tlBLfMv0fCxd31jPTQhL",k="AytCc2WKUld6N212Pcpu",v="Uw9aTbBCa7QzSsZSGAG5";var p=i().memo((function(e){var n=e.onClose,t=e.onRemove,p=e.isOpen,f=e.tracks,b=e.title,g=(0,a.useCallback)((function(e){t(f),n(e)}),[t,n,f]);return i().createElement(c.Z,{shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:n,contentLabel:b,isOpen:p},i().createElement("div",{className:u},i().createElement(l.Dy,{as:"h2",variant:"cello",className:d},b),i().createElement(l.Dy,{as:"p",variant:"mesto",className:m,paddingBottom:r.g4V},s.ag.get("playlist.remove_multiple_description")),i().createElement("div",{className:k},i().createElement(o.Y,{className:v,version:"tertiary",onClick:n},s.ag.get("playlist.delete-cancel")),i().createElement(o.Y,{version:"primary",onClick:g},s.ag.get("remove")))))}))},32567:(e,n,t)=>{t.d(n,{v:()=>f});var a=t(6479),i=t.n(a),l=t(67154),r=t.n(l),s=t(67294),o=t.n(s),c=t(95688),u=t(24209),d=t(20657),m=t(83692),k=t(45287),v=["uri","onClick"],p=function(e){return o().createElement(c.d,r()({semanticColor:"textPositive"},e))},f=function(e){var n=e.uri,t=e.onClick,a=i()(e,v),l=(0,k.U)(n),s=l.isEnhanced,c=l.toggleIsEnhanced;return o().createElement(m.w,{label:s?d.ag.get("web-player.enhance.button_aria_label_enhanced"):d.ag.get("web-player.enhance.button_aria_label_not_enhanced")},o().createElement(u.P,r()({buttonSize:"sm"},a,{iconLeading:s?p:void 0,onClick:function(){c(),null==t||t()}}),s?d.ag.get("web-player.enhance.button_text_enhanced"):d.ag.get("web-player.enhance.button_text_not_enhanced")))}},40080:(e,n,t)=>{t.d(n,{D:()=>i});var a=t(67294);function i(e){var n=(0,a.useRef)();return(0,a.useEffect)((function(){n.current=e}),[e]),n.current}},2751:(e,n,t)=>{t.d(n,{Z:()=>a});const a={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",playlist:"dZ3U5sTGUTdanNamXe1z",searchBoxContainer:"KodyK77Gzjb8NqPGpcgw",recommendedTrackList:"kwe0I8sSNMv3gYBjkRYP",playlistContent:"rezqw3Q4OEPB1m4rmwfw",playlistDescription:"fUYMR7LuRXv0KJWFvRZA",top:"PZkwbwJD1afoCmJkGt8w",header:"yP3JLuwUNDIQHxRFilK3",subtitle:"NCKSUYdZaTMrobq8ilkc",refreshButton:"QmGi2oa43BTcEZ5MCr9T",playlistImageContainer:"oq1ci28WPaRsWkvRiB_J",playlistInlineCurationSection:"Ykd_JWqkR9gSLHISDBwP",playlistInlineCurationWrapper:"g9xHCCSXDR8S5NvTbfwL",playlistInlineCurationTitle:"SMJIXlalPk_TESlyt2pC",playlistInlineCurationCloseButton:"FC40AOSbVM9LXjVi7bjO",playlistInlineCurationBackButton:"hVcUafGrnsA6nD1dJzc5",artistResultListTitle:"rARdlCShKVQsvuXamFOX",seeMore:"STDuzt77yRCueC4Ohenl",emptyStateContainer:"Bl_kg24BjWgcXPokgEKy",searchResultListContainer:"sAPXlA_oxu_8x1Cn0NTC",emptySearchTermContainer:"_Z2TnFjt8GB5ryOtvyti",icon:"tzeKawjOOKFw1KfQ34mG"}}}]);
//# sourceMappingURL=xpui-routes-playlist.js.map