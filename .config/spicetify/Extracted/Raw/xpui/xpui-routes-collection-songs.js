"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[553],{55546:(e,t,l)=>{l.r(t),l.d(t,{LikedSongs:()=>F,LikedSongsContainer:()=>B,default:()=>O,likedSongscolumns:()=>N});var a=l(67294),r=l.n(a),n=l(16528),i=l(20657),s=l(30947),o=l(55911),c=l(53646),u=l(49955),m=l(7692),d=l(92510);var g=l(45342),p=l(84242),f=l(1169),E=l(4236),y=l(30520),b=l(90110),k=l(70369),C=l(37338),D=l(19565),h=l(42273),v=l(59482),T=l(72907),S=l(61048);const w=()=>r().createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47 18.538L48 16.806L31.478 7.26801V42.327C29.826 40.299 27.313 39 24.5 39C19.538 39 15.5 43.038 15.5 48C15.5 52.963 19.538 57 24.5 57C29.27 57 33.175 53.266 33.471 48.569L33.478 48.433C33.485 48.288 33.485 47.711 33.478 47.566V10.732L47 18.538ZM31.478 48.434C31.252 52.091 28.213 55 24.5 55C20.64 55 17.5 51.86 17.5 48C17.5 44.141 20.64 41 24.5 41C28.213 41 31.252 43.909 31.478 47.566V48.434Z",fill:"currentColor"}));var P=l(1663),_=l(55120),x=l(71927),A=l(32129),L=l(22423),R=l(28248),I=l(78462),M=l(14893),U=l(2751);const N=[R.QD.INDEX,R.QD.TITLE,R.QD.ALBUM,R.QD.ADDED_AT,R.QD.DURATION],F=({metadata:e,canFilter:t,canSort:l})=>{const{uri:g,name:R,images:M,totalLength:F,owner:B}=e,{filterBoxApiRef:O,filterBoxDomRef:Q,tracklistDomRef:z,handleKeyDown:Z}=(0,f.Q)(),q=(0,E.k)()&&F>0,K=F>0,V=(0,a.useMemo)((()=>({id:B.username,uri:B.uri,name:B.username,displayName:B.displayName||void 0,images:B.images||[]})),[B]),G=(0,c.Y5)("#5038a0"),{filter:H}=(0,a.useContext)(L.fo),{sortState:$}=(0,a.useContext)(I.Gb),j=(0,n.k6)(),X="POP"!==j.action?new URLSearchParams(j.location.search).get("uri"):null,{isPlaying:Y,togglePlay:W,usePlayContextItem:J}=(0,p.n)(function(e,t,l){const a={uri:e};return(0,u.R4)(a,t),(0,m.IC)(a,(0,d.cj)(l)),a}(g,(0,y.w)($),H),{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),ee=()=>W();return r().createElement("section",{role:"presentation",className:U.Z.playlist,"data-testid":"playlist-page",onKeyDown:Z},r().createElement(k.$,null,i.ag.get("playlist.page-title",R)),r().createElement(h.gF,{backgroundColor:G},r().createElement(v.W,null,r().createElement(_.$,{size:o.qE.sm,onClick:ee,isPlaying:Y,uri:g,ariaPauseLabel:i.ag.get("liked-songs.a11y.pause",R),ariaPlayLabel:i.ag.get("playlist.a11y.play",R)}),r().createElement(T.i,{text:R})),r().createElement("div",{className:U.Z.playlistImageContainer},r().createElement(C.T,{canEdit:!1,name:R,images:M,onClick:()=>{},placeholderType:"playlist"})),r().createElement(h.sP,null,r().createElement(h.dy,{small:!0,uppercase:!0},i.ag.get("playlist")),r().createElement(h.xd,{canEdit:!1,onClick:()=>{}},R),r().createElement(h.QS,{creators:[V],totalTracks:F}))),r().createElement(s.o,{backgroundColor:G},r().createElement(s.F,null,K?r().createElement(_.$,{onClick:ee,isPlaying:Y,size:o.qE.lg,uri:g,ariaPauseLabel:i.ag.get("liked-songs.a11y.pause",R),ariaPlayLabel:i.ag.get("playlist.a11y.play",R)}):null,q?r().createElement(b.o,{uri:g,isFollowing:!0,onFollow:()=>{},size:b.q.md}):null,t&&l&&r().createElement("div",{className:U.Z.searchBoxContainer},r().createElement(a.Suspense,{fallback:null},r().createElement(S.K,{placeholder:i.ag.get("playlist.search_in_playlist"),filterBoxApiRef:O,outerRef:Q})),r().createElement(A.c,{columns:I.P0})))),r().createElement("div",{className:"contentSpacing"},F>0?r().createElement(a.Suspense,{fallback:r().createElement(P.h,{hasError:!1,errorMessage:i.ag.get("error.request-collection-tracks-failure")})},r().createElement(x.p,{nrTracks:F,columns:N,collectionUri:g,scrollToUri:X,usePlayContextItem:J,outerDomRef:z})):r().createElement(D.u,{message:i.ag.get("collection.empty-page.songs-subtitle"),title:i.ag.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:i.ag.get("collection.empty-page.songs-cta"),renderInline:!0},r().createElement(w,null))))},B=r().memo((()=>{const e=(0,M.b)(),t=(0,a.useContext)(g.H).getCapabilities();return e?r().createElement(I.kz,{uri:e.uri},r().createElement(L.hz,{uri:e.uri},r().createElement(F,{metadata:e,canFilter:t.canFilter&&e.totalLength>0,canSort:t.canSort&&e.totalLength>0}))):r().createElement(P.h,{hasError:!1,errorMessage:i.ag.get("error.not_found.title.playlist"),loadOffline:t.canModifyOffline})})),O=B},71927:(e,t,l)=>{l.d(t,{p:()=>y});var a=l(67294),r=l.n(a),n=l(20657),i=l(42922),s=l(45342),o=l(49961),c=l(30520),u=l(36132),m=l(35308),d=l(22423),g=l(28248),p=l(78462);const f=new Set(p.P0),E=new Set([]),y=r().memo((({nrTracks:e,collectionUri:t,columns:l,uri:y,sortable:b=!0,scrollToUri:k,usePlayContextItem:C,outerDomRef:D})=>{const h=(0,a.useContext)(s.H),v=(0,a.useRef)(null),[T,S]=(0,a.useState)(e),{filter:w}=(0,a.useContext)(d.fo),P=(0,a.useRef)((()=>{})),[_,x]=(0,a.useState)([]),{sortState:A,setSortState:L}=(0,a.useContext)(p.Gb),R=(0,a.useCallback)((e=>{L((0,u.VK)(e,A))}),[L,A]);(0,a.useEffect)((()=>{v.current&&v.current.update()}),[A,w]),(0,a.useEffect)((()=>{v.current&&""===w&&v.current.scrollToFirstSelected()}),[w,T]),(0,a.useEffect)((()=>{S(e)}),[e]),(0,a.useEffect)((()=>{v.current&&k&&v.current.scrollToItem({uri:k})}),[k]);const I=(0,a.useCallback)((e=>{const t=e.map((e=>e.uri));P.current(),null==h||h.remove(...t)}),[h]),M=(0,a.useCallback)(((e,t)=>{P.current=t,e.length>1?x(e):I(e)}),[I]),U=(0,a.useCallback)((async(e,t)=>{const l=await(null==h?void 0:h.getTracks({offset:e,limit:t,uri:y,sort:(0,c.w)(A),filter:w})),a=null==l?void 0:l.totalLength,r=(null==l?void 0:l.items)||[];return"number"==typeof a&&a!==T&&S(a),r}),[w,h,T,A,y]),N=(0,a.useCallback)(((e,l)=>{var a;const n=(0,o.X)(null===(a=e.album)||void 0===a?void 0:a.images,{desiredSize:40,desiredLabel:"small"});return r().createElement(g.dx,{key:l+e.uri,index:l,contextUri:t,uri:e.uri,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,albumOrShow:e.album,isExplicit:e.isExplicit,isCollaborative:!1,isMixedMedia:!1,isPaywalled:!1,isUserSubscribed:!1,isLocal:e.isLocal,addedBy:[],dateAdded:e.addedAt,hasDecoratedAddedBy:!1,release_date:"",isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:(null==n?void 0:n.url)||"",onMove:()=>{},onInsert:()=>{},usePlayContextItem:C,allowedDropTypes:[],isDisliked:!1,playlistName:""})}),[t,C]);return r().createElement(r().Fragment,null,r().createElement(i.ZP,{value:"liked-songs-tracklist"},r().createElement(g.Pv,{ariaLabel:n.ag.get("sidebar.liked_songs"),key:t,hasHeaderRow:!0,columns:l,sortableColumns:null!=h&&h.getCapabilities().canSort&&b?f:E,sortState:A,onSort:R,renderRow:N,resolveUri:e=>e.uri,resolveUid:e=>e.uri,onRemove:M,nrTracks:T,fetchTracks:U,limit:50,canFetchAllTracks:null==h?void 0:h.getCapabilities().canFetchAllTracks,outerRef:v,outerDomRef:D})),r().createElement(m.h,{title:n.ag.get("remove_from_your_liked_songs"),isOpen:_.length>0,tracks:_,onClose:e=>{e.stopPropagation(),x([])},onRemove:I}))}))},30520:(e,t,l)=>{l.d(t,{w:()=>s});var a=l(74483),r=l(59916),n=l(36132);const i={[r.bD.ADDED_AT]:a._1.ADDED_AT,[r.bD.ADDED_BY]:null,[r.bD.ALBUM]:a._1.ALBUM_NAME,[r.bD.ARTIST]:a._1.ARTIST_NAME,[r.bD.DURATION]:null,[r.bD.TITLE]:a._1.NAME},s=e=>{const t=(0,n._j)(e);if(!t)return;const l=i[t.field],a=t.order;return l&&a?{field:l,order:a}:void 0}}}]);
//# sourceMappingURL=xpui-routes-collection-songs.js.map