"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7553],{89915:(e,t,a)=>{a.d(t,{u:()=>p});var n=a(59496),i=a(84875),l=a.n(i),s=a(652),r=a(12075),o=a(52646),c=a(78489);const d="FvfvGU3jvHRskUU9v9_8",u="Q9AlbZn2EGzy3MTWXa8X",m="mxmxS0y8LiwSs5nueKPT",g="GXxVAveNFStY3pBI_NO4",h="eHcXC2s97InYP7rMNT0H";var x=a(4637);const p=(0,n.memo)((function(e){const{children:t,message:a,title:n,linkTitle:i,linkTo:p,onClick:f,renderInline:y=!1}=e,{isXSOnly:k,isSMOnly:j}=(0,o.e)(),D=k||j;return(0,x.jsxs)("section",{className:l()(d,{[u]:y}),children:[t,(0,x.jsx)(s.D,{as:"h1",variant:D?"cello":"alto",className:g,children:n}),(0,x.jsx)(s.D,{variant:D?"mesto":"ballad",className:h,children:a}),i&&(p||f)&&(0,x.jsx)(r.D,{colorSet:"invertedLight",className:m,href:p,onClick:f,component:c.Z,children:i})]})}))},35991:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Y});var n=a(59496),i=a(77646),l=a(92053),s=a(67403),r=a(92513),o=a(55964),c=a(28669),d=a(49956),u=a(46914),m=a(63165),g=a(89915),h=a(27521),x=a(57539),p=a(90008),f=a(67115),y=a(96955),k=a(84486),j=a(36037),D=a(27489),w=a(23028),b=a(89632),S=a(30133),v=a(13205),C=a(15655),F=a(4147),T=a(37796),I=a(67780),E=a(59295),L=a(37929),P=a(59689),O=a(72102),N=a(98640),A=a(22806),M=a(4264),R=a(96927);var U=a(15034),_=a(3939),B=a(46368),Q=a(87029),G=a(4637);const X=n.memo((({tracklistDomRef:e})=>{const{spec:t,logger:a}=(0,T.fU)(_.createDesktopSearchBarEventFactory,{}),i=(0,n.useCallback)((()=>{a.logInteraction(t.filterFieldFactory().keyStrokeFilter())}),[a,t]),l=(0,n.useCallback)((()=>{a.logInteraction(t.filterFieldFactory().hitClearFilter())}),[a,t]),s=(0,n.useCallback)((()=>{a.logInteraction(t.sortButtonFactory().hitSort())}),[a,t]);return(0,G.jsxs)("div",{className:p.Z.searchBoxContainer,children:[(0,G.jsx)(n.Suspense,{fallback:null,children:(0,G.jsx)(B.K,{placeholder:c.ag.get("playlist.search_in_playlist"),clearOnEscapeInElementRef:e,onFilter:i,onClear:l})}),(0,G.jsx)(Q.l,{columns:k.P0,onSort:s})]})}));var z=a(18222);const H=n.lazy((()=>Promise.all([a.e(1814),a.e(5386),a.e(682)]).then(a.bind(a,15386)))),Z=[y.QD.INDEX,y.QD.TITLE,y.QD.ALBUM,y.QD.ADDED_AT,y.QD.DURATION],K="your_library",V=({data:e,canFilter:t,canSort:a})=>{const{uri:i,name:o,totalLength:D}=e.metadata,v=(0,n.useRef)(null),E=D>0,P=D>0,O=(0,b.Y5)("#5038a0"),{filter:N}=(0,n.useContext)(f.fo),{sortState:A,setSortState:M}=(0,n.useContext)(k.Gb),{spec:R,logger:_}=(0,T.fU)(r.createDesktopLikedSongsEventFactory,{data:{uri:i}}),B=n.useMemo((()=>R.headerFactory()),[R]),Q=n.useMemo((()=>R.tracklistFactory()),[R]);(0,n.useEffect)((()=>{null===A.column&&M({column:y.QD.ADDED_AT,order:y.kn.DESC})}),[A,M]);const H=(0,l.ur)(),V=(0,l.TH)(),W="POP"!==H?new URLSearchParams(V.search).get("uri"):null,{isPlaying:Y,togglePlay:$,usePlayContextItem:q,isActive:J}=(0,F.n)((0,S.I)(i,(0,U.w)(A),N),{featureIdentifier:K,referrerIdentifier:"your_library"}),ee=()=>{const e=(0,I.aK)({isPlaying:Y,isActive:J,spec:R.actionBarFactory().playButtonFactory(),logger:_,uri:i});$({loggingParams:e})},te=(0,n.useCallback)(((e,t)=>{const a=R.actionBarFactory().downloadButtonFactory();t===C.mc.ADD?_.logInteraction(a.hitDownload({itemToDownload:i})):t===C.mc.REMOVE?_.logInteraction(a.hitRemoveDownload({itemToRemoveFromDownloads:i})):t===C.mc.NO_PERMISSION&&_.logInteraction(a.hitUiReveal())}),[_,R,i]);return(0,G.jsxs)("section",{role:"presentation",className:p.Z.playlist,"data-testid":"playlist-page",children:[(0,G.jsx)(m.$,{children:c.ag.get("playlist.page-title",o)}),(0,G.jsx)(w.s,{metadata:e.metadata,isPlaying:Y,togglePlay:ee,backgroundColor:O,specLikedSongs:B}),(0,G.jsx)(d.o,{backgroundColor:O,children:(0,G.jsxs)(d.F,{children:[P?(0,G.jsx)(x.$,{onClick:ee,isPlaying:Y,size:"lg",uri:i,ariaPauseLabel:c.ag.get("playlist.a11y.pause",o),ariaPlayLabel:c.ag.get("playlist.a11y.play",o)}):null,e.metadata.totalLength>0&&(0,G.jsx)(L.v,{uri:i,renderEnabled:()=>(0,G.jsx)(j.v,{uri:i})}),(0,G.jsx)(u.o,{uri:i,canDownload:E,isFollowing:!0,onFollow:()=>{},size:u.q.md,onClick:te}),t&&a&&(0,G.jsx)(T.Nh,{spec:R.actionBarFactory(),children:(0,G.jsx)(X,{tracklistDomRef:v})})]})}),(0,G.jsx)("div",{className:"contentSpacing",children:D>0?(0,G.jsx)(n.Suspense,{fallback:(0,G.jsx)(h.h,{hasError:!1,errorMessage:c.ag.get("error.request-collection-tracks-failure")}),children:(0,G.jsx)(T.Nh,{spec:Q,children:(0,G.jsx)(z.p,{nrTracks:D,columns:Z,collectionUri:i,scrollToUri:W,usePlayContextItem:q,outerDomRef:v,spec:Q,initialItems:e.contents.items})})}):(0,G.jsx)(g.u,{message:c.ag.get("collection.empty-page.songs-subtitle"),title:c.ag.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:c.ag.get("collection.empty-page.songs-cta"),renderInline:!0,children:(0,G.jsx)(s.F,{"aria-hidden":"true"})})})]})},W=n.memo((function({user:e,uri:t}){const{filter:a}=(0,n.useContext)(f.fo),{sortState:l}=(0,n.useContext)(k.Gb),s=function(e,t,a){const i=(0,n.useContext)(v.H),l=(0,P.useQueryClient)(),s=(0,O.jP)((()=>["useLikedSongs",e,a]),[e,a]),{data:r}=(0,P.useQuery)(s(),(()=>i.getTracks(a)),{cacheTime:18e5,keepPreviousData:!0,refetchOnWindowFocus:!1}),o=(0,n.useCallback)((()=>{l.invalidateQueries(s())}),[l,s]);(0,A.b)(N.EW.UPDATE,o);const c=(0,R.I2)(t.id);return c&&r?{metadata:{uri:e,name:c.name,images:c.images,totalLength:r?.totalLength,unfilteredTotalLength:r.unfilteredTotalLength,owner:(0,M.V3)(t)},contents:r}:null}(t,e,{offset:0,limit:25,sort:(0,U.w)(l),filter:a}),r=(0,n.useContext)(v.H).getCapabilities(),o=(0,i.v9)(E.n5),{isEnhanced:d}=(0,D.U)(`spotify:user:${o}:collection`);if(s){const e=(0,G.jsx)(V,{data:s,canFilter:r.canFilterTracksAndEpisodes&&s.metadata.unfilteredTotalLength>0,canSort:r.canSortTracksAndEpisodes&&s.metadata.unfilteredTotalLength>0});return(0,G.jsx)(L.v,{uri:s.metadata.uri,renderEnabled:()=>d?(0,G.jsx)(n.Suspense,{fallback:null,children:(0,G.jsx)(k.kz,{uri:s.metadata.uri,children:(0,G.jsx)(H,{metadata:{...s.metadata,collaborators:{count:1,items:[{isOwner:!0,user:s.metadata.owner,tracksAdded:s.metadata.totalLength}]}},capabilities:r,featureIdentifier:K})})}):e,renderDisabled:()=>e})}return(0,G.jsx)(h.h,{hasError:!1,errorMessage:c.ag.get("error.not_found.title.playlist"),loadOffline:r.canModifyOffline})})),Y=()=>{const{user:e}=(0,i.v9)(E.Gg);if(null===e)return null;const t=(0,o.wG)(e.id).toURI();return(0,G.jsx)(k.kz,{uri:t,children:(0,G.jsx)(f.hz,{uri:t,children:(0,G.jsx)(W,{uri:t,user:e})})})}},23028:(e,t,a)=>{a.d(t,{s:()=>n.s});var n=a(93267)},52646:(e,t,a)=>{a.d(t,{e:()=>g});var n=a(99169);const i="(min-width: 0px)",l="(min-width: 0px) and (max-width: 767px)",s="(min-width: 768px)",r="(min-width: 768px) and (max-width: 1023px)",o="(min-width: 1024px)",c="(min-width: 1024px) and (max-width: 1279px)",d="(min-width: 1280px)",u="(min-width: 1280px) and (max-width: 1919px)",m="(min-width: 1920px)",g=()=>({isXS:(0,n.a)(i),isXSOnly:(0,n.a)(l),isSM:(0,n.a)(s),isSMOnly:(0,n.a)(r),isMD:(0,n.a)(o),isMDOnly:(0,n.a)(c),isLG:(0,n.a)(d),isLGOnly:(0,n.a)(u),isXL:(0,n.a)(m)})}}]);
//# sourceMappingURL=xpui-routes-collection-songs.js.map