"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[379],{19565:(e,t,l)=>{l.d(t,{u:()=>m});var r=l(67294),a=l.n(r),n=l(94184),o=l.n(n),i=l(96685),A=l(39561),c=l(62890);const s="FvfvGU3jvHRskUU9v9_8",E="Q9AlbZn2EGzy3MTWXa8X",u="mxmxS0y8LiwSs5nueKPT",D="GXxVAveNFStY3pBI_NO4",d="eHcXC2s97InYP7rMNT0H",m=a().memo((e=>{const{children:t,message:l,title:r,linkTitle:n,linkTo:m,onClick:T,renderInline:C=!1}=e,{isXSOnly:_,isSMOnly:L}=(0,A.e)(),S=_||L;return a().createElement("section",{className:o()(s,{[E]:C})},t,a().createElement(i.LF,{as:"h1",variant:S?"cello":"alto",className:D},r),a().createElement(i.LF,{variant:S?"mesto":"ballad",className:d},l),n&&(m||T)&&a().createElement(c.z,{version:"secondary",className:u,linkTo:m,onClick:T},n))}))},65673:(e,t,l)=>{l.r(t),l.d(t,{default:()=>te});var r=l(59713),a=l.n(r),n=l(67294),o=l.n(n),i=l(81052),A=l(73012),c=l(52482),s=l(20657),E=l(30947),u=l(55911),D=l(31595),d=l(83280),m=l(72131),T=l(66393),C=l(23248),_=l(84242),L=l(59916),S=l(1169),g=l(36132),O=l(19565),y=l(42273),R=l(59482),I=l(72907),b=l(61048),k=l(1663),P=l(55120),f=l(32129),p=l(22423),N=l(68942),h=l(28248),v=l(78462),B=l(42922),M=l(49961),Q=l(37763),H=l.n(Q),U=l(18261),x=l(87257),Y=l(84788),w=l(26921),W=l(27481),j=l(78920),X=l(82760),z=l(83384);const F=o().memo((({uri:e,uid:t,name:l,duration_ms:r,artists:a,album:i,is19PlusOnly:A,isExplicit:c,isPlayable:E,index:u,contextUri:D,imgUrl:d,usePlayContextItem:m})=>{const{filter:T}=(0,n.useContext)(p.fo),{isActive:C,isPlaying:_,triggerPlay:L,togglePlay:S}=m({uid:t,uri:e,index:u}),g=(0,j.P)(),{badges:O,hasBadges:y}=(0,Y.r)({isExplicit:c}),R=(null==a?void 0:a.map((e=>e.name)).join(s.ag.getSeparator()))||"";return o().createElement(B.ZP,{value:"row",index:u},o().createElement(U._,{menu:o().createElement(w.N,{uri:e,uid:t,contextUri:D})},o().createElement(X.c,{uri:e,contextUri:D,isActive:C,index:u,onTriggerPlay:()=>{L()},ariaRowIndex:u+1,isPlayable:E,ageRestricted:A,dragMetadata:{name:l,createdBy:R}},o().createElement(W.Dd,{ariaColIndex:0},o().createElement(W.Du,{uri:e,playAriaLabel:s.ag.get("tracklist.a11y.play",l,R),isPlaying:_,isActive:C,onClick:()=>{S()}},o().createElement(W.km,null,u+1))),o().createElement(W.vZ,{ariaColIndex:1},o().createElement(W.lD,{src:d}),o().createElement(W.vm,null,o().createElement(W.Wh,{titleText:l},o().createElement(H(),{searchWords:[T],textToHighlight:l,findChunks:g,highlightClassName:z.Z.filterHighlight})),y&&o().createElement(W.g3,null,O.explicit?o().createElement(x.N,null):null),o().createElement(W.K9,null,a&&o().createElement(j.o,{nonInteractive:!0,artists:a,filter:T})))),o().createElement(W.UA,{ariaColIndex:2},(null==i?void 0:i.name)&&o().createElement(W.BM,{nonInteractive:!0,uri:null==i?void 0:i.uri,name:null==i?void 0:i.name},o().createElement(H(),{searchWords:[T],textToHighlight:null==i?void 0:i.name,findChunks:g,highlightClassName:z.Z.filterHighlight}))),o().createElement(W.mU,{ariaColIndex:3},o().createElement(W.A$,{duration:r}),o().createElement(W.Zv,{menu:o().createElement(w.N,{uri:e,uid:t,contextUri:D}),label:s.ag.get("more.label.track",l,R)})))))}),((e,t)=>e.uri===t.uri&&e.index===t.index)),V=new Set(v.MI),K=o().memo((({uri:e,tracks:t,columns:l,sortState:r,handleSort:a,usePlayContextItem:i,tracklistDomRef:A})=>{const c=(0,n.useRef)(null),E=(0,n.useCallback)(((t,l)=>{var r;const a=(0,M.X)(null===(r=t.album)||void 0===r?void 0:r.images,{desiredSize:40,desiredLabel:"small"});return o().createElement(F,{key:t.uid,index:l,contextUri:e,uri:t.uri,uid:t.uid,isPlayable:t.isPlayable,duration_ms:t.duration.milliseconds,name:t.name,artists:t.artists,album:t.album,isExplicit:t.isExplicit,is19PlusOnly:t.is19PlusOnly,type:t.type,imgUrl:(null==a?void 0:a.url)||"",usePlayContextItem:i})}),[e,i]);return o().createElement(o().Fragment,null,o().createElement(B.ZP,{value:"playlist-tracklist"},o().createElement(h.Pv,{key:e,ariaLabel:s.ag.get("local-files"),hasHeaderRow:!0,columns:l,sortableColumns:V,sortState:r,onSort:a,renderRow:E,resolveUri:e=>e.uri,resolveUid:e=>e.uid,tracks:t,nrTracks:t.length,limit:100,outerRef:c,outerDomRef:A})))})),G="tYmjXB2T6EJhhTtsSijS",Z="EetzTXGFCRe2UZJ_1_re";function q(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,r)}return l}function $(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?q(Object(l),!0).forEach((function(t){a()(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):q(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}const J=[h.QD.INDEX,h.QD.TITLE,h.QD.ALBUM,h.QD.DURATION],ee=()=>{const{filter:e}=(0,n.useContext)(p.fo),{sortState:t,setSortState:l}=(0,n.useContext)(v.Gb),r=(0,n.useContext)(T.t),[a]=(0,C.z)(N.J,!1),[h,B]=(0,n.useState)(),M=(0,D.Y)(A.Fzl),{filterBoxApiRef:Q,filterBoxDomRef:H,tracklistDomRef:U,handleKeyDown:x}=(0,S.Q)(),Y=(0,n.useCallback)((e=>{l((0,g.VK)(e,t))}),[t,l]),w=(0,n.useCallback)((async()=>{var l,a,n;const o=(e=>{const t=(null==e?void 0:e.order)===L.As.DESC?1:0;switch(null==e?void 0:e.field){case L.bD.TITLE:return i.uh.NAME_ASC+t;case L.bD.ADDED_AT:return i.uh.ADD_TIME_ASC+t;case L.bD.ALBUM:return i.uh.ALBUM_NAME_ASC+t;case L.bD.ARTIST:return i.uh.ARTIST_NAME_ASC+t;case L.bD.DURATION:return i.uh.LENGTH_ASC+t;default:return i.uh.NO_SORT}})((0,g._j)(t)),A=await r.getTracks({query:{sortBy:o,textFilter:e}});B(null!==(l=null===(a=A.data)||void 0===a||null===(n=a.item)||void 0===n?void 0:n.map(d.cr))&&void 0!==l?l:[])}),[r,t,e]);(0,n.useEffect)((()=>{w()}),[w]);const{isPlaying:W,togglePlay:j,usePlayContextItem:X}=(0,_.n)({uri:m.b,pages:[{items:(null!=h?h:[]).map((e=>$($({},e),{},{provider:null})))}]},{featureIdentifier:"local_files"});return h?h.length&&a?o().createElement("div",{role:"presentation",className:G,onKeyDown:x},o().createElement(y.gF,{backgroundColor:M},o().createElement(R.W,null,o().createElement(P.$,{size:u.qE.sm,onClick:()=>j(),isPlaying:W,uri:m.b}),o().createElement(I.i,{text:s.ag.get("local-files")})),o().createElement(y.sP,null,o().createElement(y.xd,null,s.ag.get("local-files")),o().createElement(y.T0,null,s.ag.get("local-files.description")))),o().createElement(E.o,{backgroundColor:M},o().createElement(E.F,null,o().createElement(P.$,{size:u.qE.xl,onClick:()=>j(),isPlaying:W,uri:m.b}),o().createElement("div",{className:Z},o().createElement(n.Suspense,{fallback:null},o().createElement(b.K,{placeholder:s.ag.get("playlist.search_in_playlist"),filterBoxApiRef:Q,outerRef:H})),o().createElement(f.c,{columns:v.MI})))),o().createElement("div",{className:"contentSpacing"},o().createElement(K,{tracks:h,uri:m.b,columns:J,handleSort:Y,sortState:t,usePlayContextItem:X,tracklistDomRef:U}))):o().createElement(O.u,{linkTo:"/preferences",linkTitle:s.ag.get("local-files.empty-button"),message:s.ag.get("local-files.empty-description"),title:s.ag.get("local-files.empty-header")},o().createElement(c.X,{iconSize:64})):o().createElement(k.h,{hasError:!1,errorMessage:s.ag.get("error.request-artist-failure")})},te=()=>o().createElement(v.kz,{uri:"spotify:internal:local-files"},o().createElement(p.hz,{uri:"spotify:internal:local-files"},o().createElement(ee,null)))},32129:(e,t,l)=>{l.d(t,{c:()=>u});var r=l(67294),a=l.n(r),n=l(20657),o=l(36132),i=l(95289),A=l(5292),c=l(28248),s=l(78462);function E(e){return!!e}const u=({columns:e})=>{const t=[...e];t.splice(2,0,c.QD.ARTIST);const{sortState:l,setSortState:u}=(0,r.useContext)(s.Gb),D=function(e){return null===e.column?A.mE[c.QD.INDEX]:(0,o.cB)(e.column,e.order)?A.mE[c.QD.ARTIST]:A.mE[e.column]}(l),d=(0,r.useCallback)((e=>{u((0,A.WQ)(e,l.column,l.order))}),[u,l.column,l.order]),m=(0,r.useCallback)((()=>null!==l.column),[l.column]),T=t.map((e=>A.mE[e])).filter(E);return a().createElement(i.A,{options:T,onSelect:d,selected:D,isSelectionChanged:m,sortOrder:l.order,heading:n.ag.get("drop_down.sort_by")})}},95289:(e,t,l)=>{l.d(t,{A:()=>S});var r=l(67294),a=l.n(r),n=l(94184),o=l.n(n),i=l(96685),A=l(26115),c=l(74594),s=l(20246),E=l(62012),u=l(6577),D=l(30005),d=l(36652),m=l(21691),T=l(28248);const C=({heading:e,selected:t,onSelect:l,options:r,sortOrder:n})=>{let o;return n&&(n===T.kn.ASC||n===T.kn.SECONDARY_ASC?o=a().createElement(E.e,{iconSize:16}):n!==T.kn.DESC&&n!==T.kn.SECONDARY_DESC||(o=a().createElement(u.c,{iconSize:16}))),a().createElement(D.v,null,e?a().createElement(d.F,null,e):null,r.map((({key:e,value:r})=>a().createElement(m.s,{role:"menuitemradio","aria-checked":e===t.key&&!o,key:e,onClick:()=>l(e),icon:e===t.key&&o},a().createElement(i.LF,{variant:"mesto"},r)))))},_="w6j_vX6SF5IxSXrrkYw5",L="CbHJjxYxldG7uUPMYMaP";const S=({heading:e,options:t,selected:l,onSelect:r,isSelectionChanged:n,sortOrder:E,variant:u=i.LF.mesto,semanticColor:D})=>{const[d]=t;l||(l=d);const m=n?n(l):l!==d;return a().createElement(s.y,{menu:a().createElement(C,{selected:l,options:t,onSelect:r,sortOrder:E,heading:e})},((e,t,r)=>a().createElement("button",{className:o()(_,{[L]:m}),onClick:t,ref:r,type:"button"},a().createElement(i.LF,{semanticColor:D,variant:u},l.value),e?a().createElement(A.q,{iconSize:16}):a().createElement(c.m,{iconSize:16}))))}},5292:(e,t,l)=>{l.d(t,{oT:()=>c,ei:()=>E,MY:()=>u,Ru:()=>D,Aq:()=>m,o$:()=>T,e3:()=>_,a6:()=>L,EY:()=>g,ZP:()=>O,G5:()=>R,$2:()=>I,sv:()=>k,_s:()=>P,w0:()=>f,pT:()=>N,WQ:()=>M,mE:()=>Q});var r=l(20657),a=l(74483),n=l(9659),o=l(36132),i=l(28248),A=l(78462);let c;!function(e){e.SHOW_ALPHABETICAL="SHOW_ALPHABETICAL",e.BOOK_ALPHABETICAL="BOOK_ALPHABETICAL",e.EPISODE_ALPHABETICAL="EPISODE_ALPHABETICAL",e.PLAYLIST_ALPHABETICAL="PLAYLIST_ALPHABETICAL",e.ALBUM_ALPHABETICAL="ALBUM_ALPHABETICAL",e.ADDED_AT="ADDED_AT",e.CREATOR_NAME="CREATOR_NAME",e.CREATOR_NAME_ALPHABETICAL="CREATOR_NAME_ALPHABETICAL",e.ALBUM_CREATOR_NAME="ALBUM_CREATOR_NAME",e.RECENTLY_PLAYED="RECENTLY_PLAYED",e.MOST_RELEVANT="MOST_RELEVANT",e.CUSTOM_ORDER="CUSTOM_ORDER"}(c||(c={}));const s={[a.yW.NAME]:o.hI.TITLE,[a.yW.SHOW_NAME]:o.hI.SHOW,[a.yW.ADDED_AT]:o.hI.ADDED_AT},E={"show-alphabetical":c.SHOW_ALPHABETICAL,"book-alphabetical":c.BOOK_ALPHABETICAL,"episode-alphabetical":c.EPISODE_ALPHABETICAL,"playlist-alphabetical":c.PLAYLIST_ALPHABETICAL,"album-alphabetical":c.ALBUM_ALPHABETICAL,"recently-added":c.ADDED_AT,"creator-name":c.CREATOR_NAME,"creator-name-alphabetical":c.CREATOR_NAME_ALPHABETICAL,"album-creator-name":c.ALBUM_CREATOR_NAME,"recently-played":c.RECENTLY_PLAYED,"playlist-most-relevant":c.MOST_RELEVANT,"playlist-custom-order":c.CUSTOM_ORDER},u={[c.RECENTLY_PLAYED]:{key:"recently-played",value:r.ag.get("collection.sort.recently-played")},[c.ADDED_AT]:{key:"recently-added",value:r.ag.get("collection.sort.recently-added")},[c.SHOW_ALPHABETICAL]:{key:"show-alphabetical",value:r.ag.get("collection.sort.alphabetical")},[c.BOOK_ALPHABETICAL]:{key:"book-alphabetical",value:r.ag.get("collection.sort.alphabetical")},[c.EPISODE_ALPHABETICAL]:{key:"episode-alphabetical",value:r.ag.get("collection.sort.alphabetical")},[c.PLAYLIST_ALPHABETICAL]:{key:"playlist-alphabetical",value:r.ag.get("collection.sort.alphabetical")},[c.ALBUM_CREATOR_NAME]:{key:"album-creator-name",value:r.ag.get("collection.sort.creator")},[c.CREATOR_NAME]:{key:"creator-name",value:r.ag.get("collection.sort.creator")},[c.CREATOR_NAME_ALPHABETICAL]:{key:"creator-name-alphabetical",value:r.ag.get("collection.sort.alphabetical")},[c.ALBUM_ALPHABETICAL]:{key:"album-alphabetical",value:r.ag.get("collection.sort.alphabetical")},[c.MOST_RELEVANT]:{key:"playlist-most-relevant",value:r.ag.get("collection.sort.most-relevant")},[c.CUSTOM_ORDER]:{key:"playlist-custom-order",value:r.ag.get("collection.sort.custom-order")}},D=[c.ADDED_AT,c.ALBUM_ALPHABETICAL,c.CREATOR_NAME],d={[c.ADDED_AT]:{field:a.lY.ADDED_AT,order:a.As.DESC},[c.ALBUM_ALPHABETICAL]:{field:a.lY.NAME,order:a.As.ASC},[c.CREATOR_NAME]:{field:a.lY.ARTIST_NAME,order:a.As.ASC}},m=e=>{if(D.includes(e))return d[e]},T=[c.ADDED_AT,c.CREATOR_NAME_ALPHABETICAL],C={[c.ADDED_AT]:{field:a.hx.ADDED_AT,order:a.As.DESC},[c.CREATOR_NAME_ALPHABETICAL]:{field:a.hx.NAME,order:a.As.ASC}},_=e=>{if(T.includes(e))return C[e]},L=[c.ADDED_AT,c.SHOW_ALPHABETICAL],S={[c.ADDED_AT]:{field:a.hx.ADDED_AT,order:a.As.DESC},[c.SHOW_ALPHABETICAL]:{field:a.aW.NAME,order:a.As.ASC}},g=e=>{if(L.includes(e))return S[e]},O=[c.ADDED_AT,c.BOOK_ALPHABETICAL],y={[c.ADDED_AT]:a.VN.ADDED_AT,[c.BOOK_ALPHABETICAL]:a.VN.NAME},R=e=>{if(O.includes(e))return y[e]},I=[c.ADDED_AT,c.CREATOR_NAME,c.EPISODE_ALPHABETICAL],b={[c.ADDED_AT]:{field:a.yW.ADDED_AT,order:a.As.DESC},[c.CREATOR_NAME]:{field:a.yW.SHOW_NAME,order:a.As.ASC},[c.EPISODE_ALPHABETICAL]:{field:a.yW.NAME,order:a.As.ASC}},k=e=>{if(I.includes(e))return b[e]},P=e=>{if(!I.includes(e))return;const t=k(e);if(null==t||!t.field)return;const l=s[t.field];if(!l)return;return o.Vd[l].map((e=>t.order?`${e} ${t.order}`:e)).join(",")},f=[c.MOST_RELEVANT,c.RECENTLY_PLAYED,c.ADDED_AT,c.PLAYLIST_ALPHABETICAL,c.CUSTOM_ORDER],p={[c.ADDED_AT]:{field:n.bD.ADDED_AT,order:n.As.DESC},[c.RECENTLY_PLAYED]:{field:n.bD.RECENTLY_PLAYED,order:n.As.ASC},[c.PLAYLIST_ALPHABETICAL]:{field:n.bD.NAME,order:n.As.ASC},[c.MOST_RELEVANT]:{field:n.bD.RELEVANCE,order:n.As.DESC},[c.CUSTOM_ORDER]:void 0},N=e=>{if(f.includes(e))return p[e]},h={"custom-order":A.I5,title:{column:i.QD.TITLE,order:i.kn.ASC},artist:{column:i.QD.TITLE,order:i.kn.SECONDARY_ASC},"added-by":{column:i.QD.ADDED_BY,order:i.kn.ASC},"added-at":{column:i.QD.ADDED_AT,order:i.kn.ASC},duration:{column:i.QD.DURATION,order:i.kn.ASC},album:{column:i.QD.ALBUM,order:i.kn.ASC},"album-or-podcast":{column:i.QD.ALBUM_OR_PODCAST,order:i.kn.ASC},"album-or-show":{column:i.QD.ALBUM_OR_SHOW,order:i.kn.ASC}},v={title:i.QD.TITLE,artist:i.QD.TITLE,"added-by":i.QD.ADDED_BY,"added-at":i.QD.ADDED_AT,duration:i.QD.DURATION,album:i.QD.ALBUM,"album-or-podcast":i.QD.ALBUM_OR_PODCAST,"album-or-show":i.QD.ALBUM_OR_SHOW},B={[i.kn.NONE]:i.kn.NONE,[i.kn.ASC]:i.kn.DESC,[i.kn.DESC]:i.kn.ASC,[i.kn.SECONDARY_ASC]:i.kn.SECONDARY_DESC,[i.kn.SECONDARY_DESC]:i.kn.SECONDARY_ASC},M=(e,t,l)=>e?t!==v[e]||"artist"===e&&[i.kn.ASC,i.kn.DESC].includes(l)||"title"===e&&[i.kn.SECONDARY_ASC,i.kn.SECONDARY_DESC].includes(l)?h[e]:{column:v[e],order:B[l]}:A.I5,Q={[i.QD.INDEX]:{key:"custom-order",value:r.ag.get("sort.custom-order")},[i.QD.TITLE]:{key:"title",value:r.ag.get("sort.title")},[i.QD.ARTIST]:{key:"artist",value:r.ag.get("sort.artist")},[i.QD.ADDED_BY]:{key:"added-by",value:r.ag.get("sort.added-by")},[i.QD.ADDED_AT]:{key:"added-at",value:r.ag.get("sort.date-added")},[i.QD.DURATION]:{key:"duration",value:r.ag.get("sort.duration")},[i.QD.EVENT_DATE]:null,[i.QD.ALBUM]:{key:"album",value:r.ag.get("sort.album")},[i.QD.ALBUM_OR_PODCAST]:{key:"album-or-podcast",value:r.ag.get("sort.album-or-podcast")},[i.QD.ALBUM_OR_SHOW]:{key:"album-or-show",value:r.ag.get("sort.album-or-show")},[i.QD.PLAYS]:null,[i.QD.RELEASE_DATE]:null,[i.QD.ADD]:null,[i.QD.ACTIONS]:null}},78462:(e,t,l)=>{l.d(t,{P0:()=>A,MI:()=>c,RJ:()=>s,zq:()=>E,I5:()=>u,Gb:()=>D,kz:()=>d});var r=l(67294),a=l.n(r),n=l(22583),o=l(28248),i=l(73785);const A=[o.QD.INDEX,o.QD.TITLE,o.QD.ALBUM,o.QD.ADDED_AT],c=[o.QD.INDEX,o.QD.TITLE,o.QD.ALBUM,o.QD.DURATION],s=[o.QD.INDEX,o.QD.TITLE,o.QD.ALBUM,o.QD.DURATION],E=[o.QD.INDEX,o.QD.TITLE,o.QD.ALBUM,o.QD.ALBUM_OR_PODCAST,o.QD.ADDED_BY,o.QD.ADDED_AT,o.QD.DURATION],u={column:null,order:i.k.NONE},D=(0,r.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a TracksSortProvider")},sortState:u}),d=a().memo((function({uri:e,children:t}){return a().createElement(n.r,{uri:e,defaultState:u,sortContext:D},t)}))}}]);
//# sourceMappingURL=xpui-routes-collection-local-files.js.map