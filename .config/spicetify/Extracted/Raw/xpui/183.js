"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[183],{72917:(e,t,a)=>{a.d(t,{c:()=>c});var n=a(67294),l=a.n(n),r=a(20657),i=a(76439),o=a(56802),s=a(61290);const c=({id:e,children:t,targetURI:a})=>{const c=(0,n.useCallback)((()=>{const e=new URL("go",window.location.origin);e.searchParams.set("uri",a.toURI()),e.searchParams.set("rtd","1"),window.open(e.href)}),[a]),m={getTitle:()=>r.ag.get("action-trigger.available-in-app-only"),getDescription:()=>r.ag.get("action-trigger.listen-mixed-media-episode"),primaryButtonText:()=>r.ag.get("action-trigger.button.get-app"),secondaryButtonText:()=>r.ag.get("action-trigger.button.not-now"),isCTA:!0,intentPrimaryButton:"download-app",onLogInteraction:(0,o.o)()};return l().createElement(i.P,{className:s.Z.container,id:e,onPrimaryButtonClick:c,options:m},t)}},90110:(e,t,a)=>{a.d(t,{q:()=>O,o:()=>S});var n=a(67294),l=a.n(n),r=a(94184),i=a.n(r),o=a(69518),s=a.n(o),c=a(50020),m=a(96895),u=a(20657),d=a(83692),g=a(24656),p=a(69010),b=a(80946),h=a(6116),v=a(38209),E=a(40080);const f="l_MW0G9qeeCKlVJwBykT",w="BKsbV2Xl786X9a09XROH",k="HbKLiGoYM4dpuK8L4TMX",y="_APVWqivXc4YqgsnpFkP",N="VmwiDoU6RpqyzK_n7XRO",C="rEx3EYgBzS8SoY7dmC6x",L="z3zia5snl987x676qe5w";let O;!function(e){e[e.sm=24]="sm",e[e.md=32]="md"}(O||(O={}));const x=e=>{const{currentTarget:t,detail:a}=e;a>0&&t&&t.blur()},S=({uri:e,isFollowing:t,onFollow:a,size:r=O.sm,className:o,onClick:S=(()=>{})})=>{const _={"--size":`${r}px`},{useDownloading:P,useDownloadCapability:T}=(0,n.useContext)(g.I),[D,F]=(0,n.useState)(!1),[j,A]=T(s().isEpisode(e)),[I,B]=(0,n.useState)(!1),{currentAvailability:M,progress:R,beginDownload:z,clearDownload:q}=P(e);((e,t)=>{const a=(0,v.r)(),l=(0,n.useRef)(!1);(0,n.useEffect)((()=>{e===p.V8.DOWNLOADING&&!1===l.current&&(l.current=!0,a.say(u.ag.get("download.downloading",t.totalItems)))}),[a,e,t]);const r=(0,E.D)(e);(0,n.useEffect)((()=>{r===p.V8.DOWNLOADING&&e===p.V8.YES&&(l.current=!1,a.say(u.ag.get("download.complete")))}),[a,r,e])})(M,R);const X=(0,n.useCallback)((e=>{A===p.v$.DOWNLOADING_NOT_ALLOWED?B(!0):!1===t?(a(),F(!0)):z(),S(e),x(e)}),[z,A,t,S,a]),W=(0,n.useCallback)((e=>{q(),x(e),S(e)}),[q,S]);return(0,n.useEffect)((()=>{!0===D&&!0===t&&(z(),F(!1))}),[t,D,z]),j===p.PQ.NO_DOWNLOAD_CAPABILITY?null:A===p.v$.DOWNLOADING_NOT_ALLOWED?l().createElement("div",{className:w},l().createElement(d.w,{label:u.ag.get("download.download")},l().createElement("button",{className:i()(k,o),role:"switch",onClick:X,"aria-label":u.ag.get("download.download"),"aria-checked":!1},l().createElement(c.a,{iconSize:r}))),I&&l().createElement("div",{className:L},l().createElement(b.E,{withTopLeftPointer:!0,horizontal:!0,onClose:()=>{B(!1)}},u.ag.get("download.upsell")))):M===p.V8.YES?l().createElement(d.w,{label:u.ag.get("download.remove")},l().createElement("button",{className:i()(k,o,y),role:"switch",onClick:W,"aria-label":u.ag.get("download.remove"),"aria-checked":!0},l().createElement(m.C,{iconSize:r}))):M===p.V8.NO?l().createElement(d.w,{label:u.ag.get("download.download")},l().createElement("button",{className:i()(k,o),role:"switch",onClick:X,"aria-label":u.ag.get("download.download"),"aria-checked":!1},l().createElement(c.a,{iconSize:r}))):l().createElement("div",{className:i()(N,o),role:"switch","aria-checked":!0},l().createElement(d.w,{label:u.ag.get("download.cancel")},l().createElement("button",{style:_,className:i()(k,f,o),onClick:W,"aria-label":u.ag.get("download.cancel")})),l().createElement("span",{style:_,className:i()(C,f)},l().createElement(h.e,{"aria-valuetext":u.ag.get("progress.downloading-tracks"),percentage:R.percentage,size:r})))}},37483:(e,t,a)=>{a.d(t,{p:()=>u,q:()=>c.q});var n=a(67294),l=a.n(n),r=a(65858),i=a(4383),o=a(8475),s=a(56802),c=a(90110);const m=l().memo((({uri:e,size:t=c.q.md,className:a})=>{const[m,u]=(0,i.Z)(e),d=(0,r.I0)(),g=(0,s.o)(),p=(0,n.useCallback)((()=>{g({targetUri:e,intent:m?"remove-from-library":"add-to-library",type:"click"}),u(!m),d(m?(0,o.SS)():(0,o.kK)())}),[g,e,m,u,d]);return l().createElement(c.o,{className:a,isFollowing:m,onFollow:p,uri:e,size:t})})),u=l().memo((e=>l().createElement(m,e)))},70369:(e,t,a)=>{a.d(t,{$:()=>n.$});var n=a(22578)},68107:(e,t,a)=>{a.d(t,{s:()=>h});var n=a(67294),l=a(59713),r=a.n(l);const i=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function o(e,t){return e.filter((e=>e.label?e.label===t:e.width?i(e.width)===t:!!e.height&&i(e.height)===t))[0]}var s=a(67789);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e){var t,a,n,l,r,i,s,c;const m=o(e,"standard"),u=o(e,"large"),d=o(e,"small"),g=o(e,"xlarge");return{image_url:null==m?void 0:m.url,image_height:null==m||null===(t=m.height)||void 0===t?void 0:t.toString(),image_width:null==m||null===(a=m.width)||void 0===a?void 0:a.toString(),image_url_large:null==u?void 0:u.url,image_height_large:null==u||null===(n=u.height)||void 0===n?void 0:n.toString(),image_width_large:null==u||null===(l=u.width)||void 0===l?void 0:l.toString(),image_url_small:null==d?void 0:d.url,image_height_small:null==d||null===(r=d.height)||void 0===r?void 0:r.toString(),image_width_small:null==d||null===(i=d.width)||void 0===i?void 0:i.toString(),image_url_xlarge:null==g?void 0:g.url,image_height_xlarge:null==g||null===(s=g.height)||void 0===s?void 0:s.toString(),image_width_xlarge:null==g||null===(c=g.width)||void 0===c?void 0:c.toString()}}var d=a(23716),g=a(69691),p=a(42781),b=a(56802);function h(e,t){const a=(0,b.o)(),l=(0,d.g)(),{isPlaying:r,isActive:i}=(0,g.$o)((null==e?void 0:e.uri)||""),{isActive:o}=(0,g.cR)((null==t?void 0:t.uri)||"");return(0,n.useCallback)((n=>{if(!t||!e)return;const c=function(e,t){var a,n,l,r;const i=((null===(a=e.coverArt)||void 0===a?void 0:a.sources)||[]).sort(((e,t)=>(t.width||0)-(e.width||0))),o=(0,s.Xb)(e,t),c=(0,s.Ie)(t)||o;return m(m({uri:e.uri,title:e.name,subtitle:t.name,type:"episode",album_uri:t.uri,album_title:t.name,artist_uri:t.uri,artist_name:t.name},u(i)),{},{media_type:"audio",externalResolvedUrl:null===(n=e.audio)||void 0===n||null===(l=n.items)||void 0===l||null===(r=l.find((e=>e.externallyHosted)))||void 0===r?void 0:r.url,isTrailer:o,anonymousPlaybackAllowed:c})}(e,t);o&&!r&&i&&!n?l.resume():o&&r&&!n?(a({type:"click",intent:"pause",targetUri:e.uri}),l.pause()):(a({type:"click",intent:"play",targetUri:e.uri}),l.play({uri:t.uri,pages:[{items:[{type:p.p.EPISODE,uri:e.uri,uid:null,metadata:c,provider:null}]}]},{referrerIdentifier:l.getReferrer(),featureIdentifier:"episode"},n))}),[i,r,o,l,a,t,e])}},31610:(e,t,a)=>{a.d(t,{o:()=>c,q:()=>i.q});var n=a(67294),l=a.n(n),r=a(4383),i=a(90110),o=a(56802);const s=l().memo((({uri:e,bookUri:t,size:a=i.q.md,className:s,onClick:c=(()=>{})})=>{const[m,u]=(0,r.Z)(t),d=(0,o.o)(),g=(0,n.useCallback)((()=>{d({targetUri:t,intent:"add-to-library",type:"click"}),u(!0)}),[d,t,u]);return l().createElement(i.o,{className:s,isFollowing:m,onFollow:g,uri:e,size:a,onClick:c})})),c=l().memo((e=>l().createElement(s,e)))},38894:(e,t,a)=>{a.d(t,{g:()=>r});var n=a(65858),l=a(29255);const r=()=>(0,n.v9)(l.Gg).isAnonymous},20238:(e,t,a)=>{a.d(t,{o:()=>R});var n=a(59713),l=a.n(n),r=a(67294),i=a.n(r),o=a(20657);const s="CTqnyEX1E8bCstZSENX_",c="wuGkmgD03o8t6Ekc6PUk",m="l1ZEvEBLXHaRxKZTgG2Q",u="KXlcyuHuR1UPYVsnF3zF";var d=a(69559),g=a(96685),p=a(52865),b=a(58548);const h=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;function v(e){return e.split(h).map((e=>{if(e.match(h)){return`(<time>${e.replace("(","").replace(")","")}</time>)`}return e})).join("")}const E=i().memo((({text:e,onTimeStampClick:t,children:a,className:n,LinkComponent:l,enableTimestamps:o=!1})=>{const s=(0,r.useMemo)((()=>{const a=(0,p.ZU)(e),n=o?v(a):a;return i().createElement(b.NB,{source:n,LinkComponent:l,onTimeStampClick:t})}),[e,o,l,t]);return i().createElement(g.LF,{as:"p",variant:"ballad",className:n},s,a)})),f="AFGg70Z_GfjSDTYBWyEq",w=i().memo((({text:e,onTimeStampClick:t,onToggle:a,className:n,LinkComponent:l,enableTimestamps:r})=>i().createElement(E,{className:n,text:e,onTimeStampClick:t,LinkComponent:l,enableTimestamps:r},i().createElement("button",{"aria-expanded":!1,className:f,onClick:a},i().createElement(g.LF,{variant:"balladBold"},"â€¦ ",o.ag.get("mwp.see.more")))))),k=(e,t,a)=>{const n=o.ag.get("mwp.see.more").length,l=e.length+n+6;return a<=1&&l<t},y=i().memo((({paragraphs:e,clickHandler:t,maxCharactersPerLine:a,maxLines:n,toggleExpandedState:l,LinkComponent:r,className:s,enableTimestamps:c})=>{let m=!1,u=0;const d=e.map(((d,g)=>{const p=Math.round(d.length/a);if(u+=p>0?p:1,m)return null;const b=n-(u-p);if(g+1===e.length&&(k(d,a,b)||p<=b))return i().createElement(E,{className:s,text:d,onTimeStampClick:t,LinkComponent:r,enableTimestamps:c,key:g});if(u>=n){m=!0;const e=((e,t,a)=>{const n=o.ag.get("mwp.see.more").length;if(k(e,t,a))return e;const l=t*a-n-6;return e.slice(0,l)})(d,a,b);return i().createElement(w,{key:g,text:e,onTimeStampClick:t,onToggle:l,className:s,LinkComponent:r,enableTimestamps:c})}return i().createElement(E,{className:s,text:d,onTimeStampClick:t,LinkComponent:r,enableTimestamps:c,key:g})}));return i().createElement(i().Fragment,null,d)}));var N=a(65598),C=a.n(N),L=a(19594),O=a(67892);const x="xgmjVLxjqfcXK5BV_XyN",S="QD13ZfPiO5otS0PU89wG",_="ZbLneLRe2x_OBOYZMX3M",P="rjdQaIDkSgcGmxkdI2vU",T="umouqjSkMUbvF4I_Xz6r",D=i().memo((({html:e,onTimeStampClick:t,enableTimestamps:a=!1})=>{const n=(0,r.useMemo)((()=>{const n=a?v(e):e;return C()(n,{transform:F(t),dangerouslySetChildren:[]})}),[a,e,t]);return i().createElement("div",{className:x},n)}));function F(e){let t=0;return{p:e=>i().createElement(g.LF,{as:"p",variant:"ballad",semanticColor:"textSubdued",className:T},e.children),a:e=>e.href?i().createElement(O.r,{to:e.href},e.children):i().createElement(i().Fragment,null,e.children),ul:e=>i().createElement("ul",{className:_},e.children),ol:e=>i().createElement("ol",{className:_},e.children),li:e=>i().createElement(g.LF,{as:"li",variant:"ballad",semanticColor:"textSubdued",className:P},e.children),br:()=>i().createElement("br",null),h1:e=>i().createElement(g.LF,{as:"h1",variant:"balladBold",semanticColor:"textSubdued",className:S},e.children),h2:e=>i().createElement(g.LF,{as:"h2",variant:"balladBold",semanticColor:"textSubdued",className:S},e.children),h3:e=>i().createElement(g.LF,{as:"h3",variant:"balladBold",semanticColor:"textSubdued",className:S},e.children),h4:e=>i().createElement(g.LF,{as:"h4",variant:"balladBold",semanticColor:"textSubdued",className:S},e.children),h5:e=>i().createElement(g.LF,{as:"h5",variant:"balladBold",semanticColor:"textSubdued",className:S},e.children),h6:e=>i().createElement(g.LF,{as:"h6",variant:"balladBold",semanticColor:"textSubdued",className:S},e.children),time:t=>i().createElement(L.E,{onClick:e},t.children),_:(e,a,n)=>{const l=void 0===a?e:n;return i().createElement(i().Fragment,{key:"fragment"+t++},l)}}}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const I={isOpen:!1,contentWidth:0},B=(e,t)=>A(A({},e),t),M=(e="")=>e.split(/[ \u00a0]{2}/).filter(Boolean),R=i().memo((({content:e,htmlContent:t,maxLines:a=2,className:n,onTimeStampClick:l=(()=>{}),LinkComponent:p,onExpanded:b,enableTimestamps:h=!1})=>{const[v,f]=(0,r.useReducer)(B,I),{isOpen:w,contentWidth:k}=v,N=(0,r.useCallback)((()=>{f({isOpen:!w}),b&&b(!w)}),[w,b]);(0,r.useEffect)((()=>{f({isOpen:!1})}),[e]);const C=k?k/7.8:Number.MAX_VALUE,L=(0,r.useRef)(null),O=(0,r.useCallback)((e=>{e&&(L.current=e,f({contentWidth:e.clientWidth}))}),[]),x=(0,r.useMemo)((()=>t?i().createElement(D,{html:t,onTimeStampClick:l,enableTimestamps:h}):((e,t,a,n)=>M(e).map(((e,l)=>i().createElement(E,{className:c,text:e,onTimeStampClick:t,enableTimestamps:a,LinkComponent:n,key:l}))))(e,l,h,p)),[p,e,h,t,l]),S=(0,r.useMemo)((()=>t?((e="")=>e.replace("<p>","").split(/(?:<\/p>)/).filter(Boolean))(t):M(e)),[e,t]);return(0,d.a)((()=>{L.current&&f({contentWidth:L.current.clientWidth})})),i().createElement("div",{className:n},i().createElement("div",{ref:O,className:s},w&&i().createElement(i().Fragment,null,x,i().createElement("button",{"aria-expanded":!0,className:u,onClick:N},i().createElement(g.LF,{className:m,variant:"balladBold"},o.ag.get("show_less")))),!w&&i().createElement(y,{className:c,paragraphs:S,LinkComponent:p,clickHandler:l,enableTimestamps:h,maxCharactersPerLine:C,maxLines:a,toggleExpandedState:N})))}))},40080:(e,t,a)=>{a.d(t,{D:()=>l});var n=a(67294);function l(e){const t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e}),[e]),t.current}},92408:(e,t,a)=>{a.d(t,{E:()=>S,$:()=>x});var n=a(67294),l=a.n(n),r=a(43315),i=a(59713),o=a.n(i);const s="wIA_5Ypq0rltNPeZQpM4",c="Swi6YtNEFCCVz8l4y75v",m="pklLPOhfigdytL9bPoth",u="sb24Y8kdMZInJ8aI8dXT";class d extends n.PureComponent{render(){const{ariaValueText:e,max:t,current:a}=this.props,n=t&&a?100*Math.min(1,a/t):0,r={transform:`translateX(-${100-n}%)`},i=e||`${Math.round(n)}%`;return l().createElement("div",{className:s,role:"progressbar",tabIndex:0,"aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":t,"aria-valuetext":i},l().createElement("div",{className:c}),l().createElement("div",{className:m},l().createElement("div",{className:u,style:r})))}}o()(d,"defaultProps",{current:0,max:1});const g=d,p="qfYkuLpETFW3axnfMntO",b="jOd7lbjiyc_kvRJaAbeL",h="_q93agegdE655O5zPz6l",v="z7Yl7CIT1AB0y91f_moh",E="iLIlkUcfIq56KncGtX7u",f="nV50yZ6BR_TIuWP3l7b1",w="qLjIx_SzBEpDRA_q7kxQ";var k=a(96685),y=a(40378),N=a(20657),C=a(94184),L=a.n(C),O=a(33985);let x;!function(e){e[e.LARGE=0]="LARGE",e[e.SMALL=1]="SMALL"}(x||(x={}));const S=e=>{const{resumePositionMs:t=0,releaseDate:a,isPlaying:n,fullyPlayed:i,durationMs:o,size:s=x.SMALL,position:c=t}=e;return l().createElement("div",{className:L()(p,{[b]:s===x.LARGE})},a?l().createElement(k.LF,{as:"p",variant:"mesto",className:h},(0,r.rL)((0,r.RX)(a))):null,(()=>{if(i&&!n)return l().createElement("div",{className:E},l().createElement(k.LF,{as:"p",variant:"mesto",className:v},N.ag.get("episode.played")),l().createElement(y.R,{iconSize:16,className:w}));if(c>0||n){const e=Math.ceil(Math.max(o-c,0));return l().createElement("div",{className:E},l().createElement(k.LF,{as:"p",variant:"mesto",className:v},l().createElement(O.ng,{durationMs:e})))}return l().createElement(k.LF,{as:"p",variant:"mesto",className:h},l().createElement(O.nL,{durationMs:o}))})(),!i&&c>0||n?l().createElement("div",{className:f},l().createElement(g,{current:c,max:o,isEnabled:!1})):null)}},60410:(e,t,a)=>{a.d(t,{S:()=>l,g:()=>r});var n=a(86649);function l(e){var t,a;return!(null!==(t=e.playability)&&void 0!==t&&t.playable)&&(null===(a=e.playability)||void 0===a?void 0:a.reason)===n.WY.PaymentRequired}function r(e){return!!e&&e.some(l)}}}]);
//# sourceMappingURL=183.js.map