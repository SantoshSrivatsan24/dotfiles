"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[4246],{54543:(e,t,a)=>{a.d(t,{q:()=>T});var r=a(87462),n=a(67294),i=a(69518),s=a.n(i),l=a(63495),c=a(36590),m=a(8498),d=a(13781),o=a(11186);const u=({name:e="",uri:t="",images:a=[],isHero:r,onClick:i,testId:s,index:l})=>r?n.createElement(d.Z,{featureIdentifier:"unknown",index:l,onClick:i,headerText:e,uri:t,isPlayable:!1,renderCardImage:()=>n.createElement(m.x,{isHero:r,images:a}),renderSubHeaderContent:()=>n.createElement(o.k,null),testId:s}):n.createElement(c.C,{index:l,featureIdentifier:"unknown",onClick:i,headerText:e,uri:t,isPlayable:!1,renderCardImage:()=>n.createElement(m.x,{isHero:r,images:a}),renderSubHeaderContent:()=>n.createElement("span",null),testId:s});var g=a(73425),E=a(143),p=a(64269),I=a(3634),f=a(89477),C=a(16061),x=a(46309),y=a(30523),h=a(52778),b=a(95332),k=a(46327);const T=({entity:e,index:t,testId:a,isHero:i=!1})=>{const c=(s().from(e.uri)||{}).type,m={testId:a,isHero:i,index:t,sharingInfo:e.sharingInfo};switch(c){case s().Type.ALBUM:case s().Type.COLLECTION_ALBUM:{const t=e;return n.createElement(I.r,(0,r.Z)({},m,{name:t.name,uri:t.uri,images:t.images,artists:t.artists}))}case s().Type.ARTIST:{const t=e;return n.createElement(f.I,(0,r.Z)({},m,{name:t.name,uri:t.uri,images:t.images}))}case s().Type.EPISODE:{const t=e;return n.createElement(C.B,(0,r.Z)({},m,{name:t.name,uri:t.uri,images:t.images,showImages:t.show?.images||[],durationMilliseconds:t.duration_ms,releaseDate:t.release_date,resume_point:t.resume_point,description:t.description,isExplicit:t.explicit,is19PlusOnly:!!t.tags?.includes("MOGEF-19+")}))}case s().Type.PLAYLIST:case s().Type.PLAYLIST_V2:{const t=e,a=t.owner?.display_name||e.owner?.displayName||"";return n.createElement(x.Z,(0,r.Z)({},m,{name:t.name,uri:t.uri,images:t.images,description:t.description,authorName:a}))}case s().Type.USER:return n.createElement(y.P,(0,r.Z)({},m,{name:e.name,uri:e.uri,images:e.images}));case s().Type.SHOW:{const t=e;return n.createElement(b._,(0,r.Z)({},m,{name:t.name,uri:t.uri,images:t.images,publisher:t.publisher,mediaType:{audio:E.E.AUDIO,video:E.E.VIDEO,mixed:E.E.MIXED}[t.media_type]??E.E.AUDIO}))}case s().Type.APPLICATION:return n.createElement(l.s,(0,r.Z)({},m,{name:e.name,uri:e.uri,images:e.images,description:e.description}));case s().Type.RADIO:return n.createElement(h.I,{testId:a,index:t,name:e.name,uri:e.uri,images:e.images});case s().Type.TRACK:{const t=e;return n.createElement(k.G,(0,r.Z)({},m,{name:t.name,uri:t.uri,images:t.album?.images||[],artists:t.artists,album:t.album,isExplicit:t.explicit,is19PlusOnly:t.tags?.includes("MOGEF-19+")}))}case s().Type.COLLECTION:return e.uri.endsWith("your-episodes")?n.createElement(p.T,{index:t}):n.createElement(g.p,{index:t});default:return console.warn("Rendering a generic Card for unknown type:",c),n.createElement(u,(0,r.Z)({},m,{name:e.name,uri:e.uri,images:e.images}))}}},16061:(e,t,a)=>{a.d(t,{B:()=>N});var r=a(87462),n=a(67294),i=a(96206),s=a(18261),l=a(87257),c=a(57978),m=a(80418),d=a(34325),o=a(43315),u=a(49961),g=a(25988),E=a(36590),p=a(8498),I=a(28760),f=a(97605),C=a(85392);const x="z4popIk32AsyDKlV1o1v",y="_xxuonqkZEQ7pCffxlUD",h=n.memo((function(e){const{src:t,description:a,...i}=e,[s,l]=(0,n.useState)("inherit");return(0,n.useEffect)((()=>{t&&async function(e){const{colorRaw:t}=await(0,C.b)(e),{h:a,s:r,l:n}=t.hsl,i=`hsl(${360*a}, ${100*r}%, ${Math.min(100*n,30)}%)`;l(i)}(t)}),[t]),t?n.createElement("div",{className:x,style:{backgroundColor:s},"data-testid":"episode-fallback-image-container"},n.createElement("div",{className:y},n.createElement(I.Dy,{as:"p",variant:"canon"},a))):n.createElement(f.J,(0,r.Z)({},i,{iconSize:64}))}));var b=a(13781),k=a(11186);const T="x1FErCk9Xh9VumpOLyfm",w="heeHk6hz8sAXLIU6P6an",H="Hhfi1xnYwoHoMP2rcltS",N=({description:e,isExplicit:t,images:a,name:I,uri:f,durationMilliseconds:C,releaseDate:x,resume_point:y,showImages:N,sharingInfo:P,is19PlusOnly:Z,isHero:S,onClick:O,testId:_,index:v,requestId:D})=>{let L;const q=x?new Date(x):void 0,A=q&&!isNaN(q.getTime())&&!isNaN(C),M=(0,u.X)(N,{desiredSize:48}),z=(0,d.G3)(f,q?.toISOString(),y?.resume_position_ms,y?.fully_played);return L=S?n.createElement(b.Z,{index:v,onClick:O,headerText:I,featureIdentifier:"episode",uri:f,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:z,renderCardImage:()=>n.createElement(p.x,{isHero:!0,images:a,FallbackComponent:t=>n.createElement(h,(0,r.Z)({},t,{description:e,src:M&&M.url}))},M&&n.createElement(m.E,{loading:"lazy",src:M.url,className:T,radius:4})),renderSubHeaderContent:()=>n.createElement(n.Fragment,null,t&&!Z&&n.createElement(l.N,{className:w}),Z&&n.createElement(c.X,{size:16,className:w}),A&&n.createElement("span",{className:H},q&&(0,o.rL)(q)," ·"," ",i.ag.get("episode.length",Math.ceil(C/6e4))),n.createElement(k.k,null,i.ag.get("card.tag.episode"))),testId:_,requestId:D}):n.createElement(E.C,{index:v,onClick:O,headerText:I,featureIdentifier:"episode",uri:f,isPlayable:!1,isDownloadable:!0,hasNewEpisodeIndicator:z,renderCardImage:()=>n.createElement(p.x,{images:a,FallbackComponent:t=>n.createElement(h,(0,r.Z)({},t,{description:e,src:M&&M.url}))},M&&n.createElement(m.E,{loading:"lazy",src:M.url,className:T,radius:4,testid:"episode-card-show-image"})),renderSubHeaderContent:()=>n.createElement(n.Fragment,null,t&&!Z&&n.createElement(l.N,{className:w}),Z&&n.createElement(c.X,{size:16,className:w}),A&&n.createElement("span",{className:H},q&&(0,o.rL)(q)," ·"," ",i.ag.get("episode.length",Math.ceil(C/6e4)))),testId:_,requestId:D}),n.createElement(s._,{menu:n.createElement(g.k,{uri:f,sharingInfo:P})},L)}},63495:(e,t,a)=>{a.d(t,{s:()=>m});var r=a(67294),n=a(96206),i=a(36590),s=a(8498),l=a(13781),c=a(11186);const m=({name:e,uri:t,images:a,isHero:m,onClick:d,testId:o,description:u,index:g,requestId:E})=>m?r.createElement(l.Z,{featureIdentifier:"genre",index:g,onClick:d,headerText:e,uri:t,isPlayable:!1,renderCardImage:()=>r.createElement(s.x,{isHero:m,images:a}),renderSubHeaderContent:()=>r.createElement(c.k,null,u||n.ag.get("card.tag.genre")),testId:o,requestId:E}):r.createElement(i.C,{index:g,featureIdentifier:"genre",onClick:d,headerText:e,uri:t,isPlayable:!1,renderCardImage:()=>r.createElement(s.x,{isHero:m,images:a}),renderSubHeaderContent:()=>r.createElement("span",null,u||""),testId:o,requestId:E})},30523:(e,t,a)=>{a.d(t,{P:()=>g});var r=a(87462),n=a(67294),i=a(5843),s=a(96206),l=a(18261),c=a(43480),m=a(36590),d=a(8498),o=a(13781),u=a(11186);const g=n.memo((function(e){const{images:t,name:a,uri:g,onClick:E,isHero:p,testId:I,index:f,requestId:C}=e;let x;const y=(0,n.useCallback)((()=>n.createElement(d.x,{isCircular:!0,isHero:p,images:t,FallbackComponent:e=>n.createElement(i.a,(0,r.Z)({iconSize:64},e))})),[t,p]),h=(0,n.useCallback)((()=>p?n.createElement(u.k,null,s.ag.get("card.tag.profile")):s.ag.get("card.tag.profile")),[p]);return x=p?n.createElement(o.Z,{index:f,onClick:E,headerText:a,featureIdentifier:"profile",uri:g,isPlayable:!1,renderCardImage:y,renderSubHeaderContent:h,testId:I,requestId:C}):n.createElement(m.C,{index:f,onClick:E,headerText:a,featureIdentifier:"profile",uri:g,isPlayable:!1,renderCardImage:y,renderSubHeaderContent:h,testId:I,requestId:C}),n.createElement(l._,{menu:n.createElement(c.I,{uri:g})},x)}))},33377:(e,t,a)=>{a.r(t),a.d(t,{LibraryMusicDownloads:()=>u,default:()=>g});var r=a(67294),n=a(28760),i=a(96206),s=a(54543),l=a(1663),c=a(63926),m=a(42922),d=a(26010),o=a(37999);const u=r.memo((function(){const{useOfflineEntities:e}=(0,r.useContext)(d.I),[t,a]=e();return a?r.createElement(l.h,{hasError:!1,errorMessage:i.ag.get("error.request-collection-music-downloads-failure")}):r.createElement(r.Fragment,null,r.createElement(n.Dy,{as:"h1",variant:"canon",className:o.Z.header},i.ag.get("music_downloads")),r.createElement(m.ZP,{value:"EntitiesGrid"},r.createElement(c.T,{render:()=>t.map(((e,t)=>r.createElement(m.ZP,{key:e.uri,value:"card",index:t},r.createElement(s.q,{entity:e,index:t}))))})))})),g=u}}]);
//# sourceMappingURL=collection-music-download.js.map