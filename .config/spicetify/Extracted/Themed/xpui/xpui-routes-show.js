"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[713],{28622:(e,t,a)=>{a.r(t),a.d(t,{Show:()=>Yt,default:()=>qt});var n=a(67294),r=a.n(n),l=a(16528),i=a(96685),o=a(44794),s=a(44503),c=a(59713),m=a.n(c),u=a(59385),d=a(47034),g=a(25678),E=a(49961),p=a(85105);const y="GPPWAsVio35hH080drEK",b="f8FyVnjsXfG9VtTzk9Df",v="tpOdce3HYBF6ASz4MXdr",f="p9AillvR7MCZkOrv3U3h",h="zMqHdOQtjEEbcMV7YHe9",k="zPJ5qeQhpgUvKpAAlNpA",P="n3G4Y43jgF6wXOuj0X44";function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){m()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const S=r().memo((({coverArt:e,showAccessInfo:t,isOpen:a,toggleModal:n,backgroundColor:l})=>{if(!t||!t.partnerLink)return null;const{partnerLink:{title:o,body:s,soaPartners:c}}=t,m=(0,E.X)(e,{desiredSize:640}),C={"--bg-color":l};return r().createElement(p.Z,{contentLabel:"activation-modal",isOpen:a,onRequestClose:n},r().createElement("div",{className:y,style:w({},C)},r().createElement(g.Ee,{loading:"lazy",src:null==m?void 0:m.url,className:b}),r().createElement("div",{className:v},r().createElement(i.LF,{as:"p",variant:"canon",className:f},o),r().createElement(i.LF,{as:"p",variant:"viola",className:h},s),c&&(null==c?void 0:c.map((e=>r().createElement("a",{href:e.linkUrl,className:k,key:e.linkUrl},r().createElement("img",{src:e.logoUrl||"",alt:"",width:"24px"}),r().createElement("span",{className:P},r().createElement(i.LF,{variant:"ballad"},e.displayName," ")),r().createElement(d.X,{fill:u.white,height:16,width:16}))))))))}));var N=a(95661),A=a(22345),O=a(56802),I=a(20657),L=a(20246),x=a(44887),M=a(7469),R=a(42781);const U={container:"SpVoh9vvBN0kIwzfCiBh",isActive:"nsGHaEmn310z9W4RMbb8",title:"PfYVlZzroXSurDmS_kxY",main:"kCT99_BcJQtW47mEfVF6",titleContainer:"gmDgEbPyRXNixmjYAT9f",duration:"itbbweiDUhLIrwEjSRWv",trailerContainer:"XlZGcb86bItwlMPQ2jOf",image:"VGTtqfOlX2jIbpff6mPP",imageContainer:"aexqooSgfdW95poEaxjH",playButton:"Fui2wGupk4F1Khigbrhj",entityImageLarge:"jWcvSz47NFpbLjnkFT1O",entityImageSmall:"Oo6MP8F01W5uGlnw8dag"};var z=a(55911),D=a(94184),F=a.n(D),T=a(33985),j=a(87257),B=a(57978),G=a(95775),Z=a(84788),W=a(46245);let _;!function(e){e.SMALL="small",e.LARGE="large"}(_||(_={}));const X=({images:e,title:t,contentRating:a,duration:n,moreButton:l,onClick:o,onContextMenu:s,onTouchStart:c,onTouchEnd:m,isPlaying:u,isActive:d,size:g,className:E,enableEncoreWebMigration:p,label:y})=>{const b=g===_.LARGE?z.qE.md:z.qE.sm,v=g===_.LARGE?"md":"sm",{badges:f}=(0,Z.r)({contentRating:a});return r().createElement("div",{"data-testid":"trailer-component",className:F()(U.container,E,{[U.isActive]:d}),onContextMenu:s,onTouchStart:c,onTouchEnd:m},r().createElement("div",{className:U.main},r().createElement("div",{className:U.imageContainer},r().createElement(x.O,{type:R.p.EPISODE,title:t,className:F()(U.image,{[U.entityImageSmall]:g===_.SMALL,[U.entityImageLarge]:g===_.LARGE}),size:M.m$.SIZE_56,images:e,shape:x.K.ROUNDED_CORNERS}),r().createElement("div",{className:U.playButton},p?r().createElement(W.fh,{"data-testid":"trailer-play-button",version:z.ul.transparent,size:v,isPlaying:u,onClick:o}):r().createElement(z.JM,{"data-testid":"trailer-play-button",version:z.ul.transparent,size:b,isPlaying:u,onClick:o}))),r().createElement("div",{className:U.metadata},r().createElement("div",{className:U.titleContainer},r().createElement(i.LF,{dir:"auto",className:U.title,variant:"balladBold"},t)),r().createElement("div",{className:U.trailerContainer},r().createElement(G.V,{text:y}),f.explicit&&r().createElement(j.N,null),f.nineteen&&r().createElement(B.X,null),r().createElement(i.LF,{dir:"auto",variant:"mesto"},r().createElement(T.nL,{durationMs:n}))))),l)};var Y=a(43620),q=a(84242),K=a(27999),H=a(86649),V=a(8247),$=a(60410),Q=a(192);var J=a(20238),ee=a(67892),te=a(21794);const ae="nLNTsyonBwoRIzAv1AME",ne="E4I5I7G2CfW32hLWZaqE",re=({title:e,uri:t,className:a})=>{const n=(0,te.$x)(t);return r().createElement(ee.r,{"aria-label":e,className:F()(ne,a),to:n},r().createElement(i.LF,{dir:"auto",variant:"mestoBold"},e))};function le(e){return!!e.uri&&!!e.title}const ie=({topics:e,className:t})=>r().createElement("div",{className:F()(ae,t)},e.filter(le).map((e=>r().createElement(re,{key:e.uri,title:e.title,uri:e.uri})))),oe={sectionTitle:"igKG5CnS4gyhXQWp5GVu",author:"E8g_EyijtSREXL0vMFbL",narrator:"Pc8AKn4KmzHwEw8lPiSb",topics:"yE1clVJOE3LrEuOvUxxq"},se=({authorName:e,htmlDescription:t,narrators:a})=>{const l=(0,O.o)(),o=(0,n.useCallback)((()=>{l({intent:"expand-description",type:"click"})}),[l]),s=[{title:"Education",uri:"spotify:genre:educational_podcasts"}],c=s.length>0;return r().createElement(r().Fragment,null,r().createElement(i.LF,{as:"h3",variant:"canon",semanticColor:"textBase",className:oe.sectionTitle},I.ag.get("artist.about")),r().createElement(i.LF,{as:"p",variant:"ballad",className:oe.author},I.ag.get("web-player.audiobooks.author",e)),a.length?r().createElement(i.LF,{as:"p",variant:"ballad",className:oe.narrator},I.ag.get("web-player.audiobooks.narratedByX",a.join(I.ag.getSeparator()))):null,c&&r().createElement(ie,{topics:s,className:oe.topics}),t&&r().createElement(J.o,{maxLines:4,content:t,htmlContent:t,LinkComponent:ee.Z,onExpanded:o,className:oe.description}))};var ce=a(30947),me=a(14535),ue=a(4383),de=a(98778),ge=a(55120),Ee=a(4236);const pe=r().memo((({backgroundColor:e,uri:t,isPlaying:a,togglePlay:l,isLocked:i})=>{const[o,s]=(0,ue.Z)(t),c=!(0,Ee.k)(),m=(0,O.o)(),u=(0,n.useCallback)((()=>{m({targetUri:t,intent:o?"unsave":"save",type:"click"}),s(!o)}),[m,t,o,s]);return r().createElement(ce.o,{backgroundColor:e},r().createElement(ce.F,null,r().createElement(ge.$,{onClick:()=>l(),isPlaying:a,size:z.qE.lg,uri:t,locked:i}),r().createElement(de.r,{key:"follow-button"},r().createElement(me.e,{isFollowing:o,onClick:u,disabled:c,buttonText:o?I.ag.get("saved"):I.ag.get("save")}))))}));var ye=a(32626),be=a(28137),ve=a(42273),fe=a(59482),he=a(72907);const ke=r().memo((({coverArt:e,name:t,authorName:a,uri:n,backgroundColor:l,isPlaying:i,togglePlay:o,isLocked:s})=>r().createElement(ve.gF,{backgroundColor:l},r().createElement(fe.W,null,r().createElement(ge.$,{size:z.qE.sm,onClick:()=>o(),isPlaying:i,uri:n,locked:s}),r().createElement(he.i,{text:t,dragUri:n,dragLabel:t})),r().createElement(ye._P,{menu:r().createElement(be.X,{uri:n})},r().createElement(ve.Oz,{images:e,name:t,shape:x.K.ROUNDED_CORNERS})),r().createElement(ve.sP,null,r().createElement(ve.dy,{small:!0,uppercase:!0},I.ag.get("web-player.audiobooks.audiobook")),r().createElement(ve.xd,{canEdit:!1,onClick:()=>{}},t),r().createElement(ve.QS,{author:a})))));var Pe=a(69518),Ce=a.n(Pe),we=a(75016),Se=a(24656),Ne=a(69010),Ae=a(8341),Oe=a(5944),Ie=a(92408),Le=a(31610);const xe="BO8KtKFwgSHtMt6PAmuv",Me="b0Vng72SrQiFroJKXfk2",Re="eWxDd0LanTnTlSl8SOHX",Ue="eAOkseqV13_CAmzuDJpa",ze="fovofKIYdEIURgIYoKm2",De="we_1b4qCQBaFPT12eUXp",Fe="NXXFrQO7npgPCRuSKaAA",Te="ekkhhuxKVGAzkEmuh9kE",je="zd6xqobF255bxHFtCmXy",Be=r().memo((({name:e,duration:t,uri:a,bookUri:o,bookName:s,usePlayContextItem:c,isLocked:m,isPlayable:u,resumePositionMs:d,isFullyPlayed:g,releaseDate:E,toggleActivationModal:p})=>{const y=(0,l.k6)(),b=Ce().from(a).toURLPath(!0),[v,f]=(0,n.useState)(g),h=(0,n.useRef)(d),{isPlaying:k,togglePlay:P}=c({uri:a}),C=(0,Ae.Y)((e=>{var t;if((null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===a){var n;const t=null!==(n=(0,Oe.k)(e))&&void 0!==n?n:0;return h.current=t,t}return 0})),{useDownloading:w}=(0,n.useContext)(Se.I),{currentAvailability:S}=w(a),O=[Ne.V8.YES,Ne.V8.DOWNLOADING,Ne.V8.WAITING].includes(S),L=(0,n.useCallback)((e=>{e.stopPropagation(),e.preventDefault()}),[]),x=(0,n.useCallback)((e=>{L(e),b&&y.push(b)}),[L,b,y]),M=(0,n.useCallback)((e=>{L(e),m?p():P()}),[m,L,p,P]),R=(0,n.useCallback)((e=>{e||(h.current=0),f(e)}),[]);return r().createElement(ye._P,{menu:r().createElement(A.r,{uri:a,showUri:o,isPlayed:v,onMarkAsPlayed:R})},r().createElement("div",{className:Ue},r().createElement(ee.r,{to:a,onClick:x,className:xe,tabIndex:-1},r().createElement("hr",{className:Re,"aria-hidden":!0}),r().createElement("div",{className:Me},r().createElement(i.LF,{as:"h2",variant:"balladBold",className:Fe,semanticColor:"textBase"},e),r().createElement("div",{className:Te},r().createElement(W.fh,{size:"sm",version:W.ul.secondary,onClick:M,isPlaying:k,ariaPlayLabel:I.ag.get("tracklist.a11y.play",e,s),ariaPauseLabel:I.ag.get("tracklist.a11y.pause",e,s),locked:m,disabled:!u&&!m}),m?r().createElement(we.g,null):null,r().createElement("div",{className:je},r().createElement(Ie.E,{isPlaying:k,fullyPlayed:v,durationMs:t.milliseconds,releaseDate:E,resumePositionMs:h.current,position:k?C:void 0}))),r().createElement(ye.yj,{menu:r().createElement(A.r,{uri:a,showUri:o,isPlayed:v,onMarkAsPlayed:R})},r().createElement(N.z,{className:ze,size:Le.q.sm,label:I.ag.get("more.label.context",e),onClick:L})),r().createElement(Le.o,{uri:a,bookUri:o,className:F()({[De]:!O}),onClick:L,size:Le.q.sm})))))})),Ge="mmCZ5VczybT9VqKB5wFU",Ze="At_ihDspJfh1yw3Cn2cq",We="q9WSh3pBJkL9Zyp8zyS7",_e="eiC4nh70nb5UHZBYMgNA",Xe="qcUG6XxCBqe75bTAbGTY",Ye="uU7tdAyRmWf_U95Daugm",qe=r().memo((({metadata:e})=>{var t,a;const{uri:l,coverArt:s,name:c,htmlDescription:m,authorName:u,sample:d,narrators:g}=e,E=(0,Y.Z)(null===(t=s[0])||void 0===t?void 0:t.url),p=function(e){const t=(0,Q.z)(),[a,r]=(0,n.useState)(null);return(0,n.useEffect)((()=>{t.getBookContents(e).then((e=>{r(e)}))}),[t,e]),a}(l),[y,b]=(0,n.useState)(!1),v=(0,n.useCallback)((()=>b(!y)),[y]),f=(0,O.o)(),h=(0,o.W6)(V.iY),k=(0,K.ye)(l),{togglePlay:P,isPlaying:C,usePlayContextItem:w}=(0,q.n)({uri:l},{featureIdentifier:"audiobook"}),{isActive:x,isPlaying:M,togglePlay:R}=w({uri:(null==d?void 0:d.uri)||""}),U=(0,n.useCallback)((()=>{null!=d&&d.uri&&(f({targetUri:d.uri,intent:M?"play":"pause",type:"click"}),R())}),[M,f,R,null==d?void 0:d.uri]),z=(0,$.g)(p);return r().createElement("section",{className:Ge},r().createElement(ke,{name:c,authorName:u,uri:l,coverArt:s,backgroundColor:E,togglePlay:z?v:P,isPlaying:C,isLocked:z}),r().createElement(pe,{backgroundColor:E,uri:l,togglePlay:z?v:P,isPlaying:C,isLocked:z}),r().createElement("div",{className:Ze},r().createElement("div",{className:_e},r().createElement(i.LF,{as:"h1",variant:"canon",className:Xe},I.ag.get("web-player.audiobooks.chapters")),r().createElement("ul",null,p&&p.map((e=>{const{name:t,duration:a,uri:n,playability:{playable:i},playedState:{playPositionMilliseconds:o,state:s},releaseDate:m}=e;return r().createElement(Be,{name:t,duration:a,uri:n,bookUri:l,bookName:c,key:n,usePlayContextItem:w,isLocked:(0,$.S)(e),isPlayable:i,resumePositionMs:o,isFullyPlayed:s===H.sY.Completed,releaseDate:(null==m?void 0:m.isoString)||"",toggleActivationModal:v})})))),r().createElement("div",{className:We},r().createElement(se,{htmlDescription:m,authorName:u,narrators:g}),d&&r().createElement(X,{label:I.ag.get("sample"),className:Ye,images:d.coverArt||[],title:d.name,duration:d.duration.milliseconds,moreButton:r().createElement(L.y,{menu:r().createElement(A.r,{uri:d.uri,showUri:l})},r().createElement(N.z,null)),onClick:U,isPlaying:M,isActive:x,size:_.LARGE,contentRating:null===(a=d.contentRating)||void 0===a?void 0:a.label,enableEncoreWebMigration:h}))),y&&k&&r().createElement(S,{backgroundColor:E,isOpen:y,toggleModal:v,coverArt:s,showAccessInfo:k}))}));var Ke=a(18261),He=a(94233),Ve=a(39561),$e=a(99995),Qe=a(49125);const Je=(0,n.lazy)((()=>a.e(381).then(a.bind(a,18381))));function et(e){return(0,o.W6)(s.$f)?r().createElement(n.Suspense,{fallback:!0},r().createElement(Je,e)):null}var tt=a(1663),at=a(38894),nt=a(25988),rt=a(86514),lt=a(70369),it=a(33241),ot=a(42922),st=a(18864),ct=a(22583);const mt=(0,n.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowFilterProvider")},sortState:[]}),ut=r().memo((function({uri:e,children:t}){return r().createElement(ct.r,{uri:e,defaultState:[],sortContext:mt,localStorageKey:"showFilterParams-v2"},t)}));var dt=a(26382);const gt={field:dt.ay.PUBLISH_DATE,order:dt.i5.DESC},Et={field:dt.ay.PUBLISH_DATE,order:dt.i5.ASC},pt={field:dt.ay.LENGTH,order:dt.i5.DESC},yt={field:dt.ay.LENGTH,order:dt.i5.ASC},bt={episodic:gt,sequential:Et,recent:gt};function vt(e){return bt[e]}const ft=(0,n.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowSortProvider")},sortState:vt("recent")}),ht=r().memo((function({uri:e,children:t,defaultSortParam:a}){return r().createElement(ct.r,{uri:e,defaultState:a,sortContext:ft,localStorageKey:"showSortParam"},t)}));var kt=a(65858),Pt=a(62975),Ct=a(52759),wt=a(7073),St=a(84629),Nt=a(15212),At=a(72917),Ot=a(63133),It=a(95806),Lt=a(68107);function xt(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const Mt=r().memo((({index:e,showMetadata:t,episode:a,usePlayContextItem:l})=>{var i,o,s,c,m,u,d,g;const E=null===(i=(0,kt.oR)().getState().platform)||void 0===i?void 0:i.isBrowser,p=a.playedState.playPositionMilliseconds,y=a.uri,b=(0,n.useRef)(null),[v,f]=(0,n.useState)(a.playedState.state===wt.sY.Completed),h=(0,Nt.O1)(),k=(0,at.g)(),P=(0,st.jh)(),C=(0,O.o)(),w=(0,kt.I0)(),{isActive:S,isPlaying:A,togglePlay:x}=l({uri:y}),[M]=(0,Ct.z)(1e4,(e=>{var t;return(null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===y}));(0,n.useEffect)((()=>{A&&(b.current=M)}),[A,M]),(0,n.useEffect)((()=>{!A&&b.current&&a.duration.milliseconds<=b.current&&f(!0)}),[A,a.duration.milliseconds]);const R=(0,n.useCallback)((e=>{e||(b.current=0),f(e)}),[]),U=xt(t),z=(0,Lt.s)(a,U),D=(0,n.useCallback)((()=>{a.episodeType===wt.Wf.Episode&&E?Pt.y.set((()=>({triggerId:`activation-trigger-mme${a.uri}`,triggerAction:null}))):k?z():(C({targetUri:y,intent:A?"pause":"play",type:"click"}),x())}),[z,C,x,y,A,k,a,E]),F=(0,n.useCallback)((()=>{C({type:"click",targetUri:y,intent:"navigate"})}),[y,C]),T=null!==(o=null===(s=a.podcastSubscription)||void 0===s?void 0:s.isPaywalled)&&void 0!==o&&o,G=null!==(c=null===(m=a.podcastSubscription)||void 0===m?void 0:m.isUserSubscribed)&&void 0!==c&&c,W=T&&!G,_=T&&k,{badges:X}=(0,Z.r)({contentRating:null===(u=a.contentRating)||void 0===u?void 0:u.label,isPaywalled:T}),Y=(0,n.useCallback)((()=>w((0,St.RM)(t.uri))),[t.uri,w]),q=(0,n.useCallback)((e=>{let n=e;return(W||_)&&(n=r().createElement(It.l,{enabled:!0,showUri:t.uri},n)),!a.playability.playable&&X.nineteen&&(n=r().createElement("div",{onClick:e=>{e.stopPropagation(),Y()}},e)),n=r().createElement(At.c,{id:`activation-trigger-mme-${y}`,targetURI:Ce().from(y)},n),n}),[y,W,_,t.uri,X.nineteen,a.playability.playable,Y]);return r().createElement(ot.ZP,{value:"row",index:e},r().createElement(Ke._,{menu:r().createElement(nt.k,{uri:y,showUri:t.uri,sharingInfo:a.sharingInfo,isPlayed:v,onMarkAsPlayed:R})},r().createElement(Ot.X,{index:e,uri:y,size:P,images:a.coverArt||[],name:a.name,showName:t.name,description:a.description,isPlayable:a.playability.playable||W,fullyPlayed:v,durationMs:a.duration.milliseconds,releaseDate:(null===(d=a.releaseDate)||void 0===d?void 0:d.isoString)||"",resumePositionMs:null!==(g=b.current)&&void 0!==g?g:p,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const n=`${a.name} · ${t.name}`;h(e,[y],n,t.uri)},handlePlaybackClick:D,handleClick:F,isCurrentlyPlaying:S,isPaywalled:T,isUserSubscribed:G,isPlaying:A,position:A?M:void 0,episodeSharingInfo:a.sharingInfo,onMarkAsPlayed:R,contentInformation:a.contentInformation,badges:r().createElement(r().Fragment,null,X.explicit&&r().createElement(j.N,null),X.paid&&r().createElement(we.g,null),X.nineteen&&r().createElement(B.X,{size:16})),playButtonWrapper:q,topActionButtons:r().createElement(L.y,{menu:r().createElement(nt.k,{uri:y,showUri:t.uri,sharingInfo:a.sharingInfo,isPlayed:v,onMarkAsPlayed:R})},r().createElement(N.z,{size:N.q.sm,label:I.ag.get("more.label.context",a.name)}))})))})),Rt="Y_WW1akjiQKXSzCBalCD",Ut="NuwyWYpV2HzQDzNBFiaU";function zt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(a),!0).forEach((function(t){m()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Ft={totalCount:0,nextOffset:0,items:[]},Tt=r().memo((({showMetadata:e,usePlayContextItem:t})=>{const{sortState:a}=(0,n.useContext)(ft),{sortState:l}=(0,n.useContext)(mt),i=(0,K.ZM)(e.uri,a,l),[o,s]=(0,n.useState)(Ft),c=(0,n.useRef)(!1),m=(0,n.useRef)(0),{ref:u,breakpoint:d}=(0,st.Db)({[st.Uo.MEDIUM]:0,[st.Uo.LARGE]:600}),g=(0,n.useCallback)(((e=!1)=>{if(!i)return;const t=m.current;null!==t&&(c.current||(c.current=!0,i(t,50).then((a=>{s((n=>{const r=e?[]:[...n.items];return r.splice(t,a.items.length,...a.items),m.current=a.nextOffset,Dt(Dt({},a),{},{items:r})})),c.current=!1}))))}),[i]);return(0,n.useEffect)((()=>{s(Ft)}),[e.uri]),(0,n.useEffect)((()=>{m.current=0,g(!0)}),[g]),r().createElement(st.ZU.Provider,{value:d},r().createElement(ot.ZP,{value:"track-list"},r().createElement("div",{ref:u},r().createElement(it.C,{onReachBottom:g,triggerOnInitialLoad:!0},o.items.map(((a,n)=>r().createElement("div",{className:Ut,key:`${n}${a.uri}`},r().createElement("hr",{className:Rt,"aria-hidden":!0}),r().createElement(Mt,{key:`${a.uri}/${n}`,index:n,episode:a,showMetadata:e,usePlayContextItem:t}))))))))}));var jt=a(95289);const Bt={field:dt.YG.ISPLAYED,operator:dt.NK.EQUALS,value:!1},Gt={field:dt.YG.STARTEDPLAYING,operator:dt.NK.GREATER_THAN,value:0};const Zt="all-episodes",Wt=()=>{const{sortState:e,setSortState:t}=(0,n.useContext)(mt),a=new Map([[Bt,{key:"is-played",value:I.ag.get("shows.filter.unplayed")}],[Gt,{key:"started-playing",value:I.ag.get("shows.filter.in-progress")}]]),l=Array.from(a.values());l.unshift({key:Zt,value:I.ag.get("mwp.podcast.all.episodes")});const i=Array.from(a.keys()),o=(0,n.useCallback)((e=>{if(e===Zt)t([]);else{const n=i.find((t=>{var n;return(null===(n=a.get(t))||void 0===n?void 0:n.key)===e}));n&&t([n])}}),[t,i,a]);if(!a.size||!i)return null;let s=l[0];const c=Array.from(a.entries()).filter((t=>null==e?void 0:e.some((e=>e.field===t[0].field&&e.operator===t[0].operator))));return c.length>0&&(s=c[0][1]),r().createElement(jt.A,{options:l,onSelect:e=>o(e),selected:s,variant:"balladBold",semanticColor:"textBase",heading:I.ag.get("drop_down.filter_by")})},_t=()=>{const{sortState:e,setSortState:t}=(0,n.useContext)(ft),a=new Map([[gt,{key:"newest-to-oldest",value:I.ag.get("shows.sort.newest-to-oldest")}],[Et,{key:"oldest-to-newest",value:I.ag.get("shows.sort.oldest-to-newest")}],[pt,{key:"longest-to-shortest",value:I.ag.get("shows.sort.longest-to-shortest")}],[yt,{key:"shortest-to-longest",value:I.ag.get("shows.sort.shortest-to-longest")}]]),l=Array.from(a.values()),i=Array.from(a.keys()),o=(0,n.useCallback)((e=>{const n=i.find((t=>{var n;return(null===(n=a.get(t))||void 0===n?void 0:n.key)===e}));n&&t(n)}),[i,a,t]);if(!a.size||!e)return null;const s=Array.from(a.keys()).find((t=>t.field===e.field&&t.order===e.order)),c=a.get(s);return r().createElement(jt.A,{options:l,onSelect:e=>o(e),selected:c,heading:I.ag.get("drop_down.sort_by")})};var Xt=a(82772);const Yt=({metadata:e,showId:t})=>{var a,l;const{uri:c,coverArt:m,name:u,trailer:d,topics:g,description:E,htmlDescription:p,podcastType:y,publisherName:b}=e,v=(0,O.o)(),f=(0,o.W6)(s.Cz),h=(0,o.W6)(s.iY),k=!(0,Ee.k)(),P=(0,at.g)(),[C,w]=(0,ue.Z)(c),{canSort:S,canFilter:A}=(0,K.zZ)().capabilities,{sortState:x}=(0,n.useContext)(ft),{sortState:M}=(0,n.useContext)(mt),R=(0,K.zZ)(),U=(0,Y.Z)((null===(a=m[0])||void 0===a?void 0:a.url)||null),{usePlayContextItem:z}=(0,q.n)({uri:c,metadata:{[$e.sb.SORTING_CRITERIA]:R.getPlayerSort(x),[$e.sb.FILTERING_PREDICATE]:R.getPlayerFilter(M)}},{featureIdentifier:"show"}),{isActive:D,isPlaying:F,togglePlay:T}=z({uri:(null==d?void 0:d.uri)||""}),j=(0,n.useCallback)((()=>{v({targetUri:c,intent:C?"unsave":"save",type:"click"}),w(!C)}),[v,c,C,w]),B=(0,n.useCallback)((()=>{v({intent:"expand-description",type:"click"})}),[v]),G=xt(e),Z=(0,Lt.s)(d,G),W=(0,n.useCallback)((()=>{null!=d&&d.uri&&(P?Z():(v({targetUri:d.uri,intent:F?"play":"pause",type:"click"}),T()))}),[Z,P,F,v,T,null==d?void 0:d.uri]),{isXSOnly:H,isSMOnly:V}=(0,Ve.e)(),$=H||V,Q=g.length>0,te=E||f&&p,ae=te||Q;return r().createElement("section",{className:Xt.Z.ShowPage},r().createElement(lt.$,null,I.ag.get("podcasts.show.seo.title",{name:u})),r().createElement(ve.gF,{backgroundColor:U},r().createElement(fe.W,null,r().createElement(he.i,{text:u,dragUri:c,dragLabel:u})),r().createElement("div",{className:Xt.Z.imageContainer},r().createElement(Ke._,{menu:r().createElement(rt.M,{uri:c})},r().createElement(ve.Oe,{loading:"eager",name:u,images:m,placeholderType:"show",shape:ve.Kc.ROUNDED_CORNERS}))),r().createElement(ve.sP,null,r().createElement(ve.dy,{small:!0,uppercase:!0},"SHOW"===y?I.ag.get("type.show"):I.ag.get("type.podcast")),r().createElement(Ke._,{menu:r().createElement(rt.M,{uri:c})},r().createElement(ve.xd,{dragUri:c,dragLabel:u},r().createElement("span",{"data-testid":"show-title"},u))),r().createElement(ve.dy,{large:!$,medium:$,bold:!0},b))),r().createElement(ce.o,{backgroundColor:U},r().createElement(ce.F,null,r().createElement(de.r,{key:"follow-button"},r().createElement(me.e,{isFollowing:C,onClick:j,disabled:k})),r().createElement(L.y,{menu:r().createElement(rt.M,{uri:c})},r().createElement(N.z,{label:I.ag.get("more.label.context",u)})))),r().createElement("div",{className:Xt.Z.ShowContent},r().createElement("div",{className:Xt.Z.metadata},ae&&r().createElement(r().Fragment,null,r().createElement(i.LF,{as:"h3",variant:"canon",semanticColor:"textBase",className:Xt.Z.sectionTitle},I.ag.get("artist.about")),te&&r().createElement(J.o,{maxLines:4,content:(E||"").trim(),onExpanded:B,htmlContent:f&&p?p:void 0,LinkComponent:ee.Z}),Q&&r().createElement(ie,{topics:g||[]})),r().createElement(et,{showId:t,uri:c}),d&&r().createElement(Ke._,{menu:r().createElement(nt.k,{uri:d.uri,showUri:c,sharingInfo:d.sharingInfo})},r().createElement(X,{label:I.ag.get("track-trailer"),className:Xt.Z.trailer,images:d.coverArt||[],title:d.name,duration:d.duration.milliseconds,moreButton:r().createElement(L.y,{menu:r().createElement(nt.k,{uri:d.uri,sharingInfo:d.sharingInfo,showUri:c})},r().createElement(N.z,null)),onClick:W,isPlaying:F,isActive:D,size:_.LARGE,contentRating:null===(l=d.contentRating)||void 0===l?void 0:l.label,enableEncoreWebMigration:h}))),r().createElement("div",{className:Xt.Z.episodes,"data-testid":"show-all-episode-list"},r().createElement("div",{className:Xt.Z.episodesHeader},A&&r().createElement("div",{className:Xt.Z.episodesFilter},r().createElement(Wt,null)),!A&&r().createElement(i.LF,{as:"h3",variant:"canon",semanticColor:"textBase",className:Xt.Z.sectionTitle},I.ag.get("mwp.podcast.all.episodes")),S&&r().createElement("div",{className:Xt.Z.episodesSort},r().createElement(_t,null))),r().createElement(Tt,{showMetadata:e,usePlayContextItem:z})),r().createElement(He.k,{copyrights:[]})))},qt=r().memo((()=>{const{showId:e}=(0,l.UO)(),t=`spotify:show:${e}`,a=(0,o.W6)(s.uB),i=(0,Qe.l)(t,a);return i?(0,H.l6)(i)?r().createElement(n.Suspense,{fallback:null},r().createElement(qe,{metadata:i})):r().createElement(n.Suspense,{fallback:null},r().createElement(ut,{uri:i.uri},r().createElement(ht,{uri:i.uri,defaultSortParam:vt(i.consumptionOrder)},r().createElement(Yt,{showId:e,metadata:i})))):r().createElement(tt.h,{hasError:!1,errorMessage:I.ag.get("error.not_found.title.podcast")})}))},94233:(e,t,a)=>{a.d(t,{k:()=>o});var n=a(67294),r=a.n(n),l=a(96685);const i="rTMkDBDp47Eo12ZEQv4U",o=({copyrights:e,courtesyLine:t})=>{const a=(e||[]).map(((e,t)=>{const a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let n;return n="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,r().createElement(l.LF,{as:"p",variant:"finale",key:t,dir:"auto"},`${n} ${a}`)}));return t&&a.unshift(r().createElement(l.LF,{as:"p",variant:"finale",key:a.length,dir:"auto"},t)),r().createElement("div",{className:i},a)}},14535:(e,t,a)=>{a.d(t,{e:()=>u});var n=a(67294),r=a.n(n),l=a(20657),i=a(94184),o=a.n(i);const s="aAr9nYtPsG7P2LRzciXc",c="fBTYgGyvIbHizHIj7AAX",m="oUzIIkcyBdRs7hrwbwIo",u=r().memo((({isFollowing:e,onClick:t,disabled:a=!1,buttonText:n})=>{const i=e?l.ag.get("following"):l.ag.get("follow");return r().createElement("button",{type:"button",className:o()(s,{[c]:e,[m]:a}),onClick:t},n||i)}))}}]);
//# sourceMappingURL=xpui-routes-show.js.map