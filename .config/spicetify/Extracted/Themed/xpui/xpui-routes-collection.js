"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[309],{49115:(e,t,n)=>{n.r(t),n.d(t,{Collection:()=>Rt,default:()=>Lt});var r=n(48926),a=n.n(r),l=n(87757),i=n.n(l),c=(n(66992),n(41539),n(88674),n(78783),n(33948),n(67294)),o=n.n(c),u=n(65858),s=n(44794),m=n(73305),f=n(44503),p=n(46886),d=n(20657),g=n(13983),E=(0,n(20573).P1)((function(e){return e.features}),(function(e){return(null==e?void 0:e.enableShows)||!1})),v=n(70369),b=n(63038),y=n.n(b),h=(n(57327),n(68309),n(28760)),k=n(72803),O=n(42922),S=n(45342),x=n(1496),C=n(3634),w=n(94522),A=n(19565),I=n(84200),P=n(1663),D=n(22423),R=n(5292),L=n(14590),N=n(88852),T=n(59713),j=n.n(T),B=(n(92222),n(47941),n(82526),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070),n(6489)),Y=n(76391);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){var r=F({},n);return r.entities=t?e.items||[]:r.entities.concat(e.items||[]),r.total=e.totalLength,r.next=e.next,r}function Z(e,t){var n=F({},t),r=t.entities.filter((function(t){return t.uri!==e}));return n.total=(t.total||0)-(t.entities.length-r.length),n.entities=r,n}var M={offset:0,limit:1},W=function(){var e,t,n,r,l,o,u=(0,c.useContext)(S.H),s=(0,c.useCallback)((function(){return u?null==u?void 0:u.getShows(M):Promise.resolve({totalLength:0})}),[u]);return e=s,t=(0,c.useState)(null),n=y()(t,2),r=n[0],l=n[1],o=(0,c.useCallback)(a()(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e();case 4:n=t.sent,l((null==n?void 0:n.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]),(0,c.useEffect)((function(){null===r&&o()}),[r,o]),{total:r}},G=R.oT.ADDED_AT,H=R.oT.ADDED_AT,q=R.oT.ADDED_AT,z=R.oT.MOST_RELEVANT,K=R.oT.ADDED_AT,V=n(55084),Q=o().memo((function(e){var t=e.nrAlbums,n=(0,c.useContext)(S.H),r=(0,c.useContext)(D.fo).filter,l=(0,c.useContext)(L.Q).sortState,u=(0,c.useRef)(null),s=(0,c.useState)(t),f=y()(s,2),p=f[0],g=f[1],E=(0,x.fU)(k.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:albums",identifier:m.W.YOURLIBRARY_ALBUMS}}),v=E.spec,b=E.UBIFragment,A=(0,c.useMemo)((function(){return v.headerFactory()}),[v]),I=(0,c.useCallback)(function(){var e=a()(i().mark((function e(t,a){var c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getAlbums({offset:t,limit:a,filter:r,sort:(0,R.Aq)(l)});case 2:return(c=e.sent).totalLength!==p&&g(c.totalLength),e.abrupt("return",c.items);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,r,l,p]),P=(0,c.useCallback)((function(e,t){return o().createElement(O.ZP,{key:e.uri,value:"card",index:t},o().createElement(C.r,{index:t,uri:e.uri,name:e.name,images:e.images,artists:e.artists,sharingInfo:e.sharingInfo}))}),[]);return(0,c.useEffect)((function(){u.current&&u.current.update()}),[l,r,t]),o().createElement(b,{spec:v},o().createElement(b,{spec:A},o().createElement("div",{className:V.Z.header},o().createElement(h.Dy,{as:"h1",variant:"canon"},d.ag.get("albums")),o().createElement(c.Suspense,{fallback:null},o().createElement(N.E,{filterPlaceholder:d.ag.get("collection.filter.albums"),sortOptions:R.Ru})))),o().createElement(w.g,{nrCards:p,renderCard:P,fetchData:I,cardGridApiRef:u}))})),$=o().memo((function(){var e=function(){var e=(0,c.useContext)(S.H),t=(0,c.useState)(null),n=y()(t,2),r=n[0],l=n[1],o=(0,c.useCallback)(a()(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null==e?void 0:e.getAlbums(M);case 4:n=t.sent,l((null==n?void 0:n.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]);return(0,c.useEffect)((function(){null===r&&o()}),[r,o]),(0,Y.b)(B.EW.UPDATE,o),{total:r}}(),t=e.total;return null===t?o().createElement(P.h,{hasError:!1,errorMessage:d.ag.get("error.request-collection-albums-failure")}):t?o().createElement(Q,{nrAlbums:t}):o().createElement(A.u,{linkTo:"/search",linkTitle:d.ag.get("collection.empty-page.albums-cta"),message:d.ag.get("collection.empty-page.albums-subtitle"),title:d.ag.get("collection.empty-page.albums-title")},o().createElement(I.Z,null))})),X=o().memo((function(){return o().createElement(L.$,{uri:"collection/albums",defaultSortOption:G},o().createElement(D.hz,{uri:"collection/albums"},o().createElement($,null)))})),J=(n(21249),n(63926)),ee=n(64230),te=n(33241),ne=n(89477),re=n(43782),ae=o().memo((function(e){var t=e.nrArtists,n=(0,c.useContext)(S.H),r=(0,c.useContext)(D.fo).filter,l=(0,c.useContext)(L.Q).sortState,u=(0,c.useRef)(null),s=(0,c.useState)(t),f=y()(s,2),p=f[0],g=f[1],E=(0,x.fU)(k.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:artists",identifier:m.W.YOURLIBRARY_ARTISTS}}),v=E.spec,b=E.UBIFragment,C=(0,c.useMemo)((function(){return v.headerFactory()}),[v]),A=(0,c.useCallback)(function(){var e=a()(i().mark((function e(t,a){var c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getArtists({offset:t,limit:a,filter:r,sort:(0,R.e3)(l)});case 2:return(c=e.sent).totalLength!==p&&g(c.totalLength),e.abrupt("return",c.items);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,r,l,p]),I=(0,c.useCallback)((function(e,t){return o().createElement(O.ZP,{key:e.uri,value:"card",index:t},o().createElement(ne.I,{index:t,name:e.name,uri:e.uri,images:e.images}))}),[]);return(0,c.useEffect)((function(){u.current&&u.current.update()}),[l,r,t]),o().createElement(b,{spec:v},o().createElement(b,{spec:C},o().createElement("div",{className:V.Z.header},o().createElement(h.Dy,{as:"h1",variant:"canon"},d.ag.get("artists")),o().createElement(c.Suspense,{fallback:null},o().createElement(N.E,{filterPlaceholder:d.ag.get("collection.filter.artists"),sortOptions:R.o$})))),o().createElement(w.g,{nrCards:p,renderCard:I,fetchData:A,cardGridApiRef:u}))})),le=o().memo((function(e){var t=e.nrArtists,n=(0,c.useContext)(S.H),r=(0,c.useState)({entities:[],total:t}),l=y()(r,2),u=l[0],s=l[1],m=(0,c.useRef)(!1),f=(0,c.useRef)(!1),p=(0,c.useCallback)(a()(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.current||m.current){e.next=8;break}return m.current=!0,e.next=4,n.getArtists({offset:null!==(t=u.next)&&void 0!==t?t:void 0});case 4:(r=e.sent).next||(f.current=!0),m.current=!1,u.next&&r.next===u.next||s(U(r,!1,u));case 8:case"end":return e.stop()}}),e)}))),[n,u]),g=(0,c.useCallback)((function(e){s(Z(e,u))}),[u]);return o().createElement(te.C,{onReachBottom:p,triggerOnInitialLoad:!0},o().createElement("div",{className:V.Z.header},o().createElement(h.Dy,{as:"h1",variant:"canon"},d.ag.get("artists"))),o().createElement(re.Y,{onCollectionItemRemove:g},o().createElement(O.ZP,{value:"EntitiesGrid"},o().createElement(J.T,{render:function(){return u.entities.map((function(e,t){return o().createElement(O.ZP,{key:e.uri,value:"card",index:t},o().createElement(ne.I,{index:t,uri:e.uri,name:e.name,images:e.images}))}))}}))))})),ie=o().memo((function(){var e=function(){var e=(0,c.useContext)(S.H),t=(0,c.useState)(null),n=y()(t,2),r=n[0],l=n[1],o=(0,c.useCallback)(a()(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null==e?void 0:e.getArtists(M);case 4:n=t.sent,l((null==n?void 0:n.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]);return(0,c.useEffect)((function(){null===r&&o()}),[r,o]),(0,Y.b)(B.EW.UPDATE,o),{total:r}}(),t=e.total,n=(0,c.useContext)(S.H).getCapabilities().canFetchArtistsWithOffset;return null===t?o().createElement(P.h,{hasError:!1,errorMessage:d.ag.get("error.request-collection-artists-failure")}):t>0?n?o().createElement(ae,{nrArtists:t}):o().createElement(le,{nrArtists:t}):o().createElement(A.u,{message:d.ag.get("collection.empty-page.artists-subtitle"),title:d.ag.get("collection.empty-page.artists-title"),linkTo:"/search",linkTitle:d.ag.get("collection.empty-page.artists-cta")},o().createElement(ee.d,{size:64,viewBox:"0 0 64 64"}))})),ce=o().memo((function(){return o().createElement(L.$,{uri:"collection/artists",defaultSortOption:H},o().createElement(D.hz,{uri:"collection/artists"},o().createElement(ie,null)))})),oe=n(41632),ue=n(48064),se=o().memo((function(e){var t=e.nrBooks,n=(0,c.useContext)(S.H),r=(0,c.useContext)(D.fo).filter,l=(0,c.useContext)(L.Q).sortState,u=(0,c.useState)(t),s=y()(u,2),f=s[0],p=s[1],d=(0,x.fU)(k.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:audiobooks",identifier:m.W.YOURLIBRARY_AUDIOBOOKS}}),g=d.spec,E=d.UBIFragment,v=(0,c.useMemo)((function(){return g.headerFactory()}),[g]),b=(0,c.useRef)(null),C=(0,c.useCallback)(function(){var e=a()(i().mark((function e(t,a){var c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getBooks({offset:t,limit:a,filter:r,sort:(0,R.G5)(l)});case 2:return(c=e.sent).totalLength!==f&&p(c.totalLength),e.abrupt("return",c.items);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,r,l,f]),A=(0,c.useCallback)((function(e,t){return o().createElement(O.ZP,{key:e.uri,value:"card",index:t},o().createElement(oe.c,{index:t,uri:e.uri,name:e.name,images:e.images,authorName:e.authorName}))}),[]);return(0,c.useEffect)((function(){b.current&&b.current.update()}),[l,r,t]),o().createElement(E,{spec:g},o().createElement(E,{spec:v},o().createElement("div",{className:V.Z.header},o().createElement(h.Dy,{as:"h1",variant:"canon"},"Audiobooks"),o().createElement(N.E,{filterPlaceholder:"Search in Audiobooks",sortOptions:R.ZP}))),o().createElement(w.g,{nrCards:f,renderCard:A,fetchData:C,cardGridApiRef:b}))})),me=o().memo((function(){var e=function(){var e=(0,c.useContext)(S.H),t=(0,c.useState)(null),n=y()(t,2),r=n[0],l=n[1],o=(0,c.useCallback)(a()(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null==e?void 0:e.getBooks(M);case 4:n=t.sent,l((null==n?void 0:n.totalLength)||0);case 6:case"end":return t.stop()}}),t)}))),[e]);return(0,c.useEffect)((function(){null===r&&o()}),[r,o]),(0,Y.b)(B.EW.UPDATE,o),{total:r}}(),t=e.total;return null===t?o().createElement(P.h,{hasError:!1,errorMessage:d.ag.get("error.request-collection-albums-failure")}):t>0?o().createElement(se,{nrBooks:t}):o().createElement(A.u,{linkTo:"/search",linkTitle:d.ag.get("collection.empty-page.books-cta"),message:d.ag.get("collection.empty-page.books-subtitle"),title:d.ag.get("collection.empty-page.books-title")},o().createElement(ue.Z,null))})),fe=o().memo((function(){return o().createElement(L.$,{uri:"collection/albums",defaultSortOption:K},o().createElement(D.hz,{uri:"collection/books"},o().createElement(me,null)))})),pe=(n(41817),n(47042),n(46309)),de=n(29419),ge=n(45788),Ee=n(23248),ve=n(72138),be=n(63282),ye=n(42781),he=n(38470),ke=n(98620),Oe=n(29255),Se=(n(91038),n(94184)),xe=n.n(Se),Ce=n(92374),we=n(47418);const Ae="ASepBXU_s_s3OBsVlwbq",Ie="W5JUlxsbMsaSi4DGjoPN",Pe="oT0etGSj2ty3qjhnnd4c",De="u9YiS9YAKsCSkybiGf4y",Re="emTGVMj1hTjsvPuvTV7d",Le="vwyZuyz_XfcATIyity1S",Ne="lmxbSdxMbxbmYhXnB7C0",Te="Wvq907VgY5OISrPgjpbP";function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Array.from(new Array(e).keys()).map((function(e){return o().createElement("div",{className:Le,style:{width:t?"".concat(t,"ch"):void 0},key:e})}))}var Be=function(e){var t=e.index,n=e.onClick,r=(0,Ce.MY)({limit:7}),a=(0,u.v9)(Oe.Gg).user,l=(0,ke.I2)(null==a?void 0:a.id);return l?o().createElement(we.Z,{index:t,className:xe()(Ae,Ie),onClick:n,headerText:l.name,featureIdentifier:"your_library",uri:l.uri,ariaPlayLabel:d.ag.get("playlist.a11y.play",l.name),ariaPauseLabel:d.ag.get("playlist.a11y.pause",l.name),renderCardImage:function(){return o().createElement("div",{className:De},o().createElement("div",{className:Re},r?r.items.map((function(e,t){var n=e.uri,r=e.name,a=y()(e.artists,1)[0];return o().createElement("span",{key:n},o().createElement("span",{className:Te},t?" • ":""),o().createElement("span",{dir:"auto"},a.name),o().createElement("span",{dir:"auto",className:Te},r))})):je(3)))},renderSubHeaderContent:function(){return o().createElement("div",{className:Ne},r?"".concat(r.totalLength," ").concat(l.name):je(1,l.name.length))}}):null},Ye=function(e){var t=e.index,n=(0,Ce.j$)({limit:7}),r=(0,u.v9)(Oe.Gg).user,a=(0,ke.bl)(null==r?void 0:r.id);return a?o().createElement(we.Z,{index:t,className:xe()(Ae,Pe),headerText:a.name,featureIdentifier:"your_library",uri:a.uri,ariaPlayLabel:d.ag.get("playlist.a11y.play",a.name),ariaPauseLabel:d.ag.get("playlist.a11y.pause",a.name),renderCardImage:function(){return o().createElement("div",{className:De},o().createElement("div",{className:Re},n?n.items.map((function(e,t){var n=e.uri,r=e.name,a=e.show;return o().createElement("span",{key:n},o().createElement("span",{className:Te},t?" • ":""),o().createElement("span",{dir:"auto"},r),o().createElement("span",{dir:"auto",className:Te},a.name))})):je(3)))},renderSubHeaderContent:function(){return o().createElement("div",{className:Ne},n?d.ag.get("tracklist-header.episodes-counter",n.totalLength):je(1,a.name.length))}}):null},_e=n(55508),Fe=n(13947),Ue=n(64005),Ze=n(83280),Me=n(72131),We=n(66393),Ge=n(84242),He=n(69691),qe=n(36590),ze=n(8498),Ke=n(68942),Ve=n(23802);const Qe="wfFs4LpuSSZfVAgUx67H",$e="kN4uALHijLKGpORXRMN9";var Xe=function(){var e=(0,Ve.g)("images/playlist-folder-filled.svg");return o().createElement("div",{className:Qe},o().createElement("img",{src:e,alt:d.ag.get("local-files"),className:$e}))},Je=n(85676);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=function(e){var t,n=e.uri,r=e.name,l=e.images,u=e.index,s=(0,ge.u)(),m=(0,c.useRef)(null),f=(0,c.useRef)(!0),p=(0,c.useContext)(We.t),g=(0,He.cR)(Me.b).isPlaying,E=(0,Ge.n)({uri:Me.b,pages:[{items:(null===(t=m.current)||void 0===t?void 0:t.map((function(e){return tt(tt({},e),{},{provider:null})})))||[]}]},{featureIdentifier:"local_files"}).togglePlay;(0,c.useEffect)((function(){return f.current=!0,function(){f.current=!1}}),[]);var v=(0,Ee.z)(Ke.J,!1),b=y()(v,1)[0],h=(0,Ue.y)(function(){var e=a()(i().mark((function e(t,n){var r,a,l,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m.current){e.next=5;break}return e.next=3,p.getTracks({policy:Je.Z});case 3:l=e.sent,m.current=null!==(r=null===(a=l.data)||void 0===a?void 0:a.item.map(Ze.cr))&&void 0!==r?r:null;case 5:f&&E({loggingParams:n},{uri:Me.b,pages:[{items:(null===(c=m.current)||void 0===c?void 0:c.map((function(e){return tt(tt({},e),{},{provider:null})})))||[]}]});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Fe.s_);return s.canFetchAllTracks&&b?o().createElement(qe.Z,{index:u,delegatePlayback:!0,delegateLogging:!0,isPlaying:g,onPlay:h,headerText:r,featureIdentifier:"local_files",uri:n,renderCardImage:function(){return o().createElement(ze.x,{images:l,fallback:{Component:Xe}})},renderSubHeaderContent:function(){return o().createElement("span",null,d.ag.get("local-files.description"))}}):null},rt=function(e){var t=e.index,n=(0,ke.gB)();return o().createElement(c.Suspense,{fallback:null},o().createElement(nt,{index:t,name:n.name,uri:n.uri,images:n.images}))},at=n(56347),lt=n(10711),it=function(e,t,n){return o().createElement(O.ZP,{key:e.uri,value:"card",index:t},n)},ct=function(e,t,n){var r;switch(e.type){case ye.p.LIKED_SONGS:return it(e,t,n>1?o().createElement(Be,{index:t}):o().createElement(de.p,{index:t}));case ye.p.YOUR_EPISODES:return it(e,t,o().createElement(lt.T,{index:t}));case ye.p.LOCAL_FILES:return it(e,t,o().createElement(rt,{index:t}));case ye.p.PLAYLIST:return it(e,t,o().createElement(pe.Z,{index:t,name:e.name,uri:e.uri,images:e.images,description:e.description,authorName:null===(r=e.owner)||void 0===r?void 0:r.displayName}));case"placeholder":return it(e,t,o().createElement(pe.Z,{index:t,uri:e.uri,name:"",images:[],description:"",authorName:""}));case"empty":return o().createElement(o().Fragment,null);case"folder":return null;default:return(0,he._)(e),null}},ot=o().memo((function(e){var t=e.nrPlaylists,n=e.showYourEpisodesCard,r=e.showLocalFilesCard,l=(0,c.useContext)(D.fo).filter,s=(0,c.useContext)(L.Q).sortState,f=(0,c.useContext)(ve.BS),p=(0,c.useState)(t),g=y()(p,2),E=g[0],v=g[1],b=(0,c.useRef)(null),O=(0,u.v9)(Oe.Gg).user,S=(0,x.fU)(k.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:playlists",identifier:m.W.YOURLIBRARY_PLAYLISTS}}),C=S.spec,A=S.UBIFragment,I=(0,c.useMemo)((function(){return C.headerFactory()}),[C]),P=(0,c.useMemo)((function(){var e=[];if(l)return e;var t=(0,ke.I2)(null==O?void 0:O.id);t&&(e.push(t),e.push({uri:"",type:"empty"}));var a=n?(0,ke.bl)(null==O?void 0:O.id):null;a&&e.push(a);var i=r?(0,ke.gB)():null;return i&&e.push(i),e}),[l,r,n,O]),T=(0,c.useCallback)((function(){null!=b&&b.current&&b.current.update()}),[b]);(0,ve.iu)(T);var j=(0,c.useCallback)(function(){var e=a()(i().mark((function e(t,n){var r,a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P.slice(t),a=t-(P.length-r.length),e.next=4,f.getContents({offset:a,limit:n,filter:l,sort:(0,R.pT)(s),flatten:!0,decorateImagesAndOwner:!0});case 4:return(c=e.sent).totalItemCount!==E&&v(c.totalItemCount),e.abrupt("return",r.concat(c.items));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[P,f,l,s,E]);return(0,c.useEffect)((function(){b.current&&b.current.update()}),[s,l,t]),o().createElement(A,{spec:C},o().createElement(A,{spec:I},o().createElement("div",{className:V.Z.header},o().createElement(h.Dy,{as:"h1",variant:"canon"},d.ag.get("playlists")),o().createElement(c.Suspense,{fallback:null},o().createElement(N.E,{filterPlaceholder:d.ag.get("collection.filter.playlists"),sortOptions:R.w0})))),o().createElement(w.g,{nrCards:E+P.length,renderCard:ct,fetchData:j,cardGridApiRef:b}))})),ut=o().memo((function(){var e=(0,ve.Rt)(),t=(0,at.x)(),n=(0,ge.u)(),r=(0,be.K)().createPlaylist,a=(0,Ee.z)(Ke.J,!1),l=y()(a,1)[0],i=(0,c.useCallback)((function(){r()}),[r]);return null===e||null===t?o().createElement(P.h,{hasError:!1,errorMessage:d.ag.get("error.request-collection-albums-failure")}):null!=e&&e.playlistCount?o().createElement(ot,{nrPlaylists:e.playlistCount,showYourEpisodesCard:t.totalLength>0,showLocalFilesCard:n.canFetchAllTracks&&l}):o().createElement(A.u,{linkTitle:d.ag.get("collection.empty-page.playlists-cta"),onClick:i,title:d.ag.get("collection.empty-page.playlists-title"),message:d.ag.get("collection.empty-page.playlists-subtitle")},o().createElement(_e.Z,null))})),st=o().memo((function(){return o().createElement(L.$,{uri:"collection/playlists",defaultSortOption:z},o().createElement(D.hz,{uri:"collection/playlists"},o().createElement(ut,null)))})),mt=n(95332),ft=n(21794),pt=n(35808),dt=n(143),gt=n(19480),Et=function(){var e="ginger-audio-shows-top-20-web",t=(0,pt.P)(e).view;if(!t)return null;var n=t.content,r=t.name,a=n.total,l=void 0===a?0:a,i=n.items;return o().createElement(gt.P,{title:r,total:l,seeAllUri:(0,ft.p)(e)},i.filter((function(e){return"show"===e.type})).map((function(e,t){var n;return o().createElement(mt._,{key:e.uri,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,mediaType:null!==(n={audio:dt.E.AUDIO,video:dt.E.VIDEO,mixed:dt.E.MIXED}[e.media_type])&&void 0!==n?n:dt.E.AUDIO,sharingInfo:null,index:t})})))},vt=o().memo((function(e){var t=e.nrShows,n=(0,c.useContext)(S.H),r=(0,c.useContext)(D.fo).filter,l=(0,c.useContext)(L.Q).sortState,s=(0,c.useRef)(!1),f=(0,c.useRef)({entities:[],total:t}),p=(0,c.useState)(0),g=y()(p,2),E=g[0],v=g[1],b=(0,u.v9)(Oe.Gg).user,C=(0,x.fU)(k.createDesktopLibraryEventFactory,{data:{uri:"spotify:app:collection:podcasts",identifier:m.W.YOURLIBRARY_SHOWS}}),w=C.spec,A=C.UBIFragment,I=(0,c.useMemo)((function(){return w.headerFactory()}),[w]),P=(0,c.useCallback)(function(){var e=a()(i().mark((function e(t,a){var c,o,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=u.length>2&&void 0!==u[2]&&u[2],s.current){e.next=9;break}return s.current=!c,e.next=5,n.getShows({offset:t,limit:a,filter:r,sort:(0,R.EY)(l)});case 5:o=e.sent,f.current=U(o,c,f.current),s.current=!1,v((function(e){return e+1}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,r,l,f]),T=(0,c.useCallback)((function(e){f.current=Z(e,f.current),v((function(e){return e+1}))}),[]);(0,c.useEffect)((function(){P(0,50,!!E)}),[r,l]);var j=(0,c.useCallback)((function(){f.current.entities.length!==f.current.total&&P(f.current.entities.length,50)}),[P,f]);return o().createElement(A,{spec:w},o().createElement(te.C,{onReachBottom:j},o().createElement(A,{spec:I},o().createElement("div",{className:V.Z.header},o().createElement(h.Dy,{as:"h1",variant:"canon"},d.ag.get("podcasts")),o().createElement(c.Suspense,{fallback:null},o().createElement(N.E,{filterPlaceholder:d.ag.get("collection.filter.podcasts"),sortOptions:R.a6})))),o().createElement(re.Y,{onCollectionItemRemove:T},o().createElement(O.ZP,{value:"EntitiesGrid"},o().createElement(J.T,{render:function(){var e=(0,ke.bl)(null==b?void 0:b.id),t=r||!e||0===f.current.entities.length?[]:[o().createElement(c.Suspense,{fallback:null,key:"your-episodes-card"},o().createElement(Ye,{index:0}))],n=t.length>0;return t.concat(f.current.entities.map((function(e,t){var r=n?t+1:t;return o().createElement(O.ZP,{key:e.uri,value:"card",index:r},o().createElement(mt._,{index:r,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,mediaType:e.mediaType,sharingInfo:null}))})))}})))))})),bt=o().memo((function(){var e=W().total;return null===e?o().createElement(P.h,{hasError:!1,errorMessage:d.ag.get("error.request-collection-shows-failure")}):e?o().createElement(vt,{nrShows:e}):o().createElement("div",{className:"CollectionShowsContainer"},o().createElement(A.u,{linkTo:"/genre/podcasts-web",linkTitle:d.ag.get("collection.empty-page.shows-cta"),message:d.ag.get("collection.empty-page.shows-subtitle"),title:d.ag.get("collection.empty-page.shows-title")},o().createElement(ue.Z,null)),o().createElement(Et,null))})),yt=o().memo((function(){return o().createElement(L.$,{uri:"collection/podcasts",defaultSortOption:q},o().createElement(D.hz,{uri:"collection/podcasts"},o().createElement(bt,null)))})),ht=n(319),kt=n.n(ht),Ot=n(48414),St=n(32648),xt=n(85951);var Ct=n(9746),wt=n(28638);function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt=function(e){var t=e.isAudiobooksEnabled,n=function(){var e=(0,c.useState)(window.innerWidth),t=y()(e,2),n=t[0],r=t[1],a=(0,c.useContext)(St.VX).scrollNodeChildRef,l=(0,Ue.y)((function(e){null!=e&&e.width&&r(e.width)}),250);return(0,xt.y)({refOrElement:a,observeOnly:"width",onResize:l}),n}(),r=(0,u.v9)(E),a=(0,x.fU)(Ot.createDesktopLibraryTopbarEventFactory,{data:{identifier:"collection",uri:"spotify:app:collection"}}),l=a.spec,i=a.logger,s=(0,c.useMemo)((function(){return[{title:d.ag.get("playlists"),itemId:"collection.tab-playlists",to:"/collection/playlists",uri:"spotify:app:collection:playlists"}].concat(kt()(r?[{title:d.ag.get("podcasts"),itemId:"collection.tab-podcasts",to:"/collection/podcasts",uri:"spotify:app:collection:podcasts"}]:[]),kt()(t?[{title:"Audiobooks",itemId:"collection.tab-audiobooks",to:"/collection/audiobooks",uri:"spotify:app:collection:audiobooks"}]:[]),[{title:d.ag.get("artists"),itemId:"collection.tab-artists",to:"/collection/artists",uri:"spotify:app:collection:artists"},{title:d.ag.get("albums"),itemId:"collection.tab-albums",to:"/collection/albums",uri:"spotify:app:collection:albums"}]).map((function(e,t){var n=e.uri;return It(It({},e),{},{handleClick:function(){var e=l.linkFactory({position:t,uri:n}).hitUiNavigate({destination:n});i.logInteraction(e)}})}))}),[r,t,i,l]);return o().createElement(wt.w,null,o().createElement(Ct.n,{className:V.Z.tabBar,links:s,windowSize:n}))},Dt=o().lazy(a()(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(246).then(n.bind(n,30990));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),Rt=function(){var e=(0,u.v9)(E),t=(0,s.W6)(f.uB);return(0,g.z)("your_library"),o().createElement("section",{className:"contentSpacing"},o().createElement(v.$,null,d.ag.get("collection.page-title")),o().createElement(p.No,{path:"/collection/artists",pageId:m.W.YOURLIBRARY_ARTISTS},o().createElement(ce,null)),o().createElement(p.No,{path:"/collection/albums",pageId:m.W.YOURLIBRARY_ALBUMS},o().createElement(X,null)),o().createElement(p.No,{path:"/collection/playlists",pageId:m.W.YOURLIBRARY_PLAYLISTS},o().createElement(st,null)),e&&o().createElement(p.No,{path:"/collection/podcasts",pageId:m.W.YOURLIBRARY_SHOWS},o().createElement(yt,null)),t&&o().createElement(p.No,{path:"/collection/audiobooks",pageId:m.W.YOURLIBRARY_AUDIOBOOKS},o().createElement(fe,null)),o().createElement(p.No,{path:"/collection/music-downloads",pageId:m.W.YOURLIBRARY_DOWNLOADS},o().createElement(Dt,null)),o().createElement(Pt,{isAudiobooksEnabled:t}))};const Lt=Rt},14590:(e,t,n)=>{n.d(t,{Q:()=>c,$:()=>o});var r=n(67294),a=n.n(r),l=n(22583),i=n(5292),c=(0,r.createContext)({setSortState:function(){throw new Error("setSortState must be used within a LibrarySortProvider")},sortState:i.oT.ADDED_AT}),o=a().memo((function(e){var t=e.uri,n=e.children,r=e.defaultSortOption;return a().createElement(l.r,{uri:t,defaultState:r,sortContext:c},n)}))},88852:(e,t,n)=>{n.d(t,{E:()=>d});var r=n(67294),a=n.n(r),l=n(98816),i=n(45342),c=n(1496),o=n(61048),u=(n(21249),n(95289)),s=n(5292),m=n(14590),f=a().memo((function(e){var t=e.sortOptions,n=e.onSort,l=(0,r.useContext)(m.Q),i=l.sortState,c=l.setSortState,o=(0,r.useCallback)((function(e){var t=s.ei[e];null==n||n(t),c(t)}),[n,c]),f=t.map((function(e){return s.MY[e]})),p=s.MY[i];return a().createElement(u.A,{options:f,onSelect:o,selected:p})}));const p="QhF9ZR7YOiJeFiEnfkOr";var d=a().memo((function(e){var t=e.filterPlaceholder,n=e.sortOptions,u=(0,c.fU)(l.createDesktopSearchBarEventFactory,{}),s=u.spec,m=u.logger,d=(0,r.useContext)(i.H),g=(0,r.useCallback)((function(){m.logInteraction(s.filterFieldFactory().keyStrokeFilter())}),[m,s]),E=(0,r.useCallback)((function(){m.logInteraction(s.filterFieldFactory().hitClearFilter())}),[m,s]),v=(0,r.useCallback)((function(){m.logInteraction(s.sortButtonFactory().hitSort())}),[m,s]);return a().createElement("div",{className:p},null!=d&&d.getCapabilities().canFilter?a().createElement(r.Suspense,{fallback:null},a().createElement(o.K,{placeholder:t,onFilter:g,onClear:E})):null,null!=d&&d.getCapabilities().canSort?a().createElement(f,{sortOptions:n,onSort:v}):null)}))},70369:(e,t,n)=>{n.d(t,{$:()=>r.$});var r=n(22578)},85676:(e,t,n)=>{n.d(t,{Z:()=>r});const r={rowId:!0,addTime:!0,track:{link:!0,name:!0,discNumber:!0,trackNumber:!0,length:!0,isLocal:!0,playable:!0},album:{album:{link:!0,name:!0,covers:!0},artist:{link:!0,name:!0}},artist:{link:!0,name:!0}}},9746:(e,t,n)=>{n.d(t,{n:()=>D});var r=n(59713),a=n.n(r),l=n(63038),i=n.n(l),c=(n(91038),n(78783),n(21249),n(85827),n(41539),n(47042),n(89554),n(54747),n(57327),n(26699),n(32023),n(67294)),o=n.n(c),u=n(94184),s=n.n(u),m=n(28760),f=n(26115),p=n(74594),d=n(20657),g=n(32626),E=n(43031),v=n(30005),b=n(21691);const y="BkpKedcdaMGbvgXMlmcg",h="muYk5XIwKmqR9iNibk_f",k="queue-tabBar-header",O="m20ShRDiGGDpJ5LSABTi",S="Hvv0e7WKQ4kyftgSQJhg",x="yxf_6IsQEmHjijEBUMTP",C="oaNVBli46GtVjaQKB15g",w="JdlKTdpMquftpMwwegZo",A="Nts_ArOCGeROTDZND3M6",I="FvDsfgxSvLvL3q8d7nQv";var P=function(e){var t=e.items,n=e.activeItemId,r=e.setActiveDropdownItem;return o().createElement(v.v,null,t.map((function(e){return o().createElement(b.s,{key:e.to,role:"menuitemradio",to:e.to,exact:!0,"aria-checked":e.itemId===n,className:x,activeClassName:C,isActive:function(t){return!!t&&(r(e),!0)},onClick:function(){var t;null===(t=e.handleClick)||void 0===t||t.call(e),r(e)}},e.title)})))},D=o().memo((function(e){var t=e.isCentered,n=e.links,r=e.landmarkLabel,l=e.className,u=e.windowSize,v=void 0===u?1/0:u,b=(0,c.useState)(null),x=i()(b,2),D=x[0],R=x[1],L=(0,c.useRef)(null),N=(0,c.useState)([]),T=i()(N,2),j=T[0],B=T[1],Y=(0,c.useState)(0),_=i()(Y,2),F=_[0],U=_[1],Z=(0,c.useState)([]),M=i()(Z,2),W=M[0],G=M[1];(0,c.useEffect)((function(){L.current&&U(L.current.clientWidth)}),[v]),(0,c.useEffect)((function(){if(L.current){var e=Array.from(L.current.children).map((function(e){return e.clientWidth}));B(e)}}),[n]),(0,c.useEffect)((function(){if(L.current)if(j.slice(0,-1).reduce((function(e,t){return e+t}),0)<=F)G([]);else{var e=j.reduce((function(e,t){return e>t?e:t}),0),t=[],n=e;j.forEach((function(e,r){F>=n+e?n+=e:t.push(r)})),G(t)}}),[F,j]);var H=(0,c.useCallback)((function(e){return!!e&&(R(null),!0)}),[]);return o().createElement("nav",{className:s()(l,y),"aria-label":r},o().createElement("ul",{className:t?h:A,ref:L},n.filter((function(e,t){return!W.includes(t)})).map((function(e){return o().createElement("li",{key:e.to,className:k},o().createElement(E.O,{exact:!0,className:w,activeClassName:C,to:e.to,isActive:H,onClick:e.handleClick},o().createElement(m.Dy,{variant:"mestoBold"},e.title)))})),W.length||0===j.length?o().createElement("li",{className:k},o().createElement(g.xV,{renderInline:!0,menu:o().createElement(P,{items:n.filter((function(e,t){return W.includes(t)})),activeItemId:null==D?void 0:D.itemId,setActiveDropdownItem:R})},(function(e,t,n){return o().createElement("button",{className:s()(O,a()({},S,D)),type:"button",onClick:t,ref:n},o().createElement(m.Dy,{variant:"mestoBold"},D?D.title:d.ag.get("more")),e?o().createElement(f.q,{iconSize:16,className:I}):o().createElement(p.m,{iconSize:16,className:I}))}))):null))}))},35808:(e,t,n)=>{n.d(t,{P:()=>E});n(47941),n(82526),n(57327),n(41539),n(38880),n(89554),n(54747),n(49337),n(33321),n(69070);var r=n(59713),a=n.n(r),l=n(63038),i=n.n(l),c=n(94321),o=n(29255),u=n(67294),s=n(65858),m=n(43088),f=n(44794),p=n(8247);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=(0,m.n)(),n=(0,u.useState)((function(){return t.getViewFromCache(e)})),r=i()(n,2),a=r[0],l=r[1],d=(0,f.W6)(p.Xf),E=(0,s.v9)(c.rZ),v=(0,s.v9)(o.Gg),b=v.locale,y=v.overrides,h=(null==y?void 0:y.country)||E,k=(null==y?void 0:y.locale)||b;return(0,u.useEffect)((function(){t.getView(e,g({country:h,locale:k},d&&{extraTypes:["uri_link"]})).then((function(e){l(e)}))}),[h,k,e,t,d]),{view:a,getNextPage:(0,u.useCallback)((function(){t.getMore(e).then((function(e){e&&l(e)}))}),[e,t]),refreshContents:(0,u.useCallback)((function(){t.getView(e,g({country:h,locale:k,ignoreCache:!0},d&&{extraTypes:["uri_link"]})).then((function(e){l(e)}))}),[h,k,e,t,d])}}},55084:(e,t,n)=>{n.d(t,{Z:()=>r});const r={header:"Kqd6YgAEH_L9D3UK44p0",tabBar:"yPDOWTfndoixSqsbq6Re",AddToPlaylistIcon:"k84l_utp2OugbjNwAneO"}}}]);
//# sourceMappingURL=xpui-routes-collection.js.map