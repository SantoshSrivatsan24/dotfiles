"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[450],{70369:(e,t,n)=>{n.d(t,{$:()=>r.$});var r=n(22578)},86964:(e,t,n)=>{n.d(t,{c:()=>C});var r=n(59713),l=n.n(r),o=n(67294),a=n.n(o),i=n(54543),c=n(18686),s=n(42922),u=n(21794),m=n(96685),d=n(44794),g=n(44503),v=n(67892);const f="EPMDgp7znILo0hvyirzv",p="noUm6pjQ6KWq7mVxYDor",b="PqnKjxzJ1Zvr9qKRlRbO",y="uuBQS9Ym_VPmAQrLhPQb",E=e=>(0,d.W6)(g.sE)?a().createElement(v.Z,{to:e.uri,target:"_blank",className:f},a().createElement("div",{className:p}),a().createElement(m.LF,{className:b,as:"h2",variant:"alto"},e.label),a().createElement(m.LF,{className:y,as:"p",variant:"mesto"},e.tagline)):null,h=e=>a().createElement(o.Suspense,{fallback:null},a().createElement(E,e));var w=n(5001),O=n(1150);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const j=e=>{var t;return null===(t=e.id)||void 0===t?void 0:t.startsWith("scc-corona")},C=({spaces:e,viewName:t,viewId:n,isAnonymous:r})=>{const l=(0,o.useCallback)(((e,t)=>{const r=((e,t)=>{let{uri:n}=e;return e.href.includes("https://api.spotify.com/v1/views/")&&(n=e.href.replace("https://api.spotify.com/v1/views/","spotify:genre:"),n=(0,u.$x)(n),"hub-browse-grid"===t&&(n=n.replace(":view:",":genre:"))),n})(e,n);return a().createElement(i.q,{key:e.href,index:t,entity:P(P({},e),{},{uri:r})})}),[n]),m=(0,o.useCallback)(((e,t)=>a().createElement(s.JL,{key:e.uri||t,value:"card",index:t},a().createElement(i.q,{index:t,entity:e}))),[]),d=(0,o.useCallback)(((e,t)=>"link"===e.type?l(e,t):m(e,t)),[m,l]),g=(0,o.useCallback)((e=>!!j(e)||!((e=>"HEADER"===e.rendering)(e)||0===e.content.total||r&&"uniquely-yours-shelf"===e.id)),[r]);return e&&0!==e.length?e[0].content?a().createElement(a().Fragment,null,e.filter(g).map(((e,t)=>{const r=e.content&&(0,u.pL)((0,u.SK)(e.href));if(e.id===O.RECENTLY_PLAYED_VIEW_ID||e.id===w.uK)return a().createElement(s.JL,{value:"headered-grid",index:t,key:e.id},a().createElement(O.RecentlyPlayed,{showAll:!1,index:t}));if(j(e)){const t=e.content.items[0];return t&&t.name&&t.description&&t.href?a().createElement(h,{label:t.name,tagline:t.description,uri:t.href}):null}return a().createElement(s.JL,{value:"headered-grid",index:t,key:e.id},a().createElement(c.q,{total:e.content.total,seeAllUri:r,pageId:n,title:e.name,tagline:e.tag_line||void 0,index:t,id:e.id},e.content.items.map(d)))}))):a().createElement(s.JL,{value:"headered-grid"},a().createElement(c.q,{showAll:!0,title:t,total:(null==e?void 0:e.length)||0,index:0,id:null!=n?n:"spaces-see-all-grid"},null==e?void 0:e.map(d))):null}},71479:(e,t,n)=>{n.r(t),n.d(t,{DISALLOWED_VIEWS:()=>x,View:()=>L,default:()=>I});var r=n(67294),l=n.n(r),o=n(94184),a=n.n(o),i=n(65858),c=n(16528),s=n(20657),u=n(51574),m=n(33241),d=n(31595),g=n(21794),v=n(35808),f=n(70369),p=n(42273),b=n(59482),y=n(72907),E=n(1663),h=n(86964),w=n(94321),O=n(29255);const k="XD65NhAD6ebYxMaW9cZZ",P="AJqEY1gblQDvIgjU0jAH",j="Ft1cMGlqDsCbqmXQyeKN",C="zlBEnsMyvUhuHSEtst4Q",D=e=>"HEADER"===e.rendering,A=e=>{const{title:t,images:n,backgroundColor:r}=e;return l().createElement(l().Fragment,null,((e,t=[],n)=>{if(!e)return null;const r=t.filter((e=>"background"===e.name));return l().createElement(p.gF,{backgroundImages:r,backgroundColor:n,size:0===r.length?p.fR.SMALL:p.fR.DEFAULT},l().createElement(b.W,null,l().createElement(y.i,{text:e})),l().createElement(p.sP,null,l().createElement(p.xd,null,e)))})(t,n,r))},x=["ginger-genre-affinity"],L=l().memo((({viewData:e,viewId:t,backgroundColor:n,isFullyLoaded:o,country:i,isGenre:g,isAnonymous:v,getNextPage:b,refreshContents:y})=>{const w=(0,c.k6)(),O=!!e,L=null==e?void 0:e.name;(0,r.useEffect)((()=>{i&&"POP"!==w.action&&t&&y()}),[i,t,w.action,O,y]);const I=(0,r.useCallback)((()=>x.some((t=>{var n;return null==e||null===(n=e.href)||void 0===n?void 0:n.includes(t)}))),[e]),N=(0,r.useCallback)((()=>{if(!e)return;const t=I();o||t||b()}),[e,I,o,b]),S=(0,r.useMemo)((()=>{const{content:{items:t=[]}={}}=e||{},n=t.filter(D);return n.length>0?n[0]:null}),[e]),q=(0,r.useMemo)((()=>{const{name:t}=e||{};return S?S.name:n&&t}),[n,S,e]),F=(0,r.useMemo)((()=>g||Boolean(q)),[g,q]),M=(0,r.useMemo)((()=>!(!e||!Array.isArray(e.content.items))&&F),[F,e]),_=(0,p.oX)(t)?l().createElement(p.YD,{isAnonymous:v}):l().createElement(A,{title:(null==S?void 0:S.name)||q,images:(null==S?void 0:S.images)||[],backgroundColor:n}),W=null==e?void 0:e.content.items;return e?l().createElement(l().Fragment,null,L?l().createElement(f.$,null,L):null,l().createElement(m.C,{onReachBottom:N},l().createElement("section",{className:a()({[k]:(null==S?void 0:S.name)||q})},M&&l().createElement(d.H,{color:n||null}),F&&_,l().createElement("div",{className:j},F&&_&&l().createElement(u.I,{backgroundColor:n}),l().createElement("div",{className:a()(P,"contentSpacing",{[C]:g})},l().createElement(h.c,{spaces:W,viewName:e.name,viewId:t,isAnonymous:v})))))):l().createElement(E.h,{hasError:!1,errorMessage:s.ag.get("error.not_found.title.page")})})),I=l().memo((({viewId:e,match:t})=>{const n=e||t.params.viewId,{isAnonymous:r}=(0,i.v9)(O.Gg),o=(0,i.v9)(w.rZ),{view:a,getNextPage:c,refreshContents:s}=(0,v.P)(n),u=!a||null===a.content.next,m=n.endsWith("-page")?n:`${n}-page`,d=(0,i.v9)((e=>{var t,n;return(null===(t=e.browse.allItemsStyle)||void 0===t||null===(n=t[m])||void 0===n?void 0:n.color)||""})),f=e=>e.viewId===n||"href"in e&&e.href===(0,g.pL)(n),p=(0,i.v9)((e=>{var t,n,r,l;return(null==e||null===(t=e.browse)||void 0===t||null===(n=t.browseAll)||void 0===n?void 0:n.items.some(f))||(null==e||null===(r=e.browse)||void 0===r||null===(l=r.topGenres)||void 0===l?void 0:l.items.some(f))||!!d}));return l().createElement(L,{viewData:a,isFullyLoaded:u,viewId:n,backgroundColor:d,country:o,isGenre:p,isAnonymous:r,getNextPage:c,refreshContents:s})}))},35808:(e,t,n)=>{n.d(t,{P:()=>g});var r=n(59713),l=n.n(r),o=n(94321),a=n(29255),i=n(67294),c=n(65858),s=n(43088),u=n(44794),m=n(8247);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const g=e=>{const t=(0,s.n)(),[n,r]=(0,i.useState)((()=>t.getViewFromCache(e))),g=(0,u.W6)(m.Xf),v=(0,c.v9)(o.rZ),{locale:f,overrides:p}=(0,c.v9)(a.Gg),b=(null==p?void 0:p.country)||v,y=(null==p?void 0:p.locale)||f;(0,i.useEffect)((()=>{t.getView(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({country:b,locale:y},g&&{extraTypes:["uri_link"]})).then((e=>{r(e)}))}),[b,y,e,t,g]);return{view:n,getNextPage:(0,i.useCallback)((()=>{t.getMore(e).then((e=>{e&&r(e)}))}),[e,t]),refreshContents:(0,i.useCallback)((()=>{t.getView(e,{country:b,locale:y,ignoreCache:!0}).then((e=>{r(e)}))}),[b,y,e,t])}}}}]);
//# sourceMappingURL=xpui-routes-view.js.map