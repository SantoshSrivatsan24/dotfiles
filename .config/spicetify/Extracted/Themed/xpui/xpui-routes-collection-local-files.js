"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7379],{40771:(e,t,l)=>{l.d(t,{Z:()=>i});var a=l(87462),r=l(67294),n=l(67892);const i=({href:e,children:t,...l})=>r.createElement(n.Z,(0,a.Z)({to:e},l),t)},19565:(e,t,l)=>{l.d(t,{u:()=>k});var a=l(67294),r=l(94184),n=l.n(r),i=l(28760),o=l(99450),s=l(51775),c=l(40771);const u="FvfvGU3jvHRskUU9v9_8",m="Q9AlbZn2EGzy3MTWXa8X",d="mxmxS0y8LiwSs5nueKPT",E="GXxVAveNFStY3pBI_NO4",g="eHcXC2s97InYP7rMNT0H",k=a.memo((function(e){const{children:t,message:l,title:r,linkTitle:k,linkTo:S,onClick:C,renderInline:A=!1}=e,{isXSOnly:D,isSMOnly:y}=(0,s.e)(),b=D||y;return a.createElement("section",{className:n()(u,{[m]:A})},t,a.createElement(i.Dy,{as:"h1",variant:b?"cello":"alto",className:E},r),a.createElement(i.Dy,{variant:b?"mesto":"ballad",className:g},l),k&&(S||C)&&a.createElement(o.D,{colorSet:"invertedLight",className:d,href:S,onClick:C,component:c.Z},k))}))},35213:(e,t,l)=>{l.d(t,{l:()=>k});var a=l(67294),r=l(96206),n=l(95289),i=l(78462),o=l(73785);const s={"custom-order":i.HI,title:{column:o.Q.TITLE,order:o.k.ASC},artist:{column:o.Q.TITLE,order:o.k.SECONDARY_ASC},"added-by":{column:o.Q.ADDED_BY,order:o.k.ASC},"added-at":{column:o.Q.ADDED_AT,order:o.k.ASC},duration:{column:o.Q.DURATION,order:o.k.ASC},album:{column:o.Q.ALBUM,order:o.k.ASC},"album-or-podcast":{column:o.Q.ALBUM_OR_PODCAST,order:o.k.ASC},"album-or-show":{column:o.Q.ALBUM_OR_SHOW,order:o.k.ASC}},c={title:o.Q.TITLE,artist:o.Q.TITLE,"added-by":o.Q.ADDED_BY,"added-at":o.Q.ADDED_AT,duration:o.Q.DURATION,album:o.Q.ALBUM,"album-or-podcast":o.Q.ALBUM_OR_PODCAST,"album-or-show":o.Q.ALBUM_OR_SHOW},u={[o.k.NONE]:o.k.NONE,[o.k.ASC]:o.k.DESC,[o.k.DESC]:o.k.ASC,[o.k.SECONDARY_ASC]:o.k.SECONDARY_DESC,[o.k.SECONDARY_DESC]:o.k.SECONDARY_ASC},m={[o.Q.INDEX]:{key:"custom-order",get value(){return r.ag.get("sort.custom-order")}},[o.Q.TITLE]:{key:"title",get value(){return r.ag.get("sort.title")}},[o.Q.ARTIST]:{key:"artist",get value(){return r.ag.get("sort.artist")}},[o.Q.ADDED_BY]:{key:"added-by",get value(){return r.ag.get("sort.added-by")}},[o.Q.ADDED_AT]:{key:"added-at",get value(){return r.ag.get("sort.date-added")}},[o.Q.DURATION]:{key:"duration",get value(){return r.ag.get("sort.duration")}},[o.Q.EVENT_DATE]:null,[o.Q.ALBUM]:{key:"album",get value(){return r.ag.get("sort.album")}},[o.Q.ALBUM_OR_PODCAST]:{key:"album-or-podcast",get value(){return r.ag.get("sort.album-or-podcast")}},[o.Q.ALBUM_OR_SHOW]:{key:"album-or-show",get value(){return r.ag.get("sort.album-or-show")}},[o.Q.PLAYS]:null,[o.Q.RELEASE_DATE]:null,[o.Q.ADD]:null,[o.Q.ACTIONS]:null};var d=l(28248),E=l(1838);function g(e){return!!e}const k=({columns:e,disabled:t,onSort:l})=>{const k=[...e];k.splice(2,0,d.QD.ARTIST);const{sortState:S,setSortState:C}=(0,a.useContext)(i.Gb),A=function(e){return null===e.column?m[d.QD.INDEX]:(0,E.cB)(e.column,e.order)?m[d.QD.ARTIST]:m[e.column]}(S),D=(0,a.useCallback)((e=>{l?.(),C(((e,t,l)=>e?t!==c[e]||"artist"===e&&[o.k.ASC,o.k.DESC].includes(l)||"title"===e&&[o.k.SECONDARY_ASC,o.k.SECONDARY_DESC].includes(l)?s[e]:{column:c[e],order:u[l]}:i.HI)(e,S.column,S.order))}),[l,C,S.column,S.order]),y=(0,a.useCallback)((()=>null!==S.column),[S.column]),b=k.map((e=>m[e])).filter(g);return a.createElement(n.A,{options:b,onSelect:D,selected:A,isSelectionChanged:y,sortOrder:S.order,heading:r.ag.get("drop_down.sort_by"),disabled:t})}},95289:(e,t,l)=>{l.d(t,{A:()=>D});var a=l(67294),r=l(94184),n=l.n(r),i=l(28760),o=l(62312),s=l(41374),c=l(20246),u=l(58238),m=l(91883),d=l(30005),E=l(36652),g=l(21691),k=l(28248);const S=({heading:e,selected:t,onSelect:l,options:r,sortOrder:n})=>{let o;return n&&(n===k.kn.ASC||n===k.kn.SECONDARY_ASC?o=a.createElement(u.C,{iconSize:16}):n!==k.kn.DESC&&n!==k.kn.SECONDARY_DESC||(o=a.createElement(m.B,{iconSize:16}))),a.createElement(d.v,null,e?a.createElement(E.F,null,e):null,r.map((({key:e,value:r})=>a.createElement(g.s,{role:"menuitemradio","aria-checked":e===t.key&&!o,key:e,onClick:()=>l(e),icon:e===t.key&&o},a.createElement(i.Dy,{variant:"mesto"},r)))))},C="w6j_vX6SF5IxSXrrkYw5",A="CbHJjxYxldG7uUPMYMaP";const D=({heading:e,options:t,selected:l,onSelect:r,isSelectionChanged:u,sortOrder:m,variant:d="mesto",semanticColor:E,disabled:g,onClick:k})=>{const[D]=t;l||(l=D);const y=u?u(l):l!==D;return a.createElement(c.y,{menu:a.createElement(S,{selected:l,options:t,onSelect:r,sortOrder:m,heading:e})},((e,t,r)=>a.createElement("button",{className:n()(C,{[A]:y}),onClick:e=>{g||(k?.(e),t(e))},ref:r,type:"button"},a.createElement(i.Dy,{semanticColor:E,variant:d},l.value),e?a.createElement(o.U,{iconSize:16}):a.createElement(s.i,{iconSize:16}))))}},55394:(e,t,l)=>{l.r(t),l.d(t,{default:()=>G});var a=l(67294),r=l(73012),n=l(3927),i=l(96206),o=l(19565),s=l(42273),c=l(59482),u=l(72907),m=l(61048),d=l(1663),E=l(55120),g=l(1838),k=l(35213),S=l(22423),C=l(28248),A=l(78462),D=l(72573),y=l(1169),b=l(30947),f=l(55911),h=l(31595),p=l(72131),v=l(66393),x=l(5229),T=l(84242),_=l(42054),O=l.n(_),Q=l(18261),N=l(87257),I=l(42922),R=l(84788),P=l(26921),U=l(21509),B=l(96525),L=l(82760),M=l(83384);const w=a.memo((function({uri:e,uid:t,name:l,duration_ms:r,artists:n,album:o,is19PlusOnly:s,isExplicit:c,isPlayable:u,index:m,contextUri:d,imgUrl:E,usePlayContextItem:g}){const{filter:k}=(0,a.useContext)(S.fo),{isActive:C,isPlaying:A,triggerPlay:D,togglePlay:y}=g({uid:t,uri:e,index:m}),b=(0,B.P)(),{badges:f,hasBadges:h}=(0,R.r)({isExplicit:c}),p=n?.map((e=>e.name)).join(i.ag.getSeparator())||"";return a.createElement(I.ZP,{value:"row",index:m},a.createElement(Q._,{menu:a.createElement(P.N,{uri:e,uid:t,contextUri:d})},a.createElement(L.c,{uri:e,contextUri:d,isActive:C,index:m,onTriggerPlay:()=>{D()},ariaRowIndex:m+1,isPlayable:u,ageRestricted:s,dragMetadata:{name:l,createdBy:p}},a.createElement(U.Dd,{ariaColIndex:0},a.createElement(U.Du,{uri:e,playAriaLabel:i.ag.get("tracklist.a11y.play",l,p),isPlaying:A,isActive:C,onClick:()=>{y()}},a.createElement(U.km,null,m+1))),a.createElement(U.vZ,{ariaColIndex:1},a.createElement(U.lD,{src:E}),a.createElement(U.vm,null,a.createElement(U.Wh,{titleText:l},a.createElement(O(),{searchWords:[k],textToHighlight:l,findChunks:b,highlightClassName:M.Z.filterHighlight})),h&&a.createElement(U.g3,null,f.explicit?a.createElement(N.N,null):null),a.createElement(U.K9,null,n&&a.createElement(B.o,{nonInteractive:!0,artists:n,filter:k})))),a.createElement(U.UA,{ariaColIndex:2},o?.name&&a.createElement(U.BM,{nonInteractive:!0,uri:o?.uri,name:o?.name},a.createElement(O(),{searchWords:[k],textToHighlight:o?.name,findChunks:b,highlightClassName:M.Z.filterHighlight}))),a.createElement(U.mU,{ariaColIndex:3},a.createElement(U.A$,{duration:r}),a.createElement(U.Zv,{menu:a.createElement(P.N,{uri:e,uid:t,contextUri:d}),label:i.ag.get("more.label.track",l,p)})))))}),((e,t)=>e.uri===t.uri&&e.index===t.index));var Y=l(49961);const H=new Set(A.MI),z=a.memo((function({uri:e,tracks:t,columns:l,sortState:r,handleSort:n,usePlayContextItem:o,tracklistDomRef:s}){const c=(0,a.useRef)(null),u=(0,a.useCallback)(((t,l)=>{const r=(0,Y.X)(t.album?.images,{desiredSize:40,desiredLabel:"small"});return a.createElement(w,{key:t.uid,index:l,contextUri:e,uri:t.uri,uid:t.uid,isPlayable:t.isPlayable,duration_ms:t.duration.milliseconds,name:t.name,artists:t.artists,album:t.album,isExplicit:t.isExplicit,is19PlusOnly:t.is19PlusOnly,type:t.type,imgUrl:r?.url||"",usePlayContextItem:o})}),[e,o]);return a.createElement(a.Fragment,null,a.createElement(I.ZP,{value:"playlist-tracklist"},a.createElement(C.Pv,{key:e,ariaLabel:i.ag.get("local-files"),hasHeaderRow:!0,columns:l,sortableColumns:H,sortState:r,onSort:n,renderRow:u,resolveUri:e=>e.uri,resolveUid:e=>e.uid,tracks:t,nrTracks:t.length,limit:100,outerRef:c,outerDomRef:s})))})),X="uCHqQ74vvHOnctGg0X0B",Z="feuNq1FTxMbdeOTuFgpA",F=[C.QD.INDEX,C.QD.TITLE,C.QD.ALBUM,C.QD.DURATION],W=()=>{const{filter:e}=(0,a.useContext)(S.fo),{sortState:t,setSortState:l}=(0,a.useContext)(A.Gb),C=(0,a.useContext)(v.t),[_]=(0,x.z)(D.J,!1),[O,Q]=(0,a.useState)(),N=(0,h.Y)(r.Fzl),{filterBoxApiRef:I,filterBoxDomRef:R,tracklistDomRef:P,handleKeyDown:U}=(0,y.Q)(),B=(0,a.useCallback)((e=>{l((0,g.VK)(e,t))}),[t,l]),L=(0,a.useCallback)((async()=>{const l=await C.getTracks((0,g._j)(t),e);Q(l)}),[C,t,e]);(0,a.useEffect)((()=>{L()}),[L]);const{isPlaying:M,togglePlay:w,usePlayContextItem:Y}=(0,T.n)({uri:p.b,pages:[{items:(O??[]).map((e=>({...e,provider:null})))}]},{featureIdentifier:"local_files"});return O?e||O.length&&_?a.createElement("div",{role:"presentation",className:X,onKeyDown:U},a.createElement(s.gF,{backgroundColor:N},a.createElement(c.W,null,a.createElement(E.$,{size:f.qE.sm,onClick:()=>w(),isPlaying:M,uri:p.b}),a.createElement(u.i,{text:i.ag.get("local-files")})),a.createElement(s.sP,null,a.createElement(s.xd,null,i.ag.get("local-files")),a.createElement(s.T0,null,i.ag.get("local-files.description")))),a.createElement(b.o,{backgroundColor:N},a.createElement(b.F,null,a.createElement(E.$,{size:f.qE.xl,onClick:()=>w(),isPlaying:M,uri:p.b}),a.createElement("div",{className:Z},a.createElement(a.Suspense,{fallback:null},a.createElement(m.K,{placeholder:i.ag.get("playlist.search_in_playlist"),filterBoxApiRef:I,outerRef:R})),a.createElement(k.l,{columns:A.MI})))),a.createElement("div",{className:"contentSpacing"},a.createElement(z,{tracks:O,uri:p.b,columns:F,handleSort:B,sortState:t,usePlayContextItem:Y,tracklistDomRef:P}))):a.createElement(o.u,{linkTo:"/preferences",linkTitle:i.ag.get("local-files.empty-button"),message:i.ag.get("local-files.empty-description"),title:i.ag.get("local-files.empty-header")},a.createElement(n.Y,{iconSize:64})):a.createElement(d.h,{hasError:!1,errorMessage:i.ag.get("error.request-artist-failure")})},G=()=>a.createElement(A.kz,{uri:"spotify:internal:local-files"},a.createElement(S.hz,{uri:"spotify:internal:local-files"},a.createElement(W,null)))}}]);
//# sourceMappingURL=xpui-routes-collection-local-files.js.map