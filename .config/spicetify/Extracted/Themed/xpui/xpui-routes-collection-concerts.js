"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[835],{40165:(e,t,n)=>{n.r(t),n.d(t,{CollectionConcerts:()=>J,default:()=>O});n(68309),n(85827),n(41539),n(21249),n(47941),n(92222);var a=n(67294),c=n.n(a),r=n(65858),o=n(73012),l=n(44794),i=n(44503),s=n(70369),u=n(29255),m=n(20657),g=n(51574),d=n(42922),h=n(31595),f=n(6581),v=n(7679),p=n(18245),y=n(19565),_=n(42273),E=n(59482),b=n(72907),L=n(1663),N=n(19480);const k="FqqGmylJTvbVkjiIX2eL",C="BUGk_fxRbfJzRml1EewP",D="F9Va5nmgay71lz4V2GLN";var S={Online:m.ag.get("concerts_upcoming_virtual_events"),Recommended:m.ag.get("concerts_recommended_for_you"),Popular:m.ag.get("concerts_popular_near_you"),Playlists:m.ag.get("playlists")},w=o.jN0,I=function(e){var t=e.collection,n=e.concertMetadata,a=e.handleLocationChange,r=e.shouldCombineRecs,o=(null==t?void 0:t.items)||[],l=null==t?void 0:t.isFetching,i=n.userLocation.name||m.ag.get("concerts.default_location"),s=function(e){if(!e.concerts||!e.concerts.length)return null;var t=e.concerts[0];return c().createElement(v.k,{key:t.uri,entity:t,isVirtual:r?"ONLINE"===t.category:"online"===e.source,shouldCombineRecs:r})};if(l)return c().createElement(L.h,{hasError:!1,errorMessage:m.ag.get("error.request-browse-concerts-failure")});return c().createElement("div",{className:D},c().createElement("div",{className:k,"data-testid":"location-selector"},c().createElement(p.Z,{handleLocationChange:a,locationStr:i})),function(){if(!o.length)return c().createElement(y.u,{title:m.ag.get("concerts.error.no_concerts_found_title"),message:m.ag.get("concerts.error.no_concerts_found_message",i)});var e=o.reduce((function(e,t){return"recommendation"===t.source?e.Recommended.push(t):"popular"===t.source?e.Popular.push(t):"online"===t.source&&e.Online.push(t),e}),{Online:[],Recommended:[],Popular:[]});return Object.keys(e).map((function(t,n){var a=e[t];return 0===a.length?null:c().createElement("div",{key:t,className:k},c().createElement(d.ZP,{value:"headered-grid",index:n},c().createElement(N.P,{total:a.length,title:S[t],showAll:!0},a.map(s))))}))}())},x=c().memo((function(){var e=(0,r.I0)(),t=(0,l.W6)(i.AW),n=(0,r.v9)(u.Gg).isAnonymous,o=(0,r.v9)((function(e){return e.concerts.collection})),d=(0,r.v9)((function(e){return e.concerts})),v=d.userLocation.name||m.ag.get("concerts.default_location");(0,a.useEffect)((function(){e((0,f.AJ)(null,n))}),[e,n]);var p=(0,h.Y)(w);return c().createElement("section",{className:C},c().createElement(s.$,null,"".concat(m.ag.get("concerts_shows_in")," ").concat(v)),c().createElement(_.gF,{size:_.fR.SMALL,backgroundColor:w},c().createElement(_.sP,null,c().createElement(_.xd,null,m.ag.get("concerts.label"))),c().createElement(E.W,null,c().createElement(b.i,{text:m.ag.get("concerts.label")}))),c().createElement(g.I,{backgroundColor:p}),c().createElement(I,{collection:o,concertMetadata:d,handleLocationChange:function(t){t&&t.geonameId&&e((0,f.AJ)(t.geonameId,n))},shouldCombineRecs:t}))})),J=function(e){return c().createElement(a.Suspense,{fallback:null},c().createElement(x,e))};const O=J},7679:(e,t,n)=>{n.d(t,{k:()=>N});n(68309),n(83710),n(92222);var a=n(67294),c=n.n(a),r=n(97493),o=n(64656),l=n(28760),i=n(94880),s=n(43315),u=n(25340),m=n(67892);const g="lKqKagNqQ8VlvdFmruT3",d="Z2uK7sMMyCWb6pniuNXi",h="NIMwRV_NRJ13Vqumxn_j",f="t5KPIGEuuRNJCJOxPA1o",v="_32BBOf0wCFJBS35JKFU0",p="vdvOAp_f8lhHOp7y1BqJ",y="qHSZnGIgaXfml2KOzmbd",_="zX69m46sU0G_VEwc4Fiy",E="lKkeD_aRHPt1Sb7cc031",b="hBa5HsnSqAQj7ngrUaoq",L="WD2YMKFx0lQZSbihWLOR";var N=c().memo((function(e){var t=e.entity,n=e.isVirtual,a=e.shouldCombineRecs,N=t.venue,k=N.name,C=N.location.name,D=t.artists[0],S=(0,u.ij)(t),w=new Date(t.date.isoString),I=n?r.q:o.K;return c().createElement(m.r,{to:"/concert/".concat(t.id),className:g},D.imageUri?c().createElement(i.Z,null,c().createElement("div",{"data-testid":"image-container",className:L,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(".concat(D.imageUri,")")}})):null,c().createElement("time",{className:d,dateTime:t.date.isoString},c().createElement(l.Dy,{as:"h5",variant:"minuetBold",className:h},(0,u.lJ)(w)),c().createElement(l.Dy,{as:"h1",variant:"canon",className:f},w.getDate())),c().createElement("div",{className:v,dir:"auto"},c().createElement(l.Dy,{as:"h2",className:b,variant:"minuetBold"},(0,s.FO)(w),", ",(0,u.b8)(w)),c().createElement(l.Dy,{as:"h2",variant:"cello",weight:"bold",className:p},S),c().createElement("div",{className:y},a?c().createElement(I,{className:_,"aria-label":n?"Virtual Event":"In-Person Event",iconSize:16}):null,c().createElement(l.Dy,{as:"h2",className:E,variant:"mesto","data-testid":"location-name"},n?k:"".concat(k,", ").concat(C)))))}))},18245:(e,t,n)=>{n.d(t,{Z:()=>D});var a=n(63038),c=n.n(a),r=n(59713),o=n.n(r),l=(n(82772),n(21249),n(67294)),i=n.n(l),s=n(94184),u=n.n(s),m=n(40160),g=n(86912),d=n(28760),h=n(8455),f=n(20657),v=n(98742),p=n(80624),y=n(19719),_=n(29854);const E={locationContainer:"bH2kPQ5zw1hLCwpWXGGy",locationName:"CZHxaQ5LgtirQvf9Unjx",clearSuggestions:"nPmfHJAB2cFMM9BekCcp",hide:"WmgD8cdy4nG4XBNIO7wJ",changeLocation:"dmmS1BV6JiIcwmD5oTzk",changeLocationDropdown:"n3vaiTuGhBV97WsJ6Zmk",changeLocationInputLabel:"C6NHL3DpQg1P_Kn17nRQ",changeLocationInput:"GLw2a0iCnksbb95n9Uxb",searchInputSearchIcon:"bZEIsokqSuv6PC6x9yPI",changeLocationLabel:"xvdlJPLpxB3UU8F2BDUl",icon:"ZjO209jguit9txCu59ou",changeLocationList:"nfDD3WtVxTUJoHe_XqKs",changeLocationError:"V8EzYUuVJXyfFjyw9Gyz",changeLocationLink:"yJ0x9sVyyDY_aN8Zgu4i",changeLocationItem:"o5i4vbKhh1lViFIVgOc9",button:"qDHCmOVcAjUHggyCn8D4",locationLink:"tc9UlCgbKbc9J2Jtj63x"};var b,L="location_no_results",N="location_fetch_error",k=(b={},o()(b,L,f.ag.get("concert.error.no_locations_found_subtitle")),o()(b,N,f.ag.get("concert.error.general_error_title")),b),C=function(e){var t=i().createRef(),n=i().createRef(),a=(0,l.useState)(""),r=c()(a,2),o=r[0],s=r[1],b=(0,l.useState)(-1),C=c()(b,2),D=C[0],S=C[1],w=(0,l.useState)([]),I=c()(w,2),x=I[0],J=I[1],O=(0,l.useState)(null),U=c()(O,2),P=U[0],V=U[1],R=e.placeholder,F=e.onSelectLocation,B=e.hideLocationSelector,z=(0,_.D)((function(){y.LH.fetchLocationQuery(p.b.getInstance(),o).then((function(e){var t=e.body,n=(t=void 0===t?{}:t).results,a=void 0===n?[]:n;J(a),a.length?V(null):V(L)}),(function(){J([]),V(N)}))}))(250),G=function(e){s(e),S(-1),J([]),V(null),e&&e.length>1&&z(e)},M=u()(E.clearSuggestions,E.hide);return(x&&x.length||P===L)&&(M=E.clearSuggestions),i().createElement("div",{className:E.changeLocation,"data-interaction-context":"location-selector"},i().createElement("div",{className:E.changeLocationDropdown,onKeyDown:function(e){var a=38,c=40,r=27,o=9,l=e.which,i=D;switch([r,c,a,o].indexOf(l)>-1&&e.preventDefault(),l){default:return;case r:return void F(null);case a:i=Math.max(D-1,-1);break;case c:case o:i=Math.min(D+1,x.length-1);break;case 13:F(x[D])}if(i<0)t.current.focus();else{var s=n.current.childNodes[i];s&&s.focus()}S(i)},role:"searchbox",onBlur:function(e){e.relatedTarget||(G(""),B())}},i().createElement("div",{className:E.changeLocationForm},i().createElement("div",{className:E.changeLocationLabel},i().createElement(g.z,{className:E.icon,iconSize:16}),i().createElement("input",{className:E.changeLocationInput,type:"search",id:"change-location-input",placeholder:R,value:o,onChange:function(e){return G(e.target.value)},ref:t,"aria-label":R,autoFocus:!0}),i().createElement("button",{className:M,"aria-label":f.ag.get("search.a11y.clear-input"),onClick:function(){return G("")}},i().createElement(v.T,{size:16})))),i().createElement("ol",{className:E.changeLocationList,ref:n},P&&i().createElement(d.Dy,{as:"li",variant:"ballad",className:E.changeLocationError},i().createElement(h.Z,{iconSize:16}),k[P]),x&&x.length&&x.map((function(e,t){return i().createElement(d.Dy,{as:"li",variant:"ballad",weight:"book",key:t,className:E.changeLocationItem,tabIndex:t+1},i().createElement(m.rU,{to:"#",className:E.changeLocationLink,onClick:function(){return F(e)},role:"button"},e.location))}))||null)))};const D=function(e){var t=e.handleLocationChange,n=e.locationStr,a=(0,l.useState)(!1),r=c()(a,2),o=r[0],s=r[1];return i().createElement("div",{className:E.locationContainer},i().createElement(d.Dy,{as:"h1",variant:"alto"},f.ag.get("concerts_shows_in")),i().createElement("span",null,o&&i().createElement(C,{placeholder:f.ag.get("concerts.input.search_placeholder"),onSelectLocation:function(e){t(e),s(!1)},hideLocationSelector:function(){return s(!1)}}),!o&&i().createElement(d.Dy,{as:"h2",variant:"alto",className:E.locationName,dir:"auto",onClick:s,role:"button"},n)))}},25340:(e,t,n)=>{n.d(t,{Ms:()=>o,b8:()=>l,lJ:()=>i,NL:()=>s,O1:()=>u,Yl:()=>d,ij:()=>h});var a=n(319),c=n.n(a),r=(n(83710),n(21249),n(68309),n(92222),n(20657)),o=function(e){return r.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"})},l=function(e){return r.ag.formatDate(e,{hour:"numeric",minute:"numeric"})},i=function(e){return r.ag.formatDate(e,{month:"short"}).toUpperCase()},s=function(e){return r.ag.formatDate(e,{month:"short",day:"numeric"}).toUpperCase()},u=function(e){return e<new Date},m={row:{1:function(e){return r.ag.get.apply(r.ag,["concert.header.entity_title_1"].concat(c()(e)))},2:function(e){return r.ag.get.apply(r.ag,["concert.header.entity_title_2"].concat(c()(e)))},3:function(e){return r.ag.get.apply(r.ag,["concert.header.entity_title_3"].concat(c()(e)))},4:function(e){return r.ag.get.apply(r.ag,["concert.header.entity_title_4"].concat(c()(e)))},more:function(e){return r.ag.get.apply(r.ag,["concert.header.entity_title_more"].concat(c()(e)))}},entity:{1:function(e){return r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_1"].concat(c()(e)))},2:function(e){return r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_2"].concat(c()(e)))},3:function(e){return r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_3"].concat(c()(e)))},4:function(e){return r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_4"].concat(c()(e)))},more:function(e){return r.ag.get.apply(r.ag,["concert.header.upcoming_concert_title_more"].concat(c()(e)))}}},g=function(e,t){var n=m[t],a=function(e){try{var t;return!e.title||!e.festival&&null!==(t=e.artists)&&void 0!==t&&t.length?{artists:e.artists.map((function(e){return e.name||e.profile.name}))}:{title:e.title}}catch(e){return null}}(e);if(a){if(a.title)return a.title;if(a.artists)return a.artists.length>4?n.more(a.artists):n[a.artists.length](a.artists)}return""},d=function(e){return g(e,"row")},h=function(e){return g(e,"entity")}},70369:(e,t,n)=>{n.d(t,{$:()=>a.$});var a=n(22578)},19565:(e,t,n)=>{n.d(t,{u:()=>p});var a=n(59713),c=n.n(a),r=n(67294),o=n.n(r),l=n(94184),i=n.n(l),s=n(28760),u=n(39561),m=n(62890);const g="FvfvGU3jvHRskUU9v9_8",d="Q9AlbZn2EGzy3MTWXa8X",h="mxmxS0y8LiwSs5nueKPT",f="GXxVAveNFStY3pBI_NO4",v="eHcXC2s97InYP7rMNT0H";var p=o().memo((function(e){var t=e.children,n=e.message,a=e.title,r=e.linkTitle,l=e.linkTo,p=e.onClick,y=e.renderInline,_=void 0!==y&&y,E=(0,u.e)(),b=E.isXSOnly,L=E.isSMOnly,N=b||L;return o().createElement("section",{className:i()(g,c()({},d,_))},t,o().createElement(s.Dy,{as:"h1",variant:N?"cello":"alto",className:f},a),o().createElement(s.Dy,{variant:N?"mesto":"ballad",className:v},n),r&&(l||p)&&o().createElement(m.z,{version:"secondary",className:h,linkTo:l,onClick:p},r))}))}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map