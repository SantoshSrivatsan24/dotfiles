"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[835],{40165:(e,t,a)=>{a.r(t),a.d(t,{CollectionConcerts:()=>D,default:()=>J});var n=a(67294),c=a.n(n),o=a(65858),r=a(73012),l=a(44794),i=a(44503),s=a(70369),m=a(29255),u=a(20657),g=a(51574),d=a(42922),h=a(31595),_=a(6581),E=a(7679),L=a(18245),v=a(19565),b=a(42273),p=a(59482),f=a(72907),y=a(1663),N=a(19480);const k="FqqGmylJTvbVkjiIX2eL",C="BUGk_fxRbfJzRml1EewP",S="F9Va5nmgay71lz4V2GLN",w={Online:u.ag.get("concerts_upcoming_virtual_events"),Recommended:u.ag.get("concerts_recommended_for_you"),Popular:u.ag.get("concerts_popular_near_you"),Playlists:u.ag.get("playlists")},F=r.jN0,I=e=>{const{collection:t,concertMetadata:a,handleLocationChange:n,shouldCombineRecs:o}=e,r=(null==t?void 0:t.items)||[],l=null==t?void 0:t.isFetching,i=a.userLocation.name||u.ag.get("concerts.default_location"),s=e=>{if(!e.concerts||!e.concerts.length)return null;const t=e.concerts[0];return c().createElement(E.k,{key:t.uri,entity:t,isVirtual:o?"ONLINE"===t.category:"online"===e.source,shouldCombineRecs:o})};if(l)return c().createElement(y.h,{hasError:!1,errorMessage:u.ag.get("error.request-browse-concerts-failure")});return c().createElement("div",{className:S},c().createElement("div",{className:k,"data-testid":"location-selector"},c().createElement(L.Z,{handleLocationChange:n,locationStr:i})),(()=>{if(!r.length)return c().createElement(v.u,{title:u.ag.get("concerts.error.no_concerts_found_title"),message:u.ag.get("concerts.error.no_concerts_found_message",i)});const e=r.reduce(((e,t)=>("recommendation"===t.source?e.Recommended.push(t):"popular"===t.source?e.Popular.push(t):"online"===t.source&&e.Online.push(t),e)),{Online:[],Recommended:[],Popular:[]});return Object.keys(e).map(((t,a)=>{const n=e[t];return 0===n.length?null:c().createElement("div",{key:t,className:k},c().createElement(d.ZP,{value:"headered-grid",index:a},c().createElement(N.P,{total:n.length,title:w[t],showAll:!0},n.map(s))))}))})())},x=c().memo((()=>{const e=(0,o.I0)(),t=(0,l.W6)(i.AW),{isAnonymous:a}=(0,o.v9)(m.Gg),r=(0,o.v9)((e=>e.concerts.collection)),d=(0,o.v9)((e=>e.concerts)),E=d.userLocation.name||u.ag.get("concerts.default_location");(0,n.useEffect)((()=>{e((0,_.AJ)(null,a))}),[e,a]);const L=(0,h.Y)(F);return c().createElement("section",{className:C},c().createElement(s.$,null,`${u.ag.get("concerts_shows_in")} ${E}`),c().createElement(b.gF,{size:b.fR.SMALL,backgroundColor:F},c().createElement(b.sP,null,c().createElement(b.xd,null,u.ag.get("concerts.label"))),c().createElement(p.W,null,c().createElement(f.i,{text:u.ag.get("concerts.label")}))),c().createElement(g.I,{backgroundColor:L}),c().createElement(I,{collection:r,concertMetadata:d,handleLocationChange:t=>{t&&t.geonameId&&e((0,_.AJ)(t.geonameId,a))},shouldCombineRecs:t}))})),D=e=>c().createElement(n.Suspense,{fallback:null},c().createElement(x,e)),J=D},7679:(e,t,a)=>{a.d(t,{k:()=>N});var n=a(67294),c=a.n(n),o=a(97493),r=a(64656),l=a(96685),i=a(94880),s=a(43315),m=a(25340),u=a(67892);const g="lKqKagNqQ8VlvdFmruT3",d="Z2uK7sMMyCWb6pniuNXi",h="NIMwRV_NRJ13Vqumxn_j",_="t5KPIGEuuRNJCJOxPA1o",E="_32BBOf0wCFJBS35JKFU0",L="vdvOAp_f8lhHOp7y1BqJ",v="qHSZnGIgaXfml2KOzmbd",b="zX69m46sU0G_VEwc4Fiy",p="lKkeD_aRHPt1Sb7cc031",f="hBa5HsnSqAQj7ngrUaoq",y="WD2YMKFx0lQZSbihWLOR",N=c().memo((e=>{const{entity:t,isVirtual:a,shouldCombineRecs:n}=e,{venue:{name:N,location:{name:k}}}=t,C=t.artists[0],S=(0,m.ij)(t),w=new Date(t.date.isoString),F=a?o.q:r.K;return c().createElement(u.r,{to:`/concert/${t.id}`,className:g},C.imageUri?c().createElement(i.Z,null,c().createElement("div",{"data-testid":"image-container",className:y,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${C.imageUri})`}})):null,c().createElement("time",{className:d,dateTime:t.date.isoString},c().createElement(l.LF,{as:"h5",variant:"minuetBold",className:h},(0,m.lJ)(w)),c().createElement(l.LF,{as:"h1",variant:"canon",className:_},w.getDate())),c().createElement("div",{className:E,dir:"auto"},c().createElement(l.LF,{as:"h2",className:f,variant:"minuetBold"},(0,s.FO)(w),", ",(0,m.b8)(w)),c().createElement(l.LF,{as:"h2",variant:"cello",weight:"bold",className:L},S),c().createElement("div",{className:v},n?c().createElement(F,{className:b,"aria-label":a?"Virtual Event":"In-Person Event",iconSize:16}):null,c().createElement(l.LF,{as:"h2",className:p,variant:"mesto","data-testid":"location-name"},a?N:`${N}, ${k}`))))}))},18245:(e,t,a)=>{a.d(t,{Z:()=>f});var n=a(67294),c=a.n(n),o=a(94184),r=a.n(o),l=a(40160),i=a(86912),s=a(96685),m=a(8455),u=a(20657),g=a(98742),d=a(80624),h=a(19719),_=a(29854);const E={locationContainer:"bH2kPQ5zw1hLCwpWXGGy",locationName:"CZHxaQ5LgtirQvf9Unjx",clearSuggestions:"nPmfHJAB2cFMM9BekCcp",hide:"WmgD8cdy4nG4XBNIO7wJ",changeLocation:"dmmS1BV6JiIcwmD5oTzk",changeLocationDropdown:"n3vaiTuGhBV97WsJ6Zmk",changeLocationInputLabel:"C6NHL3DpQg1P_Kn17nRQ",changeLocationInput:"GLw2a0iCnksbb95n9Uxb",searchInputSearchIcon:"bZEIsokqSuv6PC6x9yPI",changeLocationLabel:"xvdlJPLpxB3UU8F2BDUl",icon:"ZjO209jguit9txCu59ou",changeLocationList:"nfDD3WtVxTUJoHe_XqKs",changeLocationError:"V8EzYUuVJXyfFjyw9Gyz",changeLocationLink:"yJ0x9sVyyDY_aN8Zgu4i",changeLocationItem:"o5i4vbKhh1lViFIVgOc9",button:"qDHCmOVcAjUHggyCn8D4",locationLink:"tc9UlCgbKbc9J2Jtj63x"},L="location_no_results",v="location_fetch_error",b={[L]:u.ag.get("concert.error.no_locations_found_subtitle"),[v]:u.ag.get("concert.error.general_error_title")},p=e=>{const t=c().createRef(),a=c().createRef(),[o,p]=(0,n.useState)(""),[f,y]=(0,n.useState)(-1),[N,k]=(0,n.useState)([]),[C,S]=(0,n.useState)(null),{placeholder:w,onSelectLocation:F,hideLocationSelector:I}=e,x=(0,_.D)((()=>{h.LH.fetchLocationQuery(d.b.getInstance(),o).then((e=>{const{body:{results:t=[]}={}}=e;k(t),t.length?S(null):S(L)}),(()=>{k([]),S(v)}))}))(250),D=e=>{p(e),y(-1),k([]),S(null),e&&e.length>1&&x(e)};let J=r()(E.clearSuggestions,E.hide);return(N&&N.length||C===L)&&(J=E.clearSuggestions),c().createElement("div",{className:E.changeLocation,"data-interaction-context":"location-selector"},c().createElement("div",{className:E.changeLocationDropdown,onKeyDown:e=>{const n=38,c=40,o=27,r=9,l=e.which;let i=f;switch([o,c,n,r].indexOf(l)>-1&&e.preventDefault(),l){default:return;case o:return void F(null);case n:i=Math.max(f-1,-1);break;case c:case r:i=Math.min(f+1,N.length-1);break;case 13:F(N[f])}if(i<0)t.current.focus();else{const e=a.current.childNodes[i];e&&e.focus()}y(i)},role:"searchbox",onBlur:e=>{e.relatedTarget||(D(""),I())}},c().createElement("div",{className:E.changeLocationForm},c().createElement("div",{className:E.changeLocationLabel},c().createElement(i.z,{className:E.icon,iconSize:16}),c().createElement("input",{className:E.changeLocationInput,type:"search",id:"change-location-input",placeholder:w,value:o,onChange:e=>D(e.target.value),ref:t,"aria-label":w,autoFocus:!0}),c().createElement("button",{className:J,"aria-label":u.ag.get("search.a11y.clear-input"),onClick:()=>D("")},c().createElement(g.T,{size:16})))),c().createElement("ol",{className:E.changeLocationList,ref:a},C&&c().createElement(s.LF,{as:"li",className:E.changeLocationError},c().createElement(m.Z,{iconSize:16}),b[C]),N&&N.length&&N.map(((e,t)=>c().createElement(s.LF,{as:"li",weight:"book",key:t,className:E.changeLocationItem,tabIndex:t+1},c().createElement(l.rU,{to:"#",className:E.changeLocationLink,onClick:()=>F(e),role:"button"},e.location))))||null)))},f=e=>{const{handleLocationChange:t,locationStr:a}=e,[o,r]=(0,n.useState)(!1);return c().createElement("div",{className:E.locationContainer},c().createElement(s.LF,{as:"h1",variant:"alto"},u.ag.get("concerts_shows_in")),c().createElement("span",null,o&&c().createElement(p,{placeholder:u.ag.get("concerts.input.search_placeholder"),onSelectLocation:e=>{t(e),r(!1)},hideLocationSelector:()=>r(!1)}),!o&&c().createElement(s.LF,{as:"h2",variant:"alto",className:E.locationName,dir:"auto",onClick:r,role:"button"},a)))}},25340:(e,t,a)=>{a.d(t,{Ms:()=>c,b8:()=>o,lJ:()=>r,NL:()=>l,O1:()=>i,Yl:()=>u,ij:()=>g});var n=a(20657);const c=e=>n.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),o=e=>n.ag.formatDate(e,{hour:"numeric",minute:"numeric"}),r=e=>n.ag.formatDate(e,{month:"short"}).toUpperCase(),l=e=>n.ag.formatDate(e,{month:"short",day:"numeric"}).toUpperCase(),i=e=>e<new Date,s={row:{1:e=>n.ag.get("concert.header.entity_title_1",...e),2:e=>n.ag.get("concert.header.entity_title_2",...e),3:e=>n.ag.get("concert.header.entity_title_3",...e),4:e=>n.ag.get("concert.header.entity_title_4",...e),more:e=>n.ag.get("concert.header.entity_title_more",...e)},entity:{1:e=>n.ag.get("concert.header.upcoming_concert_title_1",...e),2:e=>n.ag.get("concert.header.upcoming_concert_title_2",...e),3:e=>n.ag.get("concert.header.upcoming_concert_title_3",...e),4:e=>n.ag.get("concert.header.upcoming_concert_title_4",...e),more:e=>n.ag.get("concert.header.upcoming_concert_title_more",...e)}},m=(e,t)=>{const a=s[t],n=(e=>{try{var t;return!e.title||!e.festival&&null!==(t=e.artists)&&void 0!==t&&t.length?{artists:e.artists.map((e=>e.name||e.profile.name))}:{title:e.title}}catch(e){return null}})(e);if(n){if(n.title)return n.title;if(n.artists)return n.artists.length>4?a.more(n.artists):a[n.artists.length](n.artists)}return""},u=e=>m(e,"row"),g=e=>m(e,"entity")},70369:(e,t,a)=>{a.d(t,{$:()=>n.$});var n=a(22578)},19565:(e,t,a)=>{a.d(t,{u:()=>_});var n=a(67294),c=a.n(n),o=a(94184),r=a.n(o),l=a(96685),i=a(39561),s=a(62890);const m="FvfvGU3jvHRskUU9v9_8",u="Q9AlbZn2EGzy3MTWXa8X",g="mxmxS0y8LiwSs5nueKPT",d="GXxVAveNFStY3pBI_NO4",h="eHcXC2s97InYP7rMNT0H",_=c().memo((e=>{const{children:t,message:a,title:n,linkTitle:o,linkTo:_,onClick:E,renderInline:L=!1}=e,{isXSOnly:v,isSMOnly:b}=(0,i.e)(),p=v||b;return c().createElement("section",{className:r()(m,{[u]:L})},t,c().createElement(l.LF,{as:"h1",variant:p?"cello":"alto",className:d},n),c().createElement(l.LF,{variant:p?"mesto":"ballad",className:h},a),o&&(_||E)&&c().createElement(s.z,{version:"secondary",className:g,linkTo:_,onClick:E},o))}))}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map